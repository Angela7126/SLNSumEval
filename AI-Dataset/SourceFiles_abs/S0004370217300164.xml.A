<?xml version="1.0" encoding="utf-8"?>
<html>
 <body>
  <root>
   <title>
    Infinitary equilibrium logic and strongly equivalent logic programs.
   </title>
   <content>
    <section label="1">
     <section-title>
      Introduction
     </section-title>
     <paragraph>
      Answer set programming (ASP) is a form of declarative programming based on the stable model semantics of logic programs [1], [2], [3], [4], [5], [6], [7]. The concept of strong equivalence plays an important role in the theory of ASP. Informally speaking, two sets of rules are strongly equivalent if they have the same meaning in any context.
     </paragraph>
     <paragraph>
      Compare, for instance, the rules{a mathematical formula} and{a mathematical formula} Both rules express the idea that relation q is transitive on domain p. But in many contexts these rules do not have the same meaning: the effect of adding (1) to a logic program describing p and q is, in general, not the same as the effect of adding (2). The first rule allows us to derive new facts about q; adding it to a program turns relation q into its transitive closure. The second rule is a constraint; adding it weeds out the stable models in which q is not transitive.
     </paragraph>
     <paragraph>
      The situation is different, however, if the program to which we add rules (1) and (2) contains the choice rule{a mathematical formula} (“for any X, Y from p, decide arbitrarily whether to include {a mathematical formula}q(X,Y) in the stable model”). The set consisting of rules (1) and (3) is strongly equivalent to the set consisting of (2) and (3). Consequently, in the presence of choice rule (3), the program obtained by adding (1) has the same stable models as the program obtained by adding (2).
     </paragraph>
     <paragraph>
      According to Lifschitz et al. [8], strong equivalence is closely related to the 3-valued logic called the logic of here-and-there, which was introduced by Arend Heyting [9] long before the invention of computer programming.{sup:1} Consider the ground instances of rules (1)–(3):{a mathematical formula} ({a mathematical formula}t1,t2,t3 are arbitrary ground terms) and rewrite these ground rules as propositional combinations of ground atoms in the following way:{a mathematical formula}{a mathematical formula}{a mathematical formula} Formulas (4) and (5) are equivalent to each other in classical logic. But this fact cannot be established in the logic of here-and-there, which is weaker than classical logic. Formula (6) is a tautology; this fact cannot be established in the logic of here-and-there either. On the other hand, the equivalence between the set consisting of formulas of forms (4) and (6) and the set consisting of formulas of forms (5) and (6) can be proved even in this weaker logic. This example illustrates a general fact: two sets of rules written as propositional formulas are strongly equivalent if and only if they are equivalent in the logic of here-and-there [8, Theorem 1].
     </paragraph>
     <paragraph>
      In view of this relationship, proving strong equivalence can be often reduced to reasoning in a system of axioms and inference rules that is sound and complete with respect to the logic of here-and-there. Such formal systems have been known for a long time; see Section 5.1.
     </paragraph>
     <paragraph>
      The proof of the theorem relating strong equivalence to the logic of here-and-there is based on the characterization of stable models in terms of equilibrium logic [10]—a nonmonotonic counterpart of the logic of here-and-there.
     </paragraph>
     <paragraph>
      The statement of the theorem is not restricted to finite sets of formulas. This is important because a single rule with variables has infinitely many ground instances if we allow function symbols (or symbols for arbitrary integers) in ground terms. But some rules found in ASP programs can be represented by sets of propositional formulas only if we allow formulas themselves to be infinite; infinite sets of finite formulas do not suffice. Consider, for instance, the rule{a mathematical formula} The aggregate expression in the body means, informally speaking, that set p is empty. This rule can be thought of as an implication with an infinite conjunction in the body:{a mathematical formula} Here t ranges over ground terms. The need for infinite conjunctions and disjunctions is common when rules contain local variables, such as X in the example above. Many ASP programs, in particular many programs in the input language of the grounder gringo and its subset, the ASP Core language [11], can be represented by formulas of this type [12].
     </paragraph>
     <paragraph>
      In many cases, first-order formulas can also be used to capture the meaning of ASP programs. For example, rule (7) can be represented using the first-order formula{a mathematical formula} But possibilities of this approach are more limited. For instance, if count in (7) is replaced with sum, or 0 is replaced by a variable, the resulting rule cannot be represented using a first-order formula.
     </paragraph>
     <paragraph>
      In this paper, on the basis of the definition of a stable model for infinitary propositional formulas proposed by Miroslaw Truszczyński [13], we extend to such formulas some definitions and theorems of the theory of strong equivalence and equilibrium logic. Our goals are
     </paragraph>
     <list>
      <list-item label="(i)">
       to define the infinitary version of the logic of here-and-there,
      </list-item>
      <list-item label="(ii)">
       to define its nonmonotonic counterpart—the infinitary version of equilibrium logic,
      </list-item>
      <list-item label="(iii)">
       to verify that stable models of infinitary formulas in the sense of Truszczyński can be characterized in terms of infinitary equilibrium logic,
      </list-item>
      <list-item label="(iv)">
       to verify that infinitary propositional formulas are strongly equivalent to each other iff they are equivalent in the infinitary logic of here-and-there,
      </list-item>
      <list-item label="(v)">
       to find an axiomatization of that logic.
      </list-item>
     </list>
     <paragraph>
      We will see that achieving goals (i)–(iv) is straightforward, given the work done earlier for finite formulas. Goal (v) is more challenging.
     </paragraph>
     <paragraph>
      A preliminary version of this paper was presented at the 2015 Conference on Logic Programming and Nonmonotonic Reasoning [14]. The material in Sections 2.4 and 5.3 is new to this version.
     </paragraph>
    </section>
    <section label="2">
     <section-title>
      Stable models and equilibrium logic in the infinitary setting
     </section-title>
     <section label="2.1">
      <section-title>
       Review: infinitary formulas
      </section-title>
      <paragraph>
       Let Σ be a propositional signature, that is, a set of propositional atoms. The syntax of infinitary formulas defined by Truszczyński [13] can be described as follows. For every nonnegative integer r, (infinitary propositional) formulas (over Σ) of rank r are defined recursively, as follows:
      </paragraph>
      <list>
       <list-item label="•">
        every atom from Σ is a formula of rank 0,
       </list-item>
       <list-item label="•">
        if {a mathematical formula}H is a set of formulas, and r is the smallest nonnegative integer that is greater than the ranks of all elements of {a mathematical formula}H, then {a mathematical formula}H∧ and {a mathematical formula}H∨ are formulas of rank r,
       </list-item>
       <list-item label="•">
        if F and G are formulas, and r is the smallest nonnegative integer that is greater than the ranks of F and G, then {a mathematical formula}F→G is a formula of rank r.
       </list-item>
      </list>
      <paragraph>
       We will write {a mathematical formula}{F,G}∧ as {a mathematical formula}F∧G, and {a mathematical formula}{F,G}∨ as {a mathematical formula}F∨G. The symbols ⊤ and ⊥ will be understood as abbreviations for {a mathematical formula}∅∧ and {a mathematical formula}∅∨ respectively; ¬F stands for {a mathematical formula}F→⊥, and {a mathematical formula}F↔G stands for {a mathematical formula}(F→G)∧(G→F). These conventions allow us to view finite propositional formulas over Σ as a special case of infinitary formulas.
      </paragraph>
      <paragraph>
       A set or family of formulas is bounded if the ranks of its members are bounded from above. For any bounded family {a mathematical formula}(Fα)α∈A of formulas, we denote the formula {a mathematical formula}{Fα:α∈A}∧ by {a mathematical formula}⋀α∈AFα, and similarly for disjunctions.
      </paragraph>
      <paragraph>
       For example, if {a mathematical formula}p1,p2,… and q are atoms then each {a mathematical formula}¬pi is a formula of rank 1, {a mathematical formula}⋀i¬pi is a formula of rank 2, and{a mathematical formula} is a formula of rank 3.
      </paragraph>
      <paragraph>
       Subsets of a signature Σ will be also called interpretations of Σ. The satisfaction relation between an interpretation and a formula is defined recursively, as follows:
      </paragraph>
      <list>
       <list-item label="•">
        For every atom p from Σ, {a mathematical formula}I⊨p if {a mathematical formula}p∈I.
       </list-item>
       <list-item label="•">
        {a mathematical formula}I⊨H∧ if for every formula F in {a mathematical formula}H, {a mathematical formula}I⊨F.
       </list-item>
       <list-item label="•">
        {a mathematical formula}I⊨H∨ if there is a formula F in {a mathematical formula}H such that {a mathematical formula}I⊨F.
       </list-item>
       <list-item label="•">
        {a mathematical formula}I⊨F→G if {a mathematical formula}I⊭F or {a mathematical formula}I⊨G.
       </list-item>
      </list>
      <paragraph>
       A model of a set {a mathematical formula}H of infinitary formulas is an interpretation that satisfies all formulas in {a mathematical formula}H. A formula is tautological if it is satisfied by all interpretations.
      </paragraph>
     </section>
     <section label="2.2">
      <section-title>
       Review: stable models of infinitary formulas
      </section-title>
      <paragraph>
       Truszczyński's definition of the reduct of an infinitary formula is a straightforward extension of the definition proposed by Paolo Ferraris [15] for the finite case. The reduct{a mathematical formula}FI of a formula F with respect to an interpretation I is defined recursively:
      </paragraph>
      <list>
       <list-item label="•">
        For every atom p from Σ, {a mathematical formula}pI is p if {a mathematical formula}p∈I, and ⊥ otherwise.
       </list-item>
       <list-item label="•">
        {a mathematical formula}(H∧)I={GI|G∈H}∧.
       </list-item>
       <list-item label="•">
        {a mathematical formula}(H∨)I={GI|G∈H}∨.
       </list-item>
       <list-item label="•">
        {a mathematical formula}(G→H)I is {a mathematical formula}GI→HI if {a mathematical formula}I⊨G→H, and ⊥ otherwise.
       </list-item>
      </list>
      <paragraph>
       Let us calculate, for instance, the reduct of formula (8) with respect to the interpretation {a mathematical formula}{p1}. The reduct of {a mathematical formula}¬pi is ⊥ if {a mathematical formula}i=1 and ¬⊥ otherwise. Consequently the reduct of the antecedent of (8) is {a mathematical formula}⊥∧¬⊥, and the reduct of (8) is the tautology{a mathematical formula}
      </paragraph>
      <paragraph>
       An interpretation I is a stable model of a set {a mathematical formula}H of formulas if it is minimal with respect to set inclusion among the interpretations satisfying the reducts {a mathematical formula}FI of all formulas F from {a mathematical formula}H.
      </paragraph>
      <paragraph>
       For example, {a mathematical formula}{p1} is a stable model of the set{a mathematical formula} because {a mathematical formula}{p1} is minimal among the interpretations satisfying {a mathematical formula}p1 and (9).
      </paragraph>
     </section>
     <section label="2.3">
      <section-title>
       Infinitary logic of here-and-there
      </section-title>
      <paragraph>
       An HT-interpretation of Σ is an ordered pair {a mathematical formula}〈I,J〉 of interpretations of Σ such that {a mathematical formula}I⊆J. Intuitively, the atoms in I are true “here” (“in the world H”), and the atoms in J are true “there” (“in the world T”).
      </paragraph>
      <paragraph>
       The satisfaction relation between an HT-interpretation and a formula is defined recursively, as follows:
      </paragraph>
      <list>
       <list-item label="•">
        For every atom p from Σ, {a mathematical formula}〈I,J〉⊨p if {a mathematical formula}p∈I.
       </list-item>
       <list-item label="•">
        {a mathematical formula}〈I,J〉⊨H∧ if for every formula F in {a mathematical formula}H, {a mathematical formula}〈I,J〉⊨F.
       </list-item>
       <list-item label="•">
        {a mathematical formula}〈I,J〉⊨H∨ if there is a formula F in {a mathematical formula}H such that {a mathematical formula}〈I,J〉⊨F.
       </list-item>
       <list-item label="•">
        {a mathematical formula}〈I,J〉⊨F→G if
       </list-item>
      </list>
      <paragraph>
       An HT-model of a set {a mathematical formula}H of infinitary formulas is an HT-interpretation that satisfies all formulas in {a mathematical formula}H.
      </paragraph>
      <paragraph>
       Let us check, for instance, that the HT-interpretation {a mathematical formula}〈∅,{p}〉 satisfies the formula {a mathematical formula}¬¬p. According to the clause for implication, it is sufficient to check that {a mathematical formula}〈∅,{p}〉⊭¬p and {a mathematical formula}{p}⊨¬¬p. The second condition is obvious; to check the first, observe that {a mathematical formula}{p}⊭¬p.
      </paragraph>
      <paragraph>
       The semantics of infinitary formulas defined above can be viewed as a 3-valued semantics as follows. About a formula F we say that it is forced in the world H of an HT-interpretation {a mathematical formula}〈I,J〉 if it is satisfied by {a mathematical formula}〈I,J〉; we will say that it is forced in the world T if it is satisfied by J. The set of worlds in which F is forced will be called the truth value of F with respect to {a mathematical formula}〈I,J〉. It is easy to check by induction on the rank that every formula that is forced in H is forced in T as well. Consequently, the only possible truth values of a formula are ∅, {a mathematical formula}{T}, and {a mathematical formula}{H,T}.
      </paragraph>
     </section>
     <section label="2.4">
      <section-title>
       Negative formulas
      </section-title>
      <paragraph>
       According to Glivenko's theorem [16], every tautology that begins with negation is intuitionistically valid. Mark Nadel [17] observed that this theorem does not generalize to infinitary propositional formulas. In this section we prove a generalization of the Glivenko property for the infinitary logic of here-and-there.
      </paragraph>
      <paragraph>
       The class of negative formulas is defined recursively:
      </paragraph>
      <list>
       <list-item label="•">
        {a mathematical formula}H∧ and {a mathematical formula}H∨ are negative if every formula in {a mathematical formula}H is negative;
       </list-item>
       <list-item label="•">
        {a mathematical formula}F→G is negative if G is negative.
       </list-item>
      </list>
      <paragraph>
       It is clear, for instance, that ⊤ are ⊥ negative: these symbols stand for {a mathematical formula}∅∧ and {a mathematical formula}∅∨, respectively. It follows that all formulas of the forms ¬F and {a mathematical formula}F→¬G are negative also.
      </paragraph>
      <paragraph label="Theorem 1">
       Every negative tautological formula is satisfied by all HT-interpretations.
      </paragraph>
      <paragraph>
       This fact shows, for instance, that the infinitary De Morgan laws{a mathematical formula} are satisfied by all HT-interpretations.
      </paragraph>
      <paragraph>
       Theorem 1 is immediate from the following lemma.
      </paragraph>
      <paragraph label="Lemma 1">
       If a formula F is negative then an HT-interpretation{a mathematical formula}〈I,J〉satisfies F iff J satisfies F.
      </paragraph>
      <paragraph label="Proof">
       The only-if part holds for all formulas, not only those that are negative. We will prove the if part by induction on the definition of negative formulas. The case of {a mathematical formula}H∧ and {a mathematical formula}H∨ is straightforward. Assume that {a mathematical formula}J⊨F→G and G is negative. We need to check that{a mathematical formula} If {a mathematical formula}J⊭F then {a mathematical formula}〈I,J〉⊭F. Otherwise {a mathematical formula}J⊨G and by the induction hypothesis it follows that {a mathematical formula}〈I,J〉⊨G.
      </paragraph>
     </section>
     <section label="2.5">
      <section-title>
       Equilibrium models of infinitary formulas
      </section-title>
      <paragraph>
       An HT-interpretation {a mathematical formula}〈I,J〉 is total if {a mathematical formula}I=J. It is clear that a total HT-interpretation {a mathematical formula}〈J,J〉 satisfies F iff J satisfies F.
      </paragraph>
      <paragraph>
       An equilibrium model of a set {a mathematical formula}H of infinitary formulas is a total HT-model {a mathematical formula}〈J,J〉 of {a mathematical formula}H such that for every proper subset I of J, {a mathematical formula}〈I,J〉 is not an HT-model of {a mathematical formula}H.
      </paragraph>
      <paragraph>
       The following proposition is similar to Theorem 1 from [15].
      </paragraph>
      <paragraph label="Theorem 2">
       An interpretation J is a stable model of a set{a mathematical formula}Hof infinitary formulas iff{a mathematical formula}〈J,J〉is an equilibrium model of{a mathematical formula}H.
      </paragraph>
      <paragraph>
       For example, {a mathematical formula}〈{p1},{p1}〉 is an equilibrium model of (10). Indeed, the interpretation {a mathematical formula}{p1} satisfies both formulas from (10), and the HT-interpretation {a mathematical formula}〈∅,{p1}〉 does not satisfy the first of them.
      </paragraph>
      <paragraph label="Lemma 2">
       For any infinitary formula F and any HT-interpretation{a mathematical formula}〈I,J〉,{a mathematical formula}
      </paragraph>
      <paragraph>
       The lemma can be proved by strong induction on the rank of F.
      </paragraph>
      <paragraph label="Proof of Theorem 2">
       It follows from the lemma that a total HT-interpretation {a mathematical formula}〈J,J〉 is an equilibrium model of {a mathematical formula}H iff
      </paragraph>
      <list>
       <list-item label="•">
        J satisfies all formulas from {a mathematical formula}H, and
       </list-item>
       <list-item label="•">
        there is no proper subset I of J such that I satisfies the reducts {a mathematical formula}FJ of all formulas F from {a mathematical formula}H.
       </list-item>
      </list>
     </section>
    </section>
    <section label="3">
     <section-title>
      Strong equivalence in the infinitary setting
     </section-title>
     <section label="3.1">
      <section-title>
       Strong equivalence and HT-models
      </section-title>
      <paragraph>
       About sets {a mathematical formula}H1, {a mathematical formula}H2 of infinitary formulas we say that they are strongly equivalent to each other if, for every set {a mathematical formula}H of infinitary formulas, the sets {a mathematical formula}H1∪H and {a mathematical formula}H2∪H have the same stable models. About formulas F and G we say that they are strongly equivalent if the singleton sets {a mathematical formula}{F} and {a mathematical formula}{G} are strongly equivalent.
      </paragraph>
      <paragraph>
       A unary formula is an atom or a formula of the form {a mathematical formula}p→q, where p and q are atoms. The following theorem is similar to the main theorem from [8].
      </paragraph>
      <paragraph label="Theorem 3">
       For any sets{a mathematical formula}H1,{a mathematical formula}H2of infinitary formulas, the following conditions are equivalent:
      </paragraph>
      <list>
       <list-item>
        {a mathematical formula}H1is strongly equivalent to{a mathematical formula}H2,
       </list-item>
       <list-item>
        for every set{a mathematical formula}Hof unary formulas, sets{a mathematical formula}H1∪Hand{a mathematical formula}H2∪Hhave the same stable models;
       </list-item>
       <list-item>
        sets{a mathematical formula}H1and{a mathematical formula}H2have the same HT-models.
       </list-item>
      </list>
      <paragraph>
       For instance, the formulas {a mathematical formula}F∨¬F and {a mathematical formula}¬¬F→F, where F is an arbitrary infinitary formula, are strongly equivalent to each other. Indeed, an HT-interpretation does not satisfy {a mathematical formula}F∨¬F iff the truth value of F with respect to that interpretation is {a mathematical formula}{T}, and the same holds for {a mathematical formula}¬¬F→F.
      </paragraph>
      <paragraph label="Proof of Theorem 3">
       Clearly, (i) implies (ii). To see that (iii) implies (i), observe that if sets {a mathematical formula}H1 and {a mathematical formula}H2 have the same HT-models then {a mathematical formula}H1∪H and {a mathematical formula}H2∪H have the same HT-models, and consequently have the same equilibrium models. It follows by Theorem 2 that {a mathematical formula}H1∪H and {a mathematical formula}H2∪H have the same stable models.It remains to check that (ii) implies (iii). Suppose {a mathematical formula}〈I,J〉 is an HT-model of {a mathematical formula}H1 but not an HT-model of {a mathematical formula}H2. We will show how to find a set {a mathematical formula}H of unary formulas such that {a mathematical formula}〈J,J〉 is an equilibrium model of one of the sets {a mathematical formula}H1∪H,H2∪H but not the other. It will follow that the interpretation J is a stable model of one but not the other.Case 1:{a mathematical formula}〈J,J〉 is not an HT-model of {a mathematical formula}H2. Since {a mathematical formula}〈I,J〉 is an HT-model of {a mathematical formula}H1, it is easy to see that {a mathematical formula}〈J,J〉 must be an HT-model of {a mathematical formula}H1 as well. Then we can take {a mathematical formula}H=J. Indeed, it is clear that {a mathematical formula}〈J,J〉 is an HT-model of {a mathematical formula}H1∪J. Furthermore, for any I that is a proper subset of J, {a mathematical formula}〈I,J〉 cannot be an HT-model of {a mathematical formula}H1∪J, so that {a mathematical formula}〈J,J〉 is an equilibrium model of {a mathematical formula}H1∪J. On the other hand, since {a mathematical formula}〈J,J〉 is not a HT-model of {a mathematical formula}H2, it cannot be an HT-model of {a mathematical formula}H2∪J.Case 2:{a mathematical formula}〈J,J〉 is an HT-model of {a mathematical formula}H2. Let {a mathematical formula}H be the set{a mathematical formula} Since {a mathematical formula}〈J,J〉 satisfies every formula in {a mathematical formula}H, it is an HT-model of {a mathematical formula}H2∪H. To see that it is an equilibrium model, consider any HT-model {a mathematical formula}〈K,J〉 of {a mathematical formula}H2∪H. Clearly, K must contain I. But it cannot be equal to I, since {a mathematical formula}〈I,J〉 is not an HT-model of {a mathematical formula}H2. Thus {a mathematical formula}I⊂K⊂J. Consider an atom p in {a mathematical formula}K∖I and an atom q in {a mathematical formula}J∖K. For these atoms, {a mathematical formula}p→q belongs to {a mathematical formula}H. But {a mathematical formula}〈K,J〉 does not satisfy this implication, contrary to the assumption that it is an HT-model of {a mathematical formula}H2∪H. We may conclude that {a mathematical formula}〈J,J〉 is an equilibrium model of {a mathematical formula}H2∪H. Finally, we will check that {a mathematical formula}〈J,J〉 is not an equilibrium model of {a mathematical formula}H1∪H. Consider the HT-model {a mathematical formula}〈I,J〉 of {a mathematical formula}H1. Clearly, it is an HT-model of I. Moreover, it satisfies each implication {a mathematical formula}p→q in {a mathematical formula}H: {a mathematical formula}〈I,J〉 does not satisfy p because {a mathematical formula}p∉I, and J satisfies q because {a mathematical formula}q∈J. We see that {a mathematical formula}〈I,J〉 satisfies all formulas in {a mathematical formula}H, so that it is an HT-model of {a mathematical formula}H1∪H. Furthermore, I is different from J since {a mathematical formula}〈J,J〉 is an HT-model of {a mathematical formula}H2 and {a mathematical formula}〈I,J〉 is not. Consequently, I is a proper subset of J, and we may conclude that {a mathematical formula}〈J,J〉 is not an equilibrium model of {a mathematical formula}H1∪H.
      </paragraph>
     </section>
     <section label="3.2">
      <section-title>
       Substitutions
      </section-title>
      <paragraph>
       A part of any formula can be replaced with a strongly equivalent formula without changing the set of stable models. For instance, it is easy to check that the formulas {a mathematical formula}p∧¬p and ⊥ are strongly equivalent to each other; it follows that the formulas{a mathematical formula} have the same stable models. Corollary 1 below expresses a more general fact: several parts (even infinitely many) can be simultaneously replaced by strongly equivalent formulas. Its statement uses the following definitions, based on Harrison et al. [18].
      </paragraph>
      <paragraph>
       Let Σ and {a mathematical formula}Σ′ be propositional signatures. A substitution (from{a mathematical formula}Σ′to Σ) is a function ϕ that maps each atom from {a mathematical formula}Σ′ to an infinitary formula over Σ, such that the range of ϕ is bounded. A substitution is extended from the atoms of {a mathematical formula}Σ′ to arbitrary infinitary formulas over {a mathematical formula}Σ′ as follows:
      </paragraph>
      <list>
       <list-item label="•">
        If F is {a mathematical formula}H∧ then {a mathematical formula}ϕF={ϕG|G∈H}∧.
       </list-item>
       <list-item label="•">
        If F is {a mathematical formula}H∨ then {a mathematical formula}ϕF={ϕG|G∈H}∨.
       </list-item>
       <list-item label="•">
        If F is {a mathematical formula}G→H then {a mathematical formula}ϕF=ϕG→ϕH.
       </list-item>
      </list>
      <paragraph>
       Consider, for instance, a pair of formulas (11) of a signature Σ. Let {a mathematical formula}Σ′ be {a mathematical formula}Σ∪{r}, where r is a new atom. If ϕ is the function that maps r to {a mathematical formula}p∧¬p and all other atoms to themselves, and ψ is the function that maps r to ⊥ and all other atoms to themselves, then the formulas (11) are {a mathematical formula}ϕ(F∧(q→r)) and {a mathematical formula}ψ(F∧(q→r)).
      </paragraph>
      <paragraph label="Corollary 1">
       Let ϕ and ψ be substitutions from{a mathematical formula}Σ′to Σ such that for all{a mathematical formula}p∈Σ′, ϕp is strongly equivalent to ψp. Then for any formula F over{a mathematical formula}Σ′, ϕF is strongly equivalent to ψF, so that ϕF and ψF have the same stable models.
      </paragraph>
      <paragraph label="Proof">
       By Theorem 3, the assertion of the corollary can be stated as follows: if for all {a mathematical formula}p∈Σ′, ϕp and ψp are satisfied by the same HT-interpretations, then for any formula F over {a mathematical formula}Σ′, ϕF and ψF are satisfied by the same HT-interpretations. This is easy to check by induction on the rank of F.
      </paragraph>
     </section>
    </section>
    <section label="4">
     <section-title>
      Axiomatization of the infinitary logic of here-and-there
     </section-title>
     <paragraph>
      We will first discuss the easier problem of axiomatizing classical infinitary logic [19], [18, Remark 4].
     </paragraph>
     <section label="4.1">
      <section-title>
       Review: axioms and inference rules for classical infinitary logic
      </section-title>
      <paragraph>
       The derivable objects in the deductive system {a mathematical formula}C∞ are (infinitary) sequents—expressions of the form {a mathematical formula}Γ⇒F, where F is an infinitary formula, and Γ is a finite set of infinitary formulas (“F under assumptions Γ”). To simplify notation, we will write Γ as a list. We will identify a sequent of the form ⇒F with the formula F.
      </paragraph>
      <paragraph>
       The inference rules are the introduction and elimination rules for the propositional connectives and the weakening rule, as shown in Table 1.
      </paragraph>
      <paragraph>
       The axiom schemas of {a mathematical formula}C∞ are{a mathematical formula} and{a mathematical formula} where {a mathematical formula}{Fα}α∈A is a non-empty bounded family of formulas. The latter generalizes the law of the excluded middle: if {a mathematical formula}A={1} then (12) becomes{a mathematical formula} The need for this generalization is discussed in Section 5.3. The set of theorems of{a mathematical formula}C∞ is the smallest set of sequents that includes the axioms of the system and is closed under the application of its inference rules.
      </paragraph>
      <paragraph>
       System {a mathematical formula}C∞ is sound and complete:
      </paragraph>
      <paragraph label="Theorem 4">
       An infinitary formula is a theorem of{a mathematical formula}C∞iff it is tautological.
      </paragraph>
      <paragraph>
       The soundness part is straightforward. The proof of completeness, outlined in [18, Footnote 4], is analogous to the proof of completeness for the finite case due to László Kalmár [20]. It can be presented using the following notation: for any interpretation I, {a mathematical formula}MI stands for the set{a mathematical formula} It is easy to check by induction that for any formula F, {a mathematical formula}MI∧→F is a theorem of {a mathematical formula}C∞ if I satisfies F, and {a mathematical formula}MI∧→¬F is a theorem of {a mathematical formula}C∞ otherwise. In particular, if F is tautological then {a mathematical formula}MI∧→F is a theorem of {a mathematical formula}C∞ for any interpretation I. On the other hand, the disjunction of the formulas {a mathematical formula}MI∧ over all interpretations I is an instance of axioms schema (12): take {a mathematical formula}{Fα}α∈A to be the family of all atoms. It follows that every tautological formula is a theorem.
      </paragraph>
     </section>
     <section label="4.2">
      <section-title>
       Axioms and inference rules for the infinitary logic of here-and-there
      </section-title>
      <paragraph>
       The infinitary deductive system HT{sup:∞} is obtained from {a mathematical formula}C∞ by replacing the generalized law of the excluded middle (12) with two axiom schemas:{a mathematical formula} and{a mathematical formula} for every non-empty family {a mathematical formula}(Hα)α∈A of sets of formulas such that its union is bounded; the disjunction in the consequent of (14) extends over all elements {a mathematical formula}(Fα)α∈A of the Cartesian product of the family {a mathematical formula}(Hα)α∈A. Axiom schema (14) generalizes one direction of the distributivity of conjunction over disjunction to infinitary formulas: if {a mathematical formula}A={1,2}, {a mathematical formula}H1={F1,G1}, and {a mathematical formula}H2={F2,G2}, then (14) turns into{a mathematical formula}
      </paragraph>
      <paragraph>
       We say that formulas F and G are equivalent in{a mathematical formula}HT∞ if {a mathematical formula}F↔G is a theorem of {a mathematical formula}HT∞.
      </paragraph>
      <paragraph>
       The following theorem expresses the soundness and completeness of {a mathematical formula}HT∞.
      </paragraph>
      <paragraph label="Theorem 5">
       An infinitary formula is a theorem of{a mathematical formula}HT∞iff it is satisfied by all HT-interpretations.
      </paragraph>
      <paragraph>
       The proof is given in Section 4.3.
      </paragraph>
      <paragraph>
       From Theorem 3, Theorem 5 we conclude:
      </paragraph>
      <paragraph label="Corollary 2">
       Bounded sets{a mathematical formula}H1,{a mathematical formula}H2of infinitary formulas are strongly equivalent iff{a mathematical formula}H1∧is equivalent to{a mathematical formula}H2∧in{a mathematical formula}HT∞.
      </paragraph>
     </section>
     <section label="4.3">
      Proof of Theorem 5
      <paragraph>
       The proof applies the idea of the proof of Theorem 4 above to the 3-valued case. Soundness is straightforward. The proof of completeness uses the following construction, due to Pedro Cabalar and Paolo Ferraris [21, Section 5]: for any HT-interpretation {a mathematical formula}〈I,J〉, {a mathematical formula}MIJ stands for{a mathematical formula} By {a mathematical formula}vIJ(F) we denote the truth value of F with respect to {a mathematical formula}〈I,J〉 (see Section 2.3). We will omit the subscripts {a mathematical formula}I,J in {a mathematical formula}MIJ and {a mathematical formula}vIJ(F) when it is clear which HT-interpretation we refer to.
      </paragraph>
      <paragraph label="Lemma 3">
       For any infinitary formula F and HT-interpretation{a mathematical formula}〈I,J〉,
      </paragraph>
      <list>
       <list-item>
        if{a mathematical formula}v(F)=∅then{a mathematical formula}M∧⇒¬Fis a theorem of{a mathematical formula}HT∞;
       </list-item>
       <list-item>
        if{a mathematical formula}v(F)={T}then for every atom q in{a mathematical formula}J∖I,{a mathematical formula}M∧⇒F↔qis a theorem of{a mathematical formula}HT∞;
       </list-item>
       <list-item>
        if{a mathematical formula}v(F)={H,T}then{a mathematical formula}M∧⇒Fis a theorem of{a mathematical formula}HT∞.
       </list-item>
      </list>
      <paragraph label="Proof">
       We will prove the claim by strong induction on the rank of F. We assume the claim holds for all formulas with rank less than n and show that it holds for a formula F of rank n. We consider cases corresponding to the different possible forms of F and truth values {a mathematical formula}v(F). Note that if {a mathematical formula}v(F) is {a mathematical formula}{T} then the set {a mathematical formula}J∖I is non-empty. Indeed, if {a mathematical formula}I=J then the truth value of any formula is either ∅ or {a mathematical formula}{H,T}.Case 1: F is an atom.Case 1.1:{a mathematical formula}v(F)=∅. Then {a mathematical formula}F∈Σ∖J, and {a mathematical formula}¬F∈M.Case 1.2:{a mathematical formula}v(F)={T}. Then {a mathematical formula}F∈J∖I, and for every atom q in {a mathematical formula}J∖I, the implications {a mathematical formula}F→q and {a mathematical formula}q→F are in M.Case 1.3:{a mathematical formula}v(F)={H,T}. Then {a mathematical formula}F∈M.Case 2: F is of the form {a mathematical formula}H∧. The induction hypothesis is then applicable to all formulas in {a mathematical formula}H.Case 2.1:{a mathematical formula}v(F)=∅. Then there exists a formula G in {a mathematical formula}H such that {a mathematical formula}v(G) is ∅. By the induction hypothesis, {a mathematical formula}M∧⇒¬G is a theorem of {a mathematical formula}HT∞. From this we can derive {a mathematical formula}M∧⇒¬(H∧).Case 2.2:{a mathematical formula}v(F)={T}. Let {a mathematical formula}H1 be the set of all formulas in {a mathematical formula}H with truth value {a mathematical formula}{T}, and {a mathematical formula}H2 be the set of all formulas in {a mathematical formula}H with truth value {a mathematical formula}{H,T}. It is clear that {a mathematical formula}H1∪H2=H and that {a mathematical formula}H1 is non-empty. Consider an arbitrary element q of {a mathematical formula}J∖I. By the induction hypothesis {a mathematical formula}M∧⇒G↔q is a theorem for every G in {a mathematical formula}H1, and {a mathematical formula}M∧⇒G is a theorem for every G in {a mathematical formula}H2. From these we can derive {a mathematical formula}M∧⇒H1∧↔q and {a mathematical formula}M∧⇒H2∧. Then we can derive {a mathematical formula}M∧⇒H∧↔q.Case 2.3:{a mathematical formula}v(F)={H,T}. Then for each element G in {a mathematical formula}H,v(G)={H,T}, and by the induction hypothesis {a mathematical formula}M∧⇒G is a theorem. From these sequents we can derive {a mathematical formula}M∧⇒H∧.Case 3: F is of the form {a mathematical formula}H∨. The induction hypothesis is then applicable to all formulas in {a mathematical formula}H.Case 3.1:{a mathematical formula}v(F)=∅. Then for each element G in {a mathematical formula}H,v(G)=∅, and by the induction hypothesis {a mathematical formula}M∧⇒¬G is a theorem. From these sequents we can derive {a mathematical formula}M∧⇒¬(H∨).Case 3.2:{a mathematical formula}v(F)={T}. Let {a mathematical formula}H1 be the set of all formulas in {a mathematical formula}H with truth value {a mathematical formula}{T}, and {a mathematical formula}H2 be the set of all formulas in {a mathematical formula}H with truth value ∅. It is clear that {a mathematical formula}H1∪H2=H and that {a mathematical formula}H1 is non-empty. Consider an arbitrary element q of {a mathematical formula}J∖I. By the induction hypothesis {a mathematical formula}M∧⇒G↔q is a theorem for every G in {a mathematical formula}H1, and {a mathematical formula}M∧⇒¬G is a theorem for every G in {a mathematical formula}H2. From these we can derive {a mathematical formula}M∧⇒H1∨↔q and {a mathematical formula}M∧⇒¬(H2∨). Then we can derive {a mathematical formula}M∧⇒H∨↔q.Case 3.3:{a mathematical formula}v(F)={H,T}. Then there exists a formula G in {a mathematical formula}H such that {a mathematical formula}v(G) is {a mathematical formula}{H,T}. By the induction hypothesis, {a mathematical formula}M∧⇒G is a theorem. From this we can derive {a mathematical formula}M∧⇒H∨.Case 4: F is of the form {a mathematical formula}F1→F2. The induction hypothesis is then applicable to {a mathematical formula}F1 and {a mathematical formula}F2.Case 4.1:{a mathematical formula}v(F)=∅. Then {a mathematical formula}v(F1) is non-empty and {a mathematical formula}v(F2) is empty.Case 4.1.1:{a mathematical formula}v(F1)={T}. By the induction hypothesis {a mathematical formula}M∧⇒¬F2 is a theorem, as is {a mathematical formula}M∧⇒F1↔q for any q in {a mathematical formula}J∖I. Consider an atom q in {a mathematical formula}J∖I. By the construction of M, we know that {a mathematical formula}¬¬q is an element of M. From the sequents {a mathematical formula}M∧⇒F1↔q, {a mathematical formula}M∧⇒¬F2, and {a mathematical formula}M∧⇒¬¬q, we can derive {a mathematical formula}M∧⇒¬(F1→F2).Case 4.1.2:{a mathematical formula}v(F1)={H,T}. By the induction hypothesis, both {a mathematical formula}M∧⇒F1 and {a mathematical formula}M∧⇒¬F2 are theorems. From these sequents we can derive {a mathematical formula}M∧⇒¬(F1→F2).Case 4.2:{a mathematical formula}v(F)={T}. Then {a mathematical formula}v(F1)={H,T} and {a mathematical formula}v(F2)={T}. By the induction hypothesis {a mathematical formula}M∧⇒F2↔q is a theorem for any {a mathematical formula}q∈J∖I, and {a mathematical formula}M∧⇒F1 is a theorem as well. From these two sequents we can derive {a mathematical formula}M∧⇒(F1→F2)↔q.Case 4.3:{a mathematical formula}v(F)={H,T}.Case 4.3.1:{a mathematical formula}v(F1)=∅. Then by the induction hypothesis {a mathematical formula}M∧⇒¬F1 is a theorem. From this we can derive {a mathematical formula}M∧⇒F1→F2.Case 4.3.2:{a mathematical formula}v(F2)={H,T}. Then by the induction hypothesis {a mathematical formula}M∧⇒F2 is a theorem. From this we can derive {a mathematical formula}M∧⇒F1→F2.Case 4.3.3:{a mathematical formula}v(F1)≠∅ and {a mathematical formula}v(F2)≠{H,T}. Since {a mathematical formula}v(F) is {a mathematical formula}{H,T}, {a mathematical formula}v(F1) is different from {a mathematical formula}{H,T} and therefore must be equal to {a mathematical formula}{T}. It follows that {a mathematical formula}v(F2) is different from ∅, and therefore must be {a mathematical formula}{T} also. Consider an element q in {a mathematical formula}J∖I. By the induction hypothesis both {a mathematical formula}M∧⇒F1↔q and {a mathematical formula}M∧⇒F2↔q are theorems. From these two sequents we can derive {a mathematical formula}M∧⇒F1→F2.
      </paragraph>
      <paragraph>
       Note that in the proof of the lemma we did not refer to axiom schemas (13) and (14); the assertion of the lemma would hold even if those axioms were removed from {a mathematical formula}HT∞.
      </paragraph>
      <paragraph label="Lemma 4">
       The disjunction of the formulas{a mathematical formula}MIJ∧over all HT-interpretations{a mathematical formula}〈I,J〉is a theorem of{a mathematical formula}HT∞.
      </paragraph>
      <paragraph label="Proof">
       Let Q stand for the set of disjunctions{a mathematical formula}{a mathematical formula} for all {a mathematical formula}p,q from Σ. Formulas of the form (16) are instances of the “weak law of excluded middle”, and it is easy to verify that they (like formulas (15)) are theorems of {a mathematical formula}HT∞. Let {a mathematical formula}(HD)D∈Q be the following family of sets:{a mathematical formula} Then the formula{a mathematical formula} (where the disjunction in the consequent extends over all elements {a mathematical formula}(SD)D∈Q of the Cartesian product of the family {a mathematical formula}(HD)D∈Q) is an instance of axiom schema (14). Since the antecedent of this implication is the conjunction of all formulas in Q, it is a theorem of {a mathematical formula}HT∞. It follows that the consequent is a theorem as well. To complete the proof it is sufficient to show that for every disjunctive term{a mathematical formula} of the consequent there exists an HT-interpretation {a mathematical formula}〈I,J〉 such that the sequent{a mathematical formula} is a theorem.Consider one of the conjunctions (17), and let C be set of its conjunctive terms. The elements of C are formulas of the forms{a mathematical formula} If C contains both a formula and its negation then (18) is a theorem for every {a mathematical formula}〈I,J〉. Otherwise, let I denote the set of all atoms in C, and J denote the set of all atoms p such that {a mathematical formula}¬¬p is in C. Let us check that {a mathematical formula}I⊆J. Assume {a mathematical formula}p∈I so that {a mathematical formula}p∈C. Since C is consistent, it does not contain ¬p, and since it contains a term from each disjunction (16), it contains {a mathematical formula}¬¬p. So {a mathematical formula}〈I,J〉 is an HT-interpretation.We will show that every formula from {a mathematical formula}MIJ belongs to C. By the choice of I, {a mathematical formula}I⊆C. By the choice of J, {a mathematical formula}{¬¬p|p∈J}⊆C. Consequently {a mathematical formula}{¬p|p∈Σ∖J}⊆C, because C contains one term from each disjunction (16). Finally, we need to check that {a mathematical formula}{p→q|p,q∈J∖I}⊆C. Consider a pair of atoms {a mathematical formula}p,q that occur in J but not in I. By the choice of I, p is not in C, and by the choice of J, ¬q is not in C. Since C contains one term from each of the disjunctions (15) and contains neither p nor ¬q, C must contain {a mathematical formula}p→q.
      </paragraph>
      <paragraph label="Proof of completeness">
       Let F be an infinitary formula over signature Σ that is satisfied by all HT-interpretations of Σ. By Lemma 3(iii), {a mathematical formula}MIJ⇒F is a theorem of {a mathematical formula}HT∞ for all HT-interpretations {a mathematical formula}〈I,J〉. By Lemma 4, it follows that F is a theorem also.
      </paragraph>
      <paragraph>
       It is clear from the proof that {a mathematical formula}HT∞ will remain complete if we require that formulas F and G in axiom schema (13) be literals and that the sets {a mathematical formula}Hi in axiom schema (14) be finite.
      </paragraph>
     </section>
    </section>
    <section label="5">
     <section-title>
      Related work
     </section-title>
     <section label="5.1">
      <section-title>
       Axiomatizations of the logic of here-and-there
      </section-title>
      <paragraph>
       The first axiomatization of the logic of here-and-there was given without proof by Jan Łukasiewicz [22]: add the axiom schema{a mathematical formula} to propositional intuitionistic logic. This axiomatization was rediscovered and proved complete by Ivo Thomas [23]. (In the notation of that paper, schema (19) is {a mathematical formula}32″.) The simpler axiom schema (13) was proposed by Toshio Umezawa [24], and the completeness of the system obtained by adding that schema to intuitionistic logic was proved by Tsutomu Hosoi [25].
      </paragraph>
     </section>
     <section label="5.2">
      <section-title>
       Early work on infinitary formulas
      </section-title>
      <paragraph>
       Truszczyński's definition of an infinitary propositional formula reviewed in Section 2.1 differs from the syntax of infinitary formulas defined by Dana Scott and Alfred Tarski [19] and Carol Karp [26] in two ways. On the one hand, it is more restrictive, because it requires the ranks of formulas to be finite, and forming the conjunction or disjunction of a set of formulas is allowed only if the set is bounded. On the other hand, it does not restrict the cardinality of this set. Let ξ be the cardinality of the underlying infinite signature. Then we can form {a mathematical formula}2ξ formulas of rank 1. A conjunction of rank 2 can have up to {a mathematical formula}2ξ conjunctive terms, so that we can form up to {a mathematical formula}22ξ formulas of rank 2. And so forth. In the infinitary languages introduced in earlier publications, the set of conjunctive and disjunctive terms was required to be countable or, more generally, restricted by a fixed cardinal number.
      </paragraph>
      <paragraph>
       Interest in countable conjunctions and disjunctions in research on infinitary logic is related to the connection between that work and the use of algebraic methods in logic [27]. Any Boolean algebra can be viewed as the set of truth values that can be assigned to propositional atoms. The truth value of a finite formula is calculated by interpreting conjunction, disjunction, and negation as meet, join, and complement. Deductive systems of classical propositional logic are sound with respect to this semantics in the sense that for any Boolean algebra and any assignment of truth values from that algebra to atoms, all provable formulas get the value 1. Algebraic semantics can be extended to propositional formulas with countable conjunctions and disjunctions if the Boolean algebras are required to be σ-complete (every countable subset has a meet and a join). Thus restricting the cardinality of the set of terms in conjunctions and disjunctions is parallel to the completeness conditions studied in the theory of Boolean algebras.
      </paragraph>
      <paragraph>
       In applications of infinitary formulas to the theory of ASP uncountable conjunctions play an essential role. The formula τE, proposed in [12, Section 4.7] as the representation of an aggregate expression E, is generally an uncountable conjunction.
      </paragraph>
     </section>
     <section label="5.3">
      <section-title>
       Independence of the generalized excluded middle
      </section-title>
      <paragraph>
       Replacing the axiom schema (12) by the law of the excluded middle {a mathematical formula}F∨¬F would make {a mathematical formula}C∞ incomplete. This fact is stated without proof by Scott and Tarski [19] (for a Hilbert-style formulation), and it can be proved as follows.
      </paragraph>
      <paragraph>
       Consider the instance of (12) in which {a mathematical formula}{Fα}α∈A is a sequence of distinct atoms:{a mathematical formula} Let L be the Boolean algebra of Lebesgue measurable subsets of {a mathematical formula}[0,1), and let M be the σ-ideal of elements of measure 0. The quotient algebra {a mathematical formula}L/M is complete [28, Corollary 31.1] and consequently provides a semantics for infinitary propositional formulas. The modified system is sound for this semantics. For every positive integer i, let {a mathematical formula}Xi be the set of real numbers x from {a mathematical formula}[0,1) such that the i-th digit in the binary representation of x is 1. Choose the equivalence class of {a mathematical formula}Xi in the quotient set {a mathematical formula}L/M as the truth value assigned to the atom {a mathematical formula}pi. Then the truth value of each disjunctive term of (20) is 0. Indeed, for every set B of positive integers, the set{a mathematical formula} is a singleton (its only element is the number x such that the i-th digit in its binary representation is 1 iff {a mathematical formula}i∈B), and singletons are sets of measure 0. Consequently the truth value of (20) is 0 as well. It follows that this formula is not a theorem.
      </paragraph>
      <paragraph>
       Independence problems of this kind are discussed also by Carol Karp [26].
      </paragraph>
     </section>
     <section label="5.4">
      <section-title>
       Infinitary deductive systems
      </section-title>
      <paragraph>
       All axioms and inference rules of {a mathematical formula}HT∞ are included in the “extended system of natural deduction” for infinitary formulas [18]. From the results presented above it is clear that the other axioms of the extended system are redundant. The infinitary De Morgan law{a mathematical formula} is one of these redundant axioms. The fact that this formula is a theorem of {a mathematical formula}HT∞ is proved directly, without a reference to the general completeness theorem, in the preliminary version of this article [14, Section 8].
      </paragraph>
      <paragraph>
       In the infinitary deductive systems {a mathematical formula}C∞ and {a mathematical formula}HT∞ the set of theorems is defined in terms of closure under a set of inference rules; there is no definition of a proof. Accordingly, to justify the claim that a certain formula is a theorem, we need to show that it belongs to every set that includes all axioms and is closed under the inference rules. Such arguments can be represented in a concise form, without mentioning closure under inference rules explicitly [18, Section 3].
      </paragraph>
      <paragraph>
       It is possible to reformulate the definition of a theorem in an infinitary system in terms of proofs, but such proofs will consist generally of infinitely many formulas, since some inference rules have infinitely many premises. In formalized mathematics, proofs are useful in that they are finite syntactic objects that can establish the validity of assertions about infinite domains. “Infinite proofs”, on the other hand, do not have this property [29]. The note quoted above defines a correspondence between the validity of infinitary formulas in the logic of here-and-there and the provability of formulas in some finite deductive systems. On the basis of that correspondence, finite proofs can be sometimes used to justify the validity of infinitary formulas.
      </paragraph>
     </section>
    </section>
    <section label="6">
     <section-title>
      Conclusion
     </section-title>
     <paragraph>
      Under the stable model semantics, two sets of propositional formulas are strongly equivalent if and only if they are equivalent in the logic of here-and-there. The proof of this theorem uses equilibrium logic. In this paper, we extended equilibrium logic to infinitary formulas; we defined an infinitary counterpart to the logic of here-and-there and introduced an axiomatization, {a mathematical formula}HT∞, of that system; finally, we showed that bounded sets of infinitary propositional formulas are strongly equivalent if and only if they are equivalent in {a mathematical formula}HT∞.
     </paragraph>
     <paragraph>
      Gebser et al. [12, Section 5] used strong equivalence of infinitary formulas to state several useful properties of aggregate expressions. We expect that this concept will find other applications to the theory of answer set programming.
     </paragraph>
    </section>
   </content>
  </root>
 </body>
</html>