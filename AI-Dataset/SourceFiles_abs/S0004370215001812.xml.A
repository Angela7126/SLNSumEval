<?xml version="1.0" encoding="utf-8"?>
<html>
 <body>
  <root>
   <title>
    Characteristic function games with restricted agent interactions: Core-stability and coalition structures.
   </title>
   <content>
    <section label="1">
     <section-title>
      Introduction
     </section-title>
     <section label="1.1">
      <section-title>
       Coalitional games and interaction graphs
      </section-title>
      <paragraph>
       Cooperative game theory aims to provide models of cooperation among interacting agents. One of the prevalent classes of games used within this framework is the class of characteristic function games. A characteristic function game (CFG) is defined over a set {a mathematical formula}N={1,…,n} of agents and is determined by a payoff function{a mathematical formula}v:2N↦R, such that, for each coalition C, i.e., for any non-empty set {a mathematical formula}C⊆N of agents, the value {a mathematical formula}v(C) expresses the payoff that the members of C can jointly achieve by cooperating among themselves [1], [2]. The outcome is an allocation, i.e., a payoff vector {a mathematical formula}x=〈x1,…,xn〉∈Rn assigning some payoff to each agent {a mathematical formula}i∈N. Characteristic function games are also known as coalitional games with transferable utility, as it is assumed that the agents forming a coalition C can distribute the payoff {a mathematical formula}v(C) among themselves in any way. The question of interest for such games, is to identify desirable (e.g., fair and stable) outcomes in terms of worth distributions, which are called solution concepts.
      </paragraph>
      <paragraph>
       Characteristic function games provide a rich framework for understanding and reasoning about cooperative actions and have a wide spectrum of applications in different areas of research. Indeed, while they have been traditionally grounded in the game theory and economic literature, they have gained popularity in the context of multi-agent systems and artificial intelligence research as a means of studying interactions among autonomous agents (see, e.g., [3], [4], [5], [6], [7], [8], [9]). Moreover, they have recently attracted attention in engineering too, because of their use in the design of intelligent protocols and middleware algorithms for wireless communication networks [10], [11], [12]. As an example, we next illustrate a wireless cooperative file sharing system, where mobile subscribers cluster together by downloading (portions of) files of interest over long-range cellular links, and by exchanging them over a wireless ad-hoc network (see, e.g., [13]).
      </paragraph>
      <paragraph label="Example 1.1">
       Consider the setting with three mobile users (hence, {a mathematical formula}N={1,2,3}) that is illustrated in the left part of Fig. 1, and a function v such that, for each coalition {a mathematical formula}C⊆N, {a mathematical formula}v(C) is meant to express the payoff that users in C can jointly achieve when clustering together and cooperating to download the given file of interest. In particular, assume that {a mathematical formula}v({1})=10, {a mathematical formula}v({2})=5, {a mathematical formula}v({3})=4, {a mathematical formula}v({1,2})=17, {a mathematical formula}v({2,3})=10, and {a mathematical formula}v({1,2,3})=22. Intuitively, the payoff of each coalition C is meant to express the sum of the utilities that the agents in C get when the file is downloaded minus the cost that they overall incur for the download, with this cost being proportional to the time required and to certain technological features, such as bandwidth and energy consumption.For instance, when 1 and 2 cluster together, each of them can download only half of the file and then share the portion via the wireless connection. While doing so, each of them increases the throughput due to the better performance of the wireless network when compared to the cellular links, and reduces the overall downloading costs. This is reflected in the payoff function v, which is such that {a mathematical formula}v({1,2})≥v({1})+v({2}). Similarly, 2 and 3 can cluster together leading to the payoff {a mathematical formula}v({2,3})≥v({2})+v({3}).In contrast, note that users 1 and 3 are outside of each other's transmission range, hence it is impossible for them to cluster together (and, in fact, the payoff function is not specified for this coalition). However, user 2 might still act as a bridge between them, so that when all users join together, the resulting payoff is {a mathematical formula}v({1,2,3})=22. Indeed, it is advantageous for the users to cluster all together, because {a mathematical formula}v({1,2,3})≥v({1,2})+v({3}), {a mathematical formula}v({1,2,3})≥v({1})+v({2,3}), and {a mathematical formula}v({1,2,3})≥v({1})+v({2})+v({3}). While doing so, each user gets the payoff that can be achieved by downloading the whole file alone, and a surplus of {a mathematical formula}v({1,2,3})−(v({1})+v({2})+v({3}))=22−(10+5+4)=3 still remains to be divided among them.  ◁
      </paragraph>
      <paragraph>
       As the above example demonstrates, characteristic function games might be defined within an environment imposing restrictions on the formation of coalitions. Indeed, users 1 and 3 are outside each other's transmission range, and the coalition {a mathematical formula}{1,3} cannot form.
      </paragraph>
      <paragraph>
       In general, for reasons that might range from physical limitations and constraints to legal banishments, certain agents might not be allowed to form coalitions with certain others. Sensor networks, communication networks, or transportation networks, within which units are connected through bilateral links, provide natural settings for such classes of games. In many multiagent coordination settings, agents might be restricted to communicate or interact with only a subset of other agents in the environment, due to limited resources or existing physical barriers. Another example is provided by hierarchies of employees within an enterprise, where employees at the same level work together under the supervision of a boss, i.e., of an employee at the immediately higher level in the hierarchy. In all these settings, the environment can be seen to possess some structure that forbids the formation of certain coalitions. This can be formalized as an interaction graph{a mathematical formula}G=(N,E), an undirected graph, where agents are transparently viewed as nodes so that a coalition C is feasible, i.e., allowed to form, only if the subgraph of G induced over the nodes of C is connected [14]. For instance, it is immediate to check that the graph shown in the left part of Fig. 1, is the interaction graph associated with the game of Example 1.1, where all coalitions are allowed to form but {a mathematical formula}{1,3}.
      </paragraph>
      <paragraph>
       Note that when an interaction graph G is the complete graph over N, then G induces no structural restrictions and we are back to the basic setting where a game is completely specified by its payoff function (and all coalitions are allowed to form). Hence, the setting with interaction graphs generalizes the basic one.
      </paragraph>
     </section>
     <section label="1.2">
      <section-title>
       Stability and coalition structures
      </section-title>
      <paragraph>
       The main solution concept adopted in the literature in order to deal with the problem of stability in characteristic function games (i.e., what are the incentives for the agents to stay in formed coalitions), is, arguably, the core[15], [16].
      </paragraph>
      <paragraph>
       In settings without any restriction on the possible interactions among the agents, the core is defined as the set of all allocations that are stable because there is no coalition having an incentive to deviate, that is, as the set{a mathematical formula} where {a mathematical formula}x(C) is a shorthand for {a mathematical formula}∑i∈Cxi. Note that it is implicitly assumed here that the grand-coalition of all players in N forms and, accordingly, the solution concept suggests how the total payoff {a mathematical formula}v(N) can be divided among them in a way that is stable [2].
      </paragraph>
      <paragraph>
       In the presence of an interaction graph, the core can be smoothly adapted so as to focus only on feasible coalitions [17], [18], [19], as illustrated below—formal definitions are provided in Section 2.
      </paragraph>
      <paragraph label="Example 1.2">
       The core of the characteristic function game defined in Example 1.1 consists of all allocations {a mathematical formula}〈x1,x2,x3〉∈R3 that are solutions to the following set of linear (in)equalities:{a mathematical formula}Note that, in the example, the core contains infinitely many allocations (e.g., the allocation {a mathematical formula}〈12,6,4〉 is in the core). However, it is instructive to point out that the core of a game might as well be empty. For instance, the reader might check that this is the case for the modified game where {a mathematical formula}v({1,2})=18, {a mathematical formula}v({2,3})=12, and by assuming that the coalition {a mathematical formula}{1,3} is also allowed to form, with {a mathematical formula}v({1,3})=17.  ◁
      </paragraph>
      <paragraph>
       So far we have considered only allocations of the value {a mathematical formula}v(N), i.e., we have assumed that the grand coalition will form in the possible outcomes of the game. The formation of the grand-coalition is indeed natural in many settings. This is for example the case for superadditive games, which means that whenever three feasible coalitions S, T, and {a mathematical formula}S∪T are given, with {a mathematical formula}S∩T=∅, then {a mathematical formula}v(S∪T)≥v(S)+v(T) holds. For instance, the reader can check that the game defined in Example 1.1 is superadditive. In a plethora of realistic application settings however, the emergence of the grand coalition is either not guaranteed, plainly impossible, or even perceivably harmful. This might happen because of issues ranging from normative considerations, to information (observability) imperfections, and to technological constraints (cf. [20]). Moreover, additional motivations emerge when the problem is looked at from an economics perspective [21]. Under such circumstances, it is very natural for the agents to organize themselves in a coalition structure, i.e., in a partition Π of N, consisting of disjoint and exhaustive feasible coalitions.
      </paragraph>
      <paragraph label="Example 1.3">
       Consider a slight modification of the setting discussed in Example 1.1, where two additional mobile users join the environment as illustrated in the right part of Fig. 1. In particular, assume that {a mathematical formula}v({4})=v({5})=5, {a mathematical formula}v({4,5})=11, and {a mathematical formula}v(C∪C′)=v(C)+v(C′)−1, for each pair of non-empty sets {a mathematical formula}C⊆{1,2,3} and {a mathematical formula}C′⊆{4,5} such that {a mathematical formula}C∪C′ is feasible (according to the interaction graph depicted in the figure). Intuitively, in this modified scenario, in order to cluster together the two new mobile users with the rest of the users, we have to pay some cost that is no longer compensated by the network capabilities of the wireless connection. In particular, we have {a mathematical formula}v({1,2,3,4,5})&lt;v({1,2,3})+v({4,5}), i.e., the modified game is no longer superadditive. Therefore, the five users will likely organize themselves in the coalition structure {a mathematical formula}Π={{1,2,3},{4,5}}, with the two coalitions {a mathematical formula}{1,2,3} and {a mathematical formula}{4,5} downloading independently the file of interest. ◁
      </paragraph>
      <paragraph>
       As demonstrated above, the social welfare of a coalition structure Π, i.e., the total available payoff {a mathematical formula}∑C∈Πv(C), might happen to be greater than the payoff associated with the grand-coalition. Whenever this is the case, the classic solution concepts are not appropriate. Indeed, agents will likely organize themselves in the coalition structure achieving the maximum social welfare, so that stable outcomes have to be characterized from the “coalition structure” perspective, as first suggested by [21]. According to this view, the core of a characteristic function game finds a counterpart in the coalition structure core. Intuitively, at the coalition structure core, if Π is a coalition structure achieving the maximum social welfare, then it holds that, for each coalition C in Π, the members of C distribute the value {a mathematical formula}v(C) among themselves only.
      </paragraph>
      <paragraph>
       Coming back to Example 1.3, it is immediate to check that the maximum social welfare in the game is achieved by the coalition structure {a mathematical formula}Π={{1,2,3},{4,5}}. An allocation {a mathematical formula}〈x1,x2,x3,x4,x5〉 in the coalition structure core must be such that {a mathematical formula}x1+x2+x3=22 and {a mathematical formula}x4+x5=11. That is, the members of {a mathematical formula}{1,2,3} and {a mathematical formula}{4,5} distribute the payoff {a mathematical formula}v({1,2,3}) and {a mathematical formula}v({4,5}), respectively, among themselves only. Moreover, as usual, the allocation is required to be stable, i.e., {a mathematical formula}x(C)≥v(C), for each feasible coalition {a mathematical formula}C⊆{1,2,3,4,5}. For instance, {a mathematical formula}〈12,6,4,6,5〉 is an allocation with these properties.
      </paragraph>
     </section>
     <section label="1.3">
      <section-title>
       Game encodings and complexity issues
      </section-title>
      <paragraph>
       In order to fully specify a characteristic function game, we need to explicitly list all associations of coalitions with their payoffs. However, this requires exponential space w.r.t. the number of agents and it is often hardly applicable in practice. Motivated by this observation, compact game-encoding mechanisms have been proposed. Building on the seminal papers by Megiddo [22], by Kalai and Zemel [23], and by Deng and Papadimitriou [24], the idea is to equip a characteristic function game with a structure (e.g., a combinatorial structure, a graphical structure, or a logical theory) and to define a function that, given this structure and any set C of agents, is able to return (usually in polynomial time) the payoff {a mathematical formula}v(C). As an example, in the games studied by Deng and Papadimitriou [24], the value {a mathematical formula}v(C) is determined by a weighted graph whose nodes are the agents and equals the sum of the weights of the edges in the subgraph induced over C. Another remarkable example of compact games that received considerable attention in the last few years is that of games encoded via marginal contribution networks (MC-nets), proposed by Ieong and Shoham [25]. Marginal contribution networks provide a simple, yet very powerful method to specify characteristic function games. Indeed, any characteristic function game can be encoded in terms of a marginal contribution network, and exponentially more compact encodings can be defined in many practical cases.
      </paragraph>
      <paragraph>
       While an explicit encoding makes the input sizes so large that computing the various solution concepts is trivially—and artificially—easy, this is no longer the case over compact encodings. Indeed, most of the research on computational aspects of coalitional games is focused on assessing the amount of resources needed to compute these concepts over different compact-game encodings, and several deep and useful results have already been achieved (see, for instance, [26], [24], [27], [25], [5], and [28] for a review).
      </paragraph>
      <paragraph>
       In fact, studying the complexity of realistic cooperative game settings, and identifying tractable game instances by limiting some source of intractability is crucial for the design of general solution algorithms. As such, the problem of characterizing the precise computational complexity of coalitional games is a well-established topic of research in the artificial intelligence community. To give an idea of some practical consequences of complexity results, assume we would like to solve an NP-complete problem on a standard (deterministic) machine. The theory suggests that (unless {a mathematical formula}P=NP) any algorithm has to explore the search space via some kind of backtracking mechanism, which in the worst case exhaustively generates all the potential solutions. For a problem that is {a mathematical formula}Δ2P-hard, things are even worse as the backtracking mechanism might require to be invoked by a master algorithm polynomially many times. In fact, these problems might be solved by means of algorithms that make use of SAT solvers{sup:1} to address the computation of the NP-oracle calls. Finally, note that any {a mathematical formula}Σ2P-complete problem exhibits two orthogonal sources of intractability. Then, we cannot design any flat-backtracking algorithm for our problem, since any algorithm with a search-space tree having a polynomial number of levels should solve a nested {a mathematical formula}co-NP-hard problem to check whether a leaf node is a solution or not. In these cases, a practical solution might be given by encoding the problem of interest in some expressive logic formalisms, such as in Answer Set Programming, and to use the solvers{sup:2} that have been developed for them.
      </paragraph>
     </section>
     <section label="1.4">
      <section-title>
       Summary of contributions
      </section-title>
      <paragraph>
       With a few notable exceptions discussed in the following sections, complexity studies about coalitional games concerned so far mostly the setting where all coalitions are unconditionally allowed to form. Furthermore, most works tacitly assume that the goal is to distribute over the agents the total payoff available to the grand-coalition, even when games are not superadditive. Moving from this background, the goal of the paper is to provide a clear picture of the complexity of core-related problems over compact games under restricted cooperation, as specified by an interaction graph. In particular, we consider environments where agent interactions can be restricted according to a variety of interaction graph structures of interest, and we look at the computational issues from the coalition structure viewpoint, that is, without assuming that the grand-coalition necessarily forms. In our analysis, the input for any algorithmic problem includes (at least) the encoding of a game whose characteristic function v is computable in time polynomial in the size of the given representation. As a special instance of this general setting, we also provide results that are specific for MC-nets. In more detail:
      </paragraph>
      <list>
       <list-item label="►">
        We study how the structure of the underlying interaction graphs affects the complexity of checking whether a given outcome belongs to the coalition structure core (in short: CS-Core-Membership) and of deciding whether the core is non-empty (in short: CS-Core-NonEmptiness). We analyze these problems over lines, cycles, trees, nearly-acyclic graphs, formally, graphs having bounded treewidth[29] (in short: BTW), and complete graphs. In the results we have derived (also in those listed in the other points below), islands of tractability and membership results are identified for arbitrary compact games, whereas intractability results are shown to hold even on MC-nets. A summary of these results is reported in Table 1. The most technical proofs are those establishing the results about CS-Core-Membership and CS-Core-NonEmptiness over complete interactions graphs. Proofs for trees and graphs having bounded treewidth follow with suitable adaptations, whereas the analysis of lines and cycles is based on simple combinatorial properties.
       </list-item>
       <list-item label="►">
        CS-Core-Membership and CS-Core-NonEmptiness are decision problems. In addition to them, we consider the problem of computing an allocation in the coalition structure core (in short: CS-Core-Find). Of course, whenever CS-Core-NonEmptiness is intractable, then CS-Core-Find is intractable, too. However, it turns out that CS-Core-Find remains intractable on trees (see again Table 1, where FP stands for the class of search problems solvable in polynomial time). This is rather interesting because the coalition structure core is always non-empty over trees [19]. In fact, the result was already known to hold over classes of games equipped with arbitrary functions computable in polynomial time [32], and here it is strengthened to games encoded as MC-nets. Tractability results are eventually established for lines and cycles.
       </list-item>
       <list-item label="►">
        We consider the cost of stability[33], which is a core-related stability criterion defined as the minimum worth that a benevolent external party must supply in order for the game to have a non-empty core. We study the CS-CoS problem of deciding whether this minimum worth is at most a given threshold. While being a weaker concept of stability than the classical concept of core, it emerges that it is characterized by the same intrinsic computational complexity (see again Table 1). In particular, results for CS-CoS coincide with those for CS-Core-NonEmptiness.
       </list-item>
       <list-item label="►">
        We consider another core-related stability criterion, that is, the least core[34], which is an approximate version of the core, with an additional penalty imposed for leaving the grand coalition. We define a natural generalization of this concept to the case where coalition structures are taken into account, and we study its (analytical) properties. From the computational viewpoint, we consider the problem CS-LCV, which asks whether a game can be made stable if a given penalty ε is considered. Note that in the literature about the least core, the range of {a mathematical formula}ε≤0 is also considered (i.e., incentives to leave the grand-coalition), with the aim of singling out the most stable subset of the core. Accordingly, towards a finer-grained analysis, we consider the variants CS-LCV{sup:−} and CS-LCV{sup:+}, where we require {a mathematical formula}ε≤0 and {a mathematical formula}ε≥0, respectively. For {a mathematical formula}ε=0, the problem inherits all hardness results from CS-Core-NonEmptiness. However, more stringent and somehow surprising complexity results are exhibited, via a number of rather elaborate reductions even in the basic cases of lines and cycles. The analysis shows that CS-LCV{sup:+} is intrinsically more complex than CS-LCV{sup:−}. Results are again in Table 1.
       </list-item>
       <list-item label="►">
        We also analyze the complexity of superadditive games, for which the grand-coalition always forms (and the coalition structure core reduces to the usual concept of the core considered in the literature). Our results, reported in Table 2, demonstrate that superadditivity does not help too much to enlarge the islands of tractability. In fact, tractability results coincide with those discussed for arbitrary games. However, all hardness results are now actually completeness results for the class {a mathematical formula}co-NP, rather than for the (likely larger) classes {a mathematical formula}Δ2P and {a mathematical formula}Σ2P.
       </list-item>
       <list-item label="►">
        Finally, motivated by the observation that each node in a line or a cycle (over which the problems we considered are tractable) has degree at most 2, we embark on the classification of the complexity of core-related questions based on the maximum degree of the nodes. Results are summarized in Table 3. While all problems are tractable when the degree of any node is at most 2, they suddenly become intractable when the maximum degree is 3 or higher. Actually, for arbitrary games when the degree is at most 2, only an upper bound on the complexity of CS-LCV{sup:+} is reported. In fact, these results are corollaries of those described in Table 1 and Table 2. However, to achieve tight bounds that hold even when each node has degree at most 3, a mechanism to encode any structurally-restricted game into an “equivalent” one enjoying this property is exhibited.
       </list-item>
      </list>
      <paragraph>
       Organization. The rest of the paper is structured as follows. Section 2 formalizes the main concepts considered in our analysis, while Section 3 presents characterization results—useful for deriving the complexity results in the sequel. Results over complete interaction graphs and over graphs with bounded treewidth appear in Sections 4 and 5, respectively. Results over lines and cycles are shown in Section 6. Finally, Section 7 reviews related work, while conclusions and open research issues are discussed in Section 8. For the sake of readability, proofs of claims are reported in Appendix A.
      </paragraph>
     </section>
    </section>
    <section label="2">
     <section-title>
      Formal framework
     </section-title>
     <paragraph>
      In this section, we discuss the stability concepts considered in the paper and present the computational setting we adopt for the analysis of their complexity. To this end, we start the formalization by introducing some background and the relevant notation.
     </paragraph>
     <paragraph>
      Let {a mathematical formula}G=(N,E) be an interaction graph over a set {a mathematical formula}N={1,…,n} of agents. We assume that G is connected, so that there are no structural constraints on the formation of the grand-coalition (otherwise, our results apply to each of the connected components of G). The set of all coalitions that are feasible over G, i.e., the coalitions {a mathematical formula}C⊆N, with {a mathematical formula}C≠∅, such that the subgraph of G induced over the nodes of C is connected, is denoted by {a mathematical formula}F(G). A coalition structure over G is a partition of N, say {a mathematical formula}Π={C1,…,Ck}, into feasible and disjoint coalitions; that is, we have: {a mathematical formula}C1∪⋯∪Ck=N; {a mathematical formula}Ci∩Cj=∅, for each pair {a mathematical formula}i,j∈{1,…,k} with {a mathematical formula}i≠j; and {a mathematical formula}Ci∈F(G), for each {a mathematical formula}i∈{1,…,k}. The set of all possible coalition structures over G is hereinafter denoted by {a mathematical formula}CS(G).
     </paragraph>
     <paragraph>
      We consider games that are structurally restricted, in that they are equipped with interaction graphs. Intuitively, two agents can belong to the same coalition only if they are connected with a path in the interaction graph. Formally, if {a mathematical formula}v:2N↦R is a function assigning payoffs to the coalitions that can be built over N, where conventionally {a mathematical formula}v(∅)=0, then the triple {a mathematical formula}Γ=〈N,v,G〉 is a structurally-restricted characteristic function game.
     </paragraph>
     <paragraph>
      Now, assume that {a mathematical formula}Γ=〈N,v,G〉 is a given game, and let Π be a coalition structure in {a mathematical formula}CS(G). The social welfare of Π in Γ is the value {a mathematical formula}∑C∈Πv(C), denoted by {a mathematical formula}SW(Π). The maximum social welfare that can be attained in Γ over all the possible coalition structures is denoted by {a mathematical formula}SWopt(Γ). The set of all coalition structures {a mathematical formula}Π∈CS(G) such that {a mathematical formula}SW(Π)=SWopt(Γ) is denoted by {a mathematical formula}CS-opt(Γ).
     </paragraph>
     <paragraph>
      Recall that for a payoff allocation {a mathematical formula}x=〈x1,…,xn〉∈Rn to the agents, and for a coalition {a mathematical formula}C⊆N, we denote by {a mathematical formula}x(C) the sum {a mathematical formula}∑i∈Cxi. An allocation {a mathematical formula}x∈Rn is called an imputation for a coalition structure Π in Γ if it is efficient, i.e., {a mathematical formula}x(C)=v(C) for each {a mathematical formula}C∈Π, and individually rational, i.e., {a mathematical formula}xi≥v({i}) for all {a mathematical formula}i∈N. Note that if x is an imputation for Π, then {a mathematical formula}x(N)=SW(Π) holds. In words, imputations for Π are allocations where each coalition in Π distributes the available payoff among its members only, in a way that each agent gets at least the payoff it would get alone, without participating to the game. The set of all imputations for Π is henceforth denoted by {a mathematical formula}I(Π).
     </paragraph>
     <section label="2.1">
      <section-title>
       Stability concepts
      </section-title>
      <paragraph>
       The core. The main stability concept considered in the literature is the core. In fact, we consider the notion modified by [17], [18], [19] in order to deal with the restrictions imposed by an underlying interaction graph, so that only feasible solutions are taken into account. Accordingly, if {a mathematical formula}Γ=〈N,v,G〉 is a structurally-restricted game with {a mathematical formula}|N|=n, then its core is defined as the set {a mathematical formula}core(Γ)={x∈Rn|x(N)=v(N) and x(C)≥v(C),∀C∈F(G)}.
      </paragraph>
      <paragraph>
       The above notion implicitly assumes that the grand-coalition always forms. In particular, if x is in the core, then x is an imputation for {a mathematical formula}{N}. By removing this assumption, we get a more general notion of the core where coalition structures are taken into account. We refer to this notion as the coalition structure core of Γ, formally defined as the set{a mathematical formula}
      </paragraph>
      <paragraph>
       Note that Aumann and Dreze [21] proposed an extension for the standard notion of the core (i.e., when all coalitions are in principle feasible ones) where a coalition structure {a mathematical formula}Π¯ is fixed beforehand. In that setting, the question is whether an imputation for {a mathematical formula}Π¯ exists which is stable—formally, this amounts to use {a mathematical formula}{Π¯} in place of {a mathematical formula}CS(G) in Equation (1). Accordingly, the above definition of the coalition structure core can be viewed as the natural generalization of the proposal by Aumann and Dreze to the case where players might organize themselves in any arbitrary coalition structure taken from {a mathematical formula}CS(G).
      </paragraph>
      <paragraph>
       The following is a useful and intuitive property of the coalition structure core, which is in fact well-known for games where all coalitions are feasible ones. The adaptation to our setting is straightforward and the proof is reported for the sake of completeness only.
      </paragraph>
      <paragraph label="Fact 2.1">
       Let{a mathematical formula}Γ=〈N,v,G〉be a structurally-restricted characteristic function game, and let{a mathematical formula}(Π,x)∈CS-core(Γ). Then,{a mathematical formula}Π∈CS-opt(Γ).
      </paragraph>
      <paragraph label="Proof">
       Suppose {a mathematical formula}(Π,x)∈CS-core(Γ). For each coalition structure {a mathematical formula}Π′∈CS(G) and for each coalition {a mathematical formula}C∈Π′, which is actually a feasible one by the definition of a coalition structure, {a mathematical formula}x(C)≥v(C) holds by (1). By the fact that coalitions in {a mathematical formula}Π′ are disjoint and they exclusively cover N, we get {a mathematical formula}x(N)=∑C∈Π′x(C), and hence {a mathematical formula}x(N)≥∑C∈Π′v(C)=SW(Π′). That is, {a mathematical formula}x(N) is an upper bound on the social welfare that can be attained by any feasible coalition structure in Γ. Since {a mathematical formula}x(N)=SW(Π) holds because {a mathematical formula}x∈I(Π), we conclude that {a mathematical formula}x(N) coincides with {a mathematical formula}SWopt(Γ). Hence, {a mathematical formula}x(N)=SW(Π)=SWopt(Γ).  □
      </paragraph>
      <paragraph>
       According to the above result, the coalition structure core can be viewed as a method to distribute the maximum social welfare that can be achieved over all the possible coalition structures in a way that no feasible coalition has an incentive to deviate from it. Moreover, note that since any singleton coalition {a mathematical formula}{i}, with {a mathematical formula}i∈N, is a feasible one, then the individual rationality requirement over the possible imputations is implied by the fact that {a mathematical formula}x(C)≥v(C) must hold at the coalition structure core, for each {a mathematical formula}C∈F(G).
      </paragraph>
      <paragraph label="Example 2.2">
       The function v and the interaction graph G discussed in Example 1.3 give rise to the structurally-restricted characteristic function game {a mathematical formula}Γ=〈N,v,G〉, where {a mathematical formula}F(G)={{1},{2},{3},{4},{5},{1,2},{2,3},{3,4},{3,5},{4,5},{1,2,3},{2,3,4},{2,3,5},{3,4,5},{1,2,3,4},{1,2,3,5},{2,3,4,5},{1,2,3,4,5}}. The coalition structure core of this game is not empty, as is witnessed by the pair {a mathematical formula}(Π,x) such that {a mathematical formula}Π={{1,2,3},{4,5}} and {a mathematical formula}x=〈12,6,4,6,5〉. Indeed, note that {a mathematical formula}Π∈CS-opt(Γ) holds and that x is an imputation for Π, because {a mathematical formula}x1+x2+x3=v({1,2,3}), {a mathematical formula}x4+x5=v({4,5}), and {a mathematical formula}xi≥v({i}), for each agent {a mathematical formula}i∈{1,2,3,4,5}. Moreover, it can be checked that there is no feasible coalition {a mathematical formula}C∈F(G) such that {a mathematical formula}x(C)&lt;v(C).  ◁The least core value. As already discussed in the introduction, it might well be the case that the core of a given game is empty. This observation motivated a number of different proposals for weaker notions of stability, which are able to single out desirable outcomes in any possible characteristic function game. The least core[34] is a well-known solution concept of this kind, which provides an approximation of the core where an additional penalty is imposed for leaving the grand-coalition. Next, we present its definition by taking into account the feasibility of the coalitions, starting with the case where coalition structures are not dealt with.
      </paragraph>
      <paragraph>
       For any structurally-restricted characteristic function game {a mathematical formula}Γ=〈N,v,G〉 and for any real number ε, let {a mathematical formula}Γ-ε=〈N,v-ε,G〉 be the game such that {a mathematical formula}v-ε(C)=v(C)−ε, for each {a mathematical formula}C∈F(G), and {a mathematical formula}v-ε(N)=v(N). The least core of Γ is then the set of all allocations in {a mathematical formula}core(Γ-ε) such that {a mathematical formula}core(Γ-ε)≠∅, and {a mathematical formula}core(Γ-ε¯)=∅, for any {a mathematical formula}ε¯&lt;ε.
      </paragraph>
      <paragraph label="Example 2.3">
       Consider the game {a mathematical formula}Γ′=〈{1,2},v′,K2〉 where {a mathematical formula}v′({1})=2, {a mathematical formula}v′({2})=2, {a mathematical formula}v′({1,2})=2, and where {a mathematical formula}K2 is the complete graph over {a mathematical formula}{1,2}. Note that structural restrictions are immaterial as all coalitions are feasible ones. Note also that {a mathematical formula}core(Γ′)=∅.Consider then the game {a mathematical formula}Γ−1′=〈{1,2},v−1′,G′〉 where {a mathematical formula}v−1′({1})=v−1′({2})=1 and {a mathematical formula}v−1′({1,2})=2, and note that {a mathematical formula}core(Γ−1′) contains only the allocation {a mathematical formula}〈1,1〉 where the agents equally divide the payoff {a mathematical formula}v′({1,2}). Moreover, note that for any game {a mathematical formula}Γ-ε¯′ such that {a mathematical formula}ε¯&lt;1, {a mathematical formula}core(Γ-ε¯′) is empty. Hence, the least core of {a mathematical formula}Γ′ is precisely the set {a mathematical formula}{〈1,1〉}.  ◁
      </paragraph>
      <paragraph>
       In the above example, the main reason for the emptiness of the core is that the grand-coalition would hardly form, because {a mathematical formula}v′({1})+v′({2})&gt;v′({1,2}). Hence, the coalition structure core might be a more appropriate solution concept for such instances. Indeed, this concept would single out the non-empty set of outcomes {a mathematical formula}CS-core(Γ′)={(Π,x)} where {a mathematical formula}Π={{1},{2}} and {a mathematical formula}x=〈2,2〉, thereby suggesting that the two agents will not join together, with each of them individually getting a payoff of 2.
      </paragraph>
      <paragraph>
       At this point, the reader might wonder whether, unlike the core, the coalition structure core is always non-empty. As demonstrated by the game below, this is not the case.
      </paragraph>
      <paragraph label="Example 2.4">
       Consider the game {a mathematical formula}Γ″=〈{1,2,3,4},v″,K4〉 over the complete interaction graph {a mathematical formula}K4, where the payoff function is such that {a mathematical formula}v″(C∪{4})=0, for each non-empty set {a mathematical formula}C⊆{1,2,3}, {a mathematical formula}v″({1})=v″({2})=v″({3})=v″({4})=1, {a mathematical formula}v″({1,2})=v″({1,3})=v″({2,3})=5, and {a mathematical formula}v″({1,2,3})=7. Note that {a mathematical formula}{{1,2,3},{4}} is the only element in {a mathematical formula}CS-opt(Γ″). Hence, by Fact 2.1, elements in the coalition structure core have the form {a mathematical formula}({{1,2,3},{4}},x) where {a mathematical formula}x=〈x1,x2,x3,x4〉 is such that:{a mathematical formula} The (in)equalities in the rightmost group are implied by the others, and can be discarded. In fact, the above set of (in)equalities is not satisfiable, because of the (in)equalities {a mathematical formula}x1+x2+x3=7, {a mathematical formula}x1+x2≥5, {a mathematical formula}x1+x3≥5, and {a mathematical formula}x2+x3≥5. Hence, {a mathematical formula}CS-core(Γ″)=∅.  ◁
      </paragraph>
      <paragraph>
       Given the above observation, we now look at a counterpart of the least core over coalition structures, too. To this end, for any feasible coalition structure {a mathematical formula}Π={C1,…,Cm} and for any real number ε, let {a mathematical formula}ΓΠ,-ε=〈N,vΠ,-ε,G〉 be the game with {a mathematical formula}vΠ,-ε(Cj)=v(Cj), for each coalition {a mathematical formula}Cj∈Π; and {a mathematical formula}vΠ,-ε(C)=v(C)−ε, for each feasible coalition C not in Π. Moreover, let {a mathematical formula}CS-coreΠ,-ε(Γ) be the set of all the pairs {a mathematical formula}(Π,x)∈CS-core(ΓΠ,-ε). Note that, in general, a pair {a mathematical formula}(Π,x)∈CS-core(ΓΠ,-ε) is not an imputation for the game Γ. In particular, consistently with the original definition of the least core by Maschler et al. [34], the penalty ε is imposed on each feasible coalition including the singletons—hence, x is not necessarily individually rational in Γ.{sup:3}
      </paragraph>
      <paragraph>
       Hence, we now define the least coalition structure core of Γ as the non-empty set {a mathematical formula}⋃Π∈CS(G)CS-coreΠ,-ε(Γ) such that {a mathematical formula}⋃Π∈CS(G)CS-coreΠ,-ε¯(Γ)=∅, for any {a mathematical formula}ε¯&lt;ε.
      </paragraph>
      <paragraph label="Example 2.5">
       Consider again the setting of Example 2.4, and let {a mathematical formula}Π={{1,2,3},{4}}. Then, consider the game {a mathematical formula}ΓΠ,-ε″ and note that {a mathematical formula}CS-coreΠ,-ε(Γ″) is determined by the solutions to the following set of (in)equalities:{a mathematical formula} The minimum value of ε for which the above (in)equalities are satisfiable is {a mathematical formula}13. In particular, for this value, we have that {a mathematical formula}〈73,73,73,1〉 is the only solution.Consider now any feasible coalition structure {a mathematical formula}Π¯≠Π and the game {a mathematical formula}ΓΠ¯,-ε¯″. Let {a mathematical formula}(Π¯,x¯) be an imputation in {a mathematical formula}CS-coreΠ¯,-ε¯(Γ″). Since {a mathematical formula}Π¯≠Π, we have {a mathematical formula}x¯1+x¯2+x¯3≥7−ε¯ and {a mathematical formula}x¯4≥1−ε¯. Moreover, we know that {a mathematical formula}x¯1+x¯2+x¯3+x¯4=∑C¯∈Π¯v″(C¯) must hold. In particular, {a mathematical formula}∑C¯∈Π¯v″(C¯)≤7 holds since {a mathematical formula}Π¯≠Π, and so {a mathematical formula}x¯1+x¯2+x¯3+x¯4≤7. Then, we derive {a mathematical formula}ε¯≥12&gt;13, and we conclude that {a mathematical formula}({{1,2,3},{4}},〈73,73,73,1〉) is the only imputation in the least coalition structure core. ◁
      </paragraph>
      <paragraph>
       We point out that the notion of least coalition structure core illustrated above can be found in the work by Service [35]. This notion appears to be the natural counterpart of the least core over coalition structures. Indeed, the intuition underlying the original notion of the least core is to characterize the outcomes for which the grand-coalition is stable when deviations are charged an additional cost. Accordingly, the counterpart just characterizes the minimum cost that has to be charged to stabilize any coalition, hence not necessarily the one formed by all the agents.{sup:4} In what follows, the number ε determined by the least core (resp., least coalition structure core) of Γ is called its least core value (resp., least coalition structure core value), and it is denoted by {a mathematical formula}LCV(Γ) (resp., {a mathematical formula}CS-LCV(Γ)). Note that, whenever the game has already a non-empty core (resp., coalition structure core), then this value might be even a negative one, thereby characterizing the “most stable” subset of the core (resp., coalition structure core).
      </paragraph>
      <paragraph>
       The cost of stability. A criticism that applies to the notion of the least core is that it is not “constructive”, in the sense that it does not practically tell us how a given unstable game can be made stable. This drawback is overcome by the cost of stability[33], which is the minimum worth that a benevolent external party must supply in order for the game to have a non-empty core.{sup:5} Let us first formalize this concept by starting with the case where coalition structures are not allowed to form.
      </paragraph>
      <paragraph>
       For any real number {a mathematical formula}Δ≥0, let {a mathematical formula}ΓΔ=〈N,vΔ,G〉 denote the structurally-restricted game such that {a mathematical formula}vΔ(C)=v(C), for each coalition {a mathematical formula}C∈F(G), and {a mathematical formula}vΔ(N)=v(N)+Δ. The cost of stability of Γ is the value {a mathematical formula}CoS(Γ)=min⁡{Δ|core(ΓΔ)≠∅∧Δ≥0}.
      </paragraph>
      <paragraph label="Example 2.6">
       Consider the game {a mathematical formula}Γ′=〈{1,2},v′,K2〉 presented in Example 2.3, and recall that {a mathematical formula}core(Γ′)=∅. Its cost of stability is then given by the minimum value of {a mathematical formula}Δ≥0 such that the following set of linear (in)equalities admits a solution:{a mathematical formula} Therefore, we have that {a mathematical formula}CoS(Γ′)=2.  ◁
      </paragraph>
      <paragraph>
       When we allow coalition structures, the definition of the cost of stability can be modified accordingly. In particular, for any coalition structure {a mathematical formula}Π={C1,…,Cm} and for any vector {a mathematical formula}Δ→=〈Δ1,…,Δm〉∈Rm, let {a mathematical formula}ΓΠ,Δ→=〈N,vΠ,Δ→,G〉 be the game with {a mathematical formula}vΠ,Δ→(C)=v(C), for each coalition {a mathematical formula}C∈F(G) such that {a mathematical formula}C∉Π; and {a mathematical formula}vΠ,Δ→(Cj)=v(Cj)+Δj, for each coalition {a mathematical formula}Cj∈Π. If Π is clear from the context, then the above game is just denoted as {a mathematical formula}ΓΔ→=〈N,vΔ→,G〉 in order to simplify the notation. The cost of stability of Π in Γ is the value {a mathematical formula}CS-CoS(Γ,Π)=min⁡{∑j=1mΔj|∃x such that (Π,x)∈CS-core(ΓΔ→) and ∀j∈{1,…,m},Δj≥0}. The coalition structure cost of stability of Γ, denoted by {a mathematical formula}CS-CoS(Γ), is the minimum value of {a mathematical formula}CS-CoS(Γ,Π) over all feasible coalition structures {a mathematical formula}Π∈CS(G).
      </paragraph>
      <paragraph label="Example 2.7">
       Consider again the game {a mathematical formula}Γ″=〈{1,2,3,4},v″,K4〉 discussed in Example 2.4, by recalling that {a mathematical formula}CS-core(Γ″)=∅. Let Π denote the coalition structure {a mathematical formula}{{1,2,3},{4}}, which attains the maximum social welfare. Then, {a mathematical formula}(Π,x) belongs to {a mathematical formula}CS-core(ΓΔ→) if {a mathematical formula}x=〈x1,x2,x3,x4〉 and {a mathematical formula}Δ→=〈Δ1,Δ2〉, with {a mathematical formula}Δ1≥0 and {a mathematical formula}Δ2≥0, satisfy the following (in)equalities:{a mathematical formula} In particular, the minimum value of {a mathematical formula}Δ1+Δ2 for which the above (in)equalities have a solution is obtained for {a mathematical formula}Δ1=12 and {a mathematical formula}Δ2=0, in which case {a mathematical formula}x=〈52,52,52,1〉 witnesses the satisfiability of all (in)equalities. Therefore, {a mathematical formula}CS-CoS(Γ″,Π)=12, and it is interesting to observe that this cost is actually paid to stabilize the coalition {a mathematical formula}{1,2,3}.By considering any other {a mathematical formula}Π¯≠Π, one can check that {a mathematical formula}CS-CoS(Γ″,Π¯)&gt;CS-CoS(Γ″,Π), so that {a mathematical formula}CS-CoS(Γ″,Π) is the coalition structure cost of stability of {a mathematical formula}Γ″.  ◁
      </paragraph>
     </section>
     <section label="2.2">
      <section-title>
       Computational setting
      </section-title>
      <paragraph>
       As we have already pointed out, we focus on games with a compact encoding. Founding on the seminal papers by [22], [23], [24], several such encoding mechanisms have been studied. Although our work deals with general encodings, we will also consider as a special case of this general setting encodings via marginal contribution networks, as defined by Ieong and Shoham [25].
      </paragraph>
      <paragraph>
       Marginal contribution networks. A marginal contribution network M consists of a set {a mathematical formula}{r1,…,rn} of rules involving a number of Boolean variables that represent the agents. For each {a mathematical formula}1≤i≤n, the rule {a mathematical formula}ri has the form {a mathematical formula}{patterni}→valuei, where {a mathematical formula}patterni is a conjunction that may include both positive and negative literals, and {a mathematical formula}valuei is the additive contribution associated with this pattern.{sup:6} A rule applies to a set C of agents if all the agents whose literals occur positively in the pattern belong to C, and all the players whose literals occur negatively in the pattern do not belong to C. The value {a mathematical formula}v(C) in the game induced by M is given by the sum of the values of all rules that apply to C. If no rule applies, then the value for the coalition is set to zero, by default.
      </paragraph>
      <paragraph>
       Note that the encoding mechanism defines a payoff for each possible coalition—i.e., all of them are implicitly assumed to be feasible. In the context of structured environments, the specification of a CFG can be given by an MC-net plus an interaction graph describing the coalitions for which the values returned by the encoding are meaningful.
      </paragraph>
      <paragraph label="Example 2.8">
       Consider the following marginal contribution network M, over the Boolean variables in the set {a mathematical formula}{a1,a2,a3}:{a mathematical formula} These rules define a game over a set {a mathematical formula}{1,2,3} of agents bijectively corresponding to the elements in {a mathematical formula}{a1,a2,a3}. In fact, as no confusion can arise, it is convenient to interchangeably view Boolean variables as agents, so that we can directly write {a mathematical formula}v({a1})=10, {a mathematical formula}v({a2})=5, {a mathematical formula}v({a3})=4, {a mathematical formula}v({a1,a2})=17, {a mathematical formula}v({a1,a3})=14, {a mathematical formula}v({a2,a3})=10, and {a mathematical formula}v({a1,a2,a3})=22. To see how these values are computed, observe for instance that {a mathematical formula}v({a2,a3})=1+5+4 is derived from the application of the rules {a mathematical formula}{a2∧a3}→1, {a mathematical formula}{a2}→5, and {a mathematical formula}{a3}→4. Moreover, all rules have to be applied to compute {a mathematical formula}v({a1,a2,a3}).Note that patterns do not contain negative literals in this example. Moreover, note that this marginal contribution network, combined with the interaction graph depicted in the left part of Fig. 1, fully specifies the game discussed in Example 1.1. In particular, the interaction graph tells us that the value {a mathematical formula}v({a1,a3}) defined by the encoding is not meaningful, because the corresponding coalition is not allowed to form. ◁
      </paragraph>
      <paragraph>
       Marginal contribution networks provide a simple, yet very powerful method to specify characteristic function games. Indeed, any characteristic function game can be encoded in terms of a marginal contribution network, even though in some cases exponentially many rules might be required [25].
      </paragraph>
      <paragraph>
       Interestingly, in many practical cases, exponentially more compact encodings can be defined via marginal contribution networks. For a trivial example of this kind, think about the MC-net over a set {a mathematical formula}{a1,…,an} of agents consisting of the rule {a mathematical formula}{ai}→1, for each {a mathematical formula}ai∈N. This network just states that {a mathematical formula}v(C)=|C|, for each coalition {a mathematical formula}C⊆N. Therefore, it succinctly defines {a mathematical formula}2n payoffs, in terms of n rules only.
      </paragraph>
      <paragraph>
       Compact representations. We recall from [9] a unifying model for compactly specified games, by extending it to deal with restrictions on the formation of coalitions. A compact representation {a mathematical formula}R defines suitable encodings for a class of structurally-restricted characteristic function games, denoted by {a mathematical formula}C(R). Formally, any representation {a mathematical formula}R defines an encoding function {a mathematical formula}ξR and a payoff function {a mathematical formula}vR such that, for any structurally-restricted characteristic function game {a mathematical formula}Γ∈C(R), {a mathematical formula}ξR(Γ) is the encoding of Γ, and {a mathematical formula}vR(ξR(Γ),C) is the payoff associated with the coalition C according to Γ. In the following, we consider only polynomial-time compact representations (in short: P-representations), i.e., we assume that {a mathematical formula}vR is a polynomial-time computable function. Moreover, we assume that the game representation {a mathematical formula}ξR(Γ) includes the interaction graph G associated with Γ. This entails in particular that, for every coalition C, {a mathematical formula}|C|≤‖ξR(Γ)‖ holds.
      </paragraph>
      <paragraph>
       Whenever a compact representation {a mathematical formula}R is clear from the context or whenever its specification is irrelevant, we can just write Γ instead of {a mathematical formula}ξR(Γ), and {a mathematical formula}v(C) instead of {a mathematical formula}vR(ξR(Γ),C). While doing so, we are identifying the game with its actual representation (by furthermore ignoring the actual procedure underlying the computation of the payoff values). As an example, for the case of the marginal-contribution network compact-representation, henceforth denoted as ‘{a mathematical formula}mcn’, any game Γ is encoded in {a mathematical formula}ξmcn(Γ) by a set of rules plus the underlying interaction graph, and the function {a mathematical formula}vmcn(ξmcn(Γ),C) computes the payoff of C as the sum of the values of those rules in {a mathematical formula}ξmcn(Γ) that apply to coalition C. Moreover, as the encoding is understood, we can use the naming “marginal contribution network” to denote the game rather than—more formally—its encoding. Eventually, note that {a mathematical formula}mcn is a P-representation.
      </paragraph>
      <paragraph>
       Expressive power. Let {a mathematical formula}R1 and {a mathematical formula}R2 be a pair of game representations. We say that {a mathematical formula}R2 is at least as expressive (and succinct) as{a mathematical formula}R1, denoted by {a mathematical formula}R1≾eR2, if there exists a polynomial-time computable function f that translates the encoding {a mathematical formula}ξR1(Γ) of Γ in {a mathematical formula}R1 into an encoding {a mathematical formula}ξR2(Γ) for the same game Γ in {a mathematical formula}R2. Note that if {a mathematical formula}R1≾eR2 holds, then any hardness result for the complexity of reasoning problems over {a mathematical formula}R1 immediately applies to {a mathematical formula}R2, and any positive result for problems over {a mathematical formula}R2 immediately applies to {a mathematical formula}R1. Thus, expressiveness relations can be used to derive further complexity results after the complexity of some representation has been characterized.
      </paragraph>
      <paragraph>
       Problems studied. In order to assess the amount of resources needed to reason about core-related concepts in structured environments, we provide answers to a number of questions, thus far unaddressed in the literature. In the analysis, we follow the classical setting where numerical computations deal with numbers given in the (irreducible) fractional form {a mathematical formula}p/q, where p (resp., q) is an integer (resp., natural number) encoded in binary. In particular, all parameters provided as inputs to the problems we study are assumed to be rational numbers, rather than arbitrary real numbers. For instance, the value associated with any rule of a marginal contribution network (and, hence, the payoff associated with any coalition) is a rational number. For models of computations tailored to work with real numbers (as well as with other fields), we refer the interested reader to [41].
      </paragraph>
      <paragraph>
       Formally, we analyze the complexity of the following decision problems, all of them receiving as input a game {a mathematical formula}Γ=〈N,v,G〉, with {a mathematical formula}N={1,…,n} (in fact, its encoding {a mathematical formula}ξR(Γ) defined according to a P-representation {a mathematical formula}R), possibly with some further inputs.
      </paragraph>
      <list>
       <list-item>
        CS-Core-Membership: Given a pair {a mathematical formula}(Π,x), where {a mathematical formula}x∈Qn, and Π is a partition of N, does {a mathematical formula}(Π,x)∈CS-core(Γ)?
       </list-item>
       <list-item>
        CS-Core-NonEmptiness: Does {a mathematical formula}CS-core(Γ)≠∅ hold?
       </list-item>
       <list-item>
        CS-CoS: Given a rational number {a mathematical formula}Δ≥0, is {a mathematical formula}CS-CoS(Γ)≤Δ?
       </list-item>
       <list-item>
        CS-LCV: Given a rational number ε, is {a mathematical formula}CS-LCV(Γ)≤ε?
       </list-item>
      </list>
      <paragraph>
       In particular, we also study the problems LCV{sup:−} and LCV{sup:+}, which are two specializations of CS-LCV where ε is constrained to be such that {a mathematical formula}ε≤0 and {a mathematical formula}ε≥0, respectively. Moreover, apart from the decision problems, we also study the following search problem:
      </paragraph>
      <list>
       <list-item>
        CS-Core-Find: Find an element {a mathematical formula}(Π,x)∈CS-core(Γ) or decide that {a mathematical formula}CS-core(Γ)=∅.
       </list-item>
      </list>
      <paragraph>
       Our analysis will be conducted on various classes of compact games identified by looking at the underlying interaction graphs. To this end, if {a mathematical formula}G is a class of graphs and {a mathematical formula}C(R) is a class of compact games, then we define {a mathematical formula}CG(R) to be the subclass of all those games {a mathematical formula}Γ=〈N,v,G〉∈C(R) such that {a mathematical formula}G∈G holds.
      </paragraph>
     </section>
    </section>
    <section label="3">
     <section-title>
      Characterizing the graph-restricted core with coalition structures
     </section-title>
     <paragraph>
      In this section, we illustrate analytical characterizations for the coalition structure core and for the related stability concepts discussed in Section 2.1. These characterizations will be useful in the sections that follow. A crucial role in the analysis is played by the concept of the cohesive cover of a game.
     </paragraph>
     <paragraph label="Definition 3.1">
      Let {a mathematical formula}Γ=〈N,v,G〉 be a structurally-restricted characteristic function game. The cohesive cover of Γ is the game {a mathematical formula}Γ˜=〈N,v˜,G〉 such that {a mathematical formula}v˜(C)=v(C), for each feasible coalition {a mathematical formula}C∈F(G)∖{N}, and {a mathematical formula}v˜(N)=SWopt(Γ).  □
     </paragraph>
     <paragraph>
      Note that {a mathematical formula}Γ˜ is such that {a mathematical formula}v˜(N)≥SW(Π), for each coalition structure {a mathematical formula}Π∈CS(G). Hence, the grand-coalition always forms in {a mathematical formula}Γ˜.
     </paragraph>
     <paragraph label="Example 3.2">
      Consider the setting of Example 2.4 and the game {a mathematical formula}Γ″=〈{1,2,3,4},v″,K4〉, by recalling that {a mathematical formula}Π={{1,2,3},{4}} is the only coalition structure that attains the maximum social welfare, with {a mathematical formula}SW(Π)=8. Its cohesive cover {a mathematical formula}Γ˜″=〈{1,2,3,4},v˜″,K4〉 is then such that {a mathematical formula}v˜″({1,2,3,4})=8&gt;v″({1,2,3,4})=0, while {a mathematical formula}v˜″(C)=v″(C), for each coalition {a mathematical formula}C⊂{1,2,3,4}. Therefore, we have that {a mathematical formula}v˜″(C∪{4})=0, for each non-empty set {a mathematical formula}C⊂{1,2,3}, {a mathematical formula}v˜″({1})=v˜″({2})=v˜″({3})=v˜″({4})=1, {a mathematical formula}v˜″({1,2})=v˜″({1,3})=v˜″({2,3})=5, and {a mathematical formula}v˜″({1,2,3})=7.  ◁
     </paragraph>
     <paragraph>
      The notion of cohesive cover is directly inspired by the definition of cohesive games[2], and it has been firstly formulated by Greenberg and Weber [30]. In fact, a game Γ is cohesive whenever it coincides with its cohesive cover {a mathematical formula}Γ˜.{sup:7} A similar notion is the superadditive cover discussed in [21], which is the superadditive game defined by the payoff function {a mathematical formula}vˆ such that, for each coalition {a mathematical formula}C⊆N, {a mathematical formula}vˆ(C) is the maximum social welfare that can be attained over all the possible coalition structures built by agents in C. Interestingly, it is known that the superadditive cover can be used to characterize core-related solution concepts when coalition structures are allowed [21], but this is not useful to derive tight bounds in our complexity analysis, since building the superadditive cover requires to compute the social welfare over exponentially many coalitions.
     </paragraph>
     <paragraph>
      Actually, similar characterizations are also known (or can be trivially derived from known results in the literature) when we just “cover” the grand-coalition (by the cohesive cover {a mathematical formula}Γ˜) rather than all the possible coalitions (as in the superadditive cover). Such characterizations for the cohesive cover are next illustrated.
     </paragraph>
     <section label="3.1">
      {a mathematical formula}CS-CoS and {a mathematical formula}CS-core characterizations
      <paragraph>
       Firstly, we consider a characterization of the coalition structure cost of stability in terms of the standard cost of stability.
      </paragraph>
      <paragraph label="Fact 3.3">
       For any structurally-restricted characteristic function game Γ,{a mathematical formula}CS-CoS(Γ)=CoS(Γ˜). In particular, if Γ is cohesive, then{a mathematical formula}CS-CoS(Γ)=CoS(Γ).
      </paragraph>
      <paragraph>
       Note that, in the standard setting where all coalitions can form, the characterization is well-known, and it was explicitly stated by Meir et al. [39] for the superadditive cover (more precisely for the subadditive cover of cost-sharing games). The proof relies on results by Aumann and Dreze [21], and smoothly applies to the cohesive cover, since it just uses the property that the payoff associated with the grand-coalition in the given cover is the maximum social welfare of the original game.
      </paragraph>
      <paragraph>
       In fact, a detailed proof of the characterization in the setting where all coalitions are feasible can be furthermore found in the work by Greco et al. [36]. Inspection of that proof reveals that the arguments apply even when some coalitions are not allowed to form (so Fact 3.3 is immediate). Indeed, this is not surprising because any structurally-restricted game can be transformed into an “equivalent” standard game (in that core constraints defining the coalition structure core and the coalition structure cost of stability are the same), by just assigning to each infeasible coalition any value that is at most the sum of the values of all connected sub-components (see also [14]).
      </paragraph>
      <paragraph label="Example 3.4">
       Consider the game {a mathematical formula}Γ˜″=〈{1,2,3,4},v˜″,K4〉 defined in Example 3.2, and recall from Example 2.7 that {a mathematical formula}CS-CoS(Γ″)=12.Then, based on Fact 3.3, we can derive that {a mathematical formula}CoS(Γ˜″)=12. Indeed, it can be checked that {a mathematical formula}Δ=12 is the minimum value for which the following set of linear (in)equalities, characterizing the core of {a mathematical formula}Γ˜Δ″, admits a solution:{a mathematical formula} In particular, for {a mathematical formula}Δ=12, the allocation {a mathematical formula}〈x1,x2,x3,x4〉=〈52,52,52,1〉 is a solution.  ◁
      </paragraph>
      <paragraph>
       We now move to illustrate a characterization of the coalition structure core based on the core of the cohesive covers. Again, the result is known for superadditive covers [21] where all coalitions are allowed to form and the proof immediately applies to cohesive covers. The extension to structurally-restricted games is trivial.
      </paragraph>
      <paragraph label="Fact 3.5">
       For any structurally-restricted characteristic function game Γ,{a mathematical formula}CS-core(Γ)=CS-opt(Γ)×core(Γ˜). In particular, if Γ is cohesive, then
      </paragraph>
      <list>
       <list-item label="(1)">
        {a mathematical formula}CS-core(Γ)=CS-opt(Γ)×core(Γ);
       </list-item>
       <list-item label="(2)">
        {a mathematical formula}CS-core(Γ)=∅if, and only if,{a mathematical formula}core(Γ)=∅;
       </list-item>
       <list-item label="(3)">
        {a mathematical formula}x∈core(Γ)if, and only if,{a mathematical formula}({N},x)∈CS-core(Γ).
       </list-item>
      </list>
      <paragraph label="Example 3.6">
       Consider the game {a mathematical formula}Γ‴=〈{1,2,3,4},v‴,K4〉 where {a mathematical formula}v‴=v−1″, with {a mathematical formula}v″ being the payoff function discussed in Example 2.4. So, we have that: {a mathematical formula}v‴({1,2,3,4})=0; {a mathematical formula}v‴(C∪{4})=0−1, for each non-empty set {a mathematical formula}C⊂{1,2,3}; {a mathematical formula}v‴({1})=v‴({2})=v‴({3})=v‴({4})=1−1; {a mathematical formula}v‴({1,2})=v‴({1,3})=v‴({2,3})=5−1; and {a mathematical formula}v‴({1,2,3})=7−1. Let {a mathematical formula}Γ˜‴=〈{1,2,3,4},v˜‴,K4〉 denote the cohesive cover of {a mathematical formula}Γ‴, and note that {a mathematical formula}v˜‴({1,2,3,4})=6 and that {a mathematical formula}Π={{1,2,3},{4}} is the only coalition structure in {a mathematical formula}CS-opt(Γ‴).Then, by Fact 3.5, we will conclude that {a mathematical formula}CS-core(Γ‴)={(Π,〈2,2,2,0〉)}, after checking that {a mathematical formula}〈x1,x2,x3,x4〉=〈2,2,2,0〉 is the only solution to the following set of (in)equalities, defining the core of {a mathematical formula}Γ‴:{a mathematical formula}  ◁
      </paragraph>
     </section>
     <section label="3.2">
      {a mathematical formula}CS-LCV characterization
      <paragraph>
       Let us now analyze the least core value. In contrast to the case of the coalition structure cost of stability, it is not possible to end up with a simple (and in fact useful) closed-form characterization over arbitrary games. In particular, it is not the case that in general {a mathematical formula}CS-LCV(Γ)=LCV(Γ˜).
      </paragraph>
      <paragraph label="Example 3.7">
       Consider the game {a mathematical formula}Γ″=〈{1,2,3,4},v″,K4〉 discussed in Example 2.4 and Example 2.5, and recall from there that {a mathematical formula}CS-LCV(Γ″)=13.Consider then the cohesive cover {a mathematical formula}Γ˜″=〈{1,2,3,4},v˜″,K4〉 defined in Example 3.2, and note that the value {a mathematical formula}LCV(Γ˜″) is the minimum value of ε for which the following set of (in)equalities admits a solution:{a mathematical formula} Note that for {a mathematical formula}ε=15, the payoff vector {a mathematical formula}〈x1,x2,x3,x4〉=〈125,125,125,45〉 is a solution. Therefore, {a mathematical formula}LCV(Γ˜″)&lt;CS-LCV(Γ″).  ◁
      </paragraph>
      <paragraph>
       In fact, two properties that will be useful in our subsequent analysis are stated below.
      </paragraph>
      <paragraph label="Lemma 3.8">
       Let{a mathematical formula}Γ=〈N,v,G〉be a game, and let Π be a feasible coalition structure. If{a mathematical formula}(Π,x)is in{a mathematical formula}CS-coreΠ,-ε(Γ)with{a mathematical formula}ε&lt;0, then
      </paragraph>
      <list>
       <list-item label="(1)">
        {a mathematical formula}Π∈CS-opt(Γ);
       </list-item>
       <list-item label="(2)">
        there is no{a mathematical formula}Π′∈CS-opt(Γ)such that{a mathematical formula}Π′≠Π.
       </list-item>
      </list>
      <paragraph label="Proof">
       Assume that {a mathematical formula}(Π,x) is in {a mathematical formula}CS-coreΠ,-ε(Γ). By Fact 3.5, we know that {a mathematical formula}Π∈CS-opt(ΓΠ,-ε). Moreover, by construction of {a mathematical formula}vΠ,-ε, {a mathematical formula}∑C∈ΠvΠ,-ε(C)=∑C∈Πv(C) whereas {a mathematical formula}vΠ,-ε(C′)=v(C′)−ε&gt;v(C′) holds, for each feasible coalition {a mathematical formula}C′∉Π. Hence, if {a mathematical formula}Π′ is a feasible coalition structure in {a mathematical formula}CS(G) with {a mathematical formula}Π′≠Π, then we get that {a mathematical formula}∑C∈Πv(C)=∑C∈ΠvΠ,-ε(C)≥∑C′∈Π′vΠ,-ε(C′)&gt;∑C′∈Π′v(C′). It follows that {a mathematical formula}Π∈CS-opt(Γ). Moreover, the same chain of (in)equalities shows that any feasible coalition structure {a mathematical formula}Π′≠Π cannot be optimal, since the strict inequality {a mathematical formula}∑C∈Πv(C)&gt;∑C′∈Π′v(C′) holds. Therefore, we derive that {a mathematical formula}Π′∉CS-opt(Γ), for any feasible coalition structure {a mathematical formula}Π′≠Π.  □
      </paragraph>
      <paragraph label="Lemma 3.9">
       Let{a mathematical formula}Γ=〈N,v,G〉be a game, and let{a mathematical formula}ε&lt;0. Then, the least coalition structure core value of Γ is at most ε if, and only if, (i){a mathematical formula}|CS-opt(Γ)|=1, and (ii){a mathematical formula}Π∈CS-opt(Γ)implies{a mathematical formula}Π∈CS-opt(ΓΠ,-ε)and{a mathematical formula}CS-core(ΓΠ,-ε)≠∅.
      </paragraph>
      <paragraph label="Proof">
       Assume there is an element {a mathematical formula}(Π,x)∈CS-core(ΓΠ,-ε). Then, {a mathematical formula}CS-core(ΓΠ,-ε)≠∅ trivially holds. Moreover, we can apply Lemma 3.8 and derive that (i) holds, with Π being in particular in {a mathematical formula}CS-opt(Γ). Then, by Fact 3.5, we know that {a mathematical formula}Π∈CS-opt(ΓΠ,-ε) holds, and hence (ii) holds, too. For the converse, assume that (i) and (ii) hold. Let Π be the unique coalition structure in {a mathematical formula}CS-opt(Γ). By (ii) and Fact 3.5, an element of the form {a mathematical formula}(Π,x) is in {a mathematical formula}CS-core(ΓΠ,-ε).  □
      </paragraph>
      <paragraph>
       However, when moving to cohesive games it is possible to end up with the counterpart of Fact 3.3. The result is basically immediate, but the proof is reported in detail as it might be helpful to understand how the properties (and the analysis) of the least coalition structure core value are affected by its algebraic sign.
      </paragraph>
      <paragraph label="Proof">
       Let{a mathematical formula}Γ=〈N,v,G〉be a cohesive game. Then,{a mathematical formula}CS-LCV(Γ)=LCV(Γ).We shall show that, for any real number ε, {a mathematical formula}CS-LCV(Γ)≤ε if, and only if, {a mathematical formula}LCV(Γ)≤ε, from which the claim follows. We distinguish two cases. (Case {a mathematical formula}ε≥0)Assume that {a mathematical formula}CS-LCV(Γ)≤ε. So, there is a pair {a mathematical formula}(Π,x)∈CS-core(ΓΠ,-ε). By the definition of the coalition structure core, we derive that: {a mathematical formula}x(C)=v(C), {a mathematical formula}∀C∈Π; and, {a mathematical formula}x(C)≥v(C)−ε, {a mathematical formula}∀C∈F(G)∖Π. In particular, since {a mathematical formula}ε≥0, we derive that {a mathematical formula}x(C)≥v(C)−ε, for each {a mathematical formula}C∈F(G). Moreover, {a mathematical formula}x(N)=∑C∈Πx(C)=∑C∈Πv(C)≤v(N) holds, where the inequality follows because Γ is cohesive. That is, the payoff vector x witnesses that the core of the game {a mathematical formula}Γ-ε is not empty. For instance, an element in {a mathematical formula}core(Γ-ε) is {a mathematical formula}x′ with {a mathematical formula}xi′=xi, for each {a mathematical formula}i∈N∖{1}, and {a mathematical formula}x1′=x1+(v(N)−x(N)). Therefore, {a mathematical formula}LCV(Γ)≤ε.For the converse, assume that {a mathematical formula}core(Γ-ε) is not empty, and let x be an element in {a mathematical formula}core(Γ-ε). Given that Γ is cohesive and that {a mathematical formula}ε≥0, we derive that {a mathematical formula}{N} belongs to {a mathematical formula}CS-opt(Γ-ε) and {a mathematical formula}Γ-ε=Γ˜-ε. Moreover, note that {a mathematical formula}Γ-ε=Γ{N},-ε. Therefore, by Fact 3.5, these expressions entail that {a mathematical formula}({N},x) belongs to {a mathematical formula}CS-core(Γ{N},-ε). Hence, {a mathematical formula}CS-LCV(Γ)≤ε.(Case {a mathematical formula}ε&lt;0)Assume that {a mathematical formula}(Π,x)∈CS-core(ΓΠ,-ε), so that {a mathematical formula}CS-LCV(Γ)≤ε. By Lemma 3.8 and since Γ is cohesive, we derive that {a mathematical formula}Π={N}. Thus, {a mathematical formula}ΓΠ,-ε=Γ-ε holds, and we immediately get that x belongs to {a mathematical formula}core(Γ-ε). That is, {a mathematical formula}LCV(Γ)≤ε.For the converse, assume that {a mathematical formula}LCV(Γ)≤ε, and in particular that x is an element in {a mathematical formula}core(Γ-ε). First, it can be trivially observed that {a mathematical formula}{N} belongs to {a mathematical formula}CS-opt(Γ-ε). Indeed, by contradiction, if there is a feasible coalition structure {a mathematical formula}Π≠{N} such that {a mathematical formula}∑C∈Πv-ε(C)&gt;v-ε(N)=v(N), then we derive that {a mathematical formula}x(N)=∑C∈Πx(C)≥∑C∈Πv-ε(C)&gt;v(N), which is impossible. By Fact 3.5, we hence get that {a mathematical formula}({N},x) belongs to {a mathematical formula}CS-core(Γ-ε). Since {a mathematical formula}Γ-ε=Γ{N},-ε, we derive {a mathematical formula}CS-LCV(Γ)≤ε. □
      </paragraph>
     </section>
    </section>
    <section label="4">
     <section-title>
      Computing stable configurations: games over complete graphs
     </section-title>
     <paragraph>
      Given the characterization results of the previous section, we can now start our analysis by considering games defined over the class of complete interaction graphs, so that any coalition is a feasible one. Let {a mathematical formula}Kn denote the complete graph on n nodes, and let K be the class of all such complete graphs. Note that this is the classic setting considered in the literature. However, the picture emerging from earlier works is far from being complete. Indeed, very often, such works do not consider solution concepts specifically designed for games with coalition structures, but they tacitly assume that the goal is to distribute the total payoff available to the grand-coalition. Even further, several complexity results have been obtained either for very specific classes of games or for specific encodings (i.e., P-representations). Here, we provide a more complete and finer-grained picture, by studying characteristic functions that lead to either superadditive or non-superadditive games. In particular, note that while the hardness results we shall illustrate are specific for games defined over complete interaction graphs, membership results are instead more general and they will be shown to hold over any class of interaction graphs.
     </paragraph>
     <section label="4.1">
      <section-title>
       Arbitrary games
      </section-title>
      <paragraph>
       The complexity of solution concepts in the presence of coalition structures has been investigated by [42], which is up to now our main source of knowledge about this setting. The authors considered weighted voting games as a specific compact P-representation scheme, and they observed that CS-Core-NonEmptiness and CS-Core-Membership are NP-hard and {a mathematical formula}co-NP-complete problems over them, respectively. Since these problems are feasible in polynomial time over weighted voting games without considering coalition structures, the results evidence that coalition structures provide an additional source of complexity to solution concepts. Note that an “upper bound” (i.e., a non-trivial membership result in some complexity class) for the non-emptiness problem was missing in [42], and looked for. Moreover, no analysis has been conducted for core-related concepts (different from the core itself), and over arbitrary classes of compact games.
      </paragraph>
      <paragraph>
       In the rest of the section, we reconsider these problems, by providing membership results that hold on any P-representation {a mathematical formula}R and even on core-related solution concepts. Note that the characterizations discussed in Section 3 greatly simplify the analysis.
      </paragraph>
      <paragraph>
       We start by observing that the problems CS-CoS and CS-Core-NonEmptiness belong to the complexity class {a mathematical formula}Δ2P consisting of all decision problems that can be solved in polynomial time by exploiting NPoracles, i.e., non-deterministic Turing machines whose invocations are assumed to have unitary cost. The counterpart of {a mathematical formula}Δ2P over search problems, rather than decision ones, is denoted by {a mathematical formula}FΔ2P. Note that {a mathematical formula}NP⊆Δ2P and {a mathematical formula}co-NP⊆Δ2P hold, with the inclusions being believed to be strict.{sup:8}
      </paragraph>
      <paragraph label="Theorem 4.1">
       Let{a mathematical formula}Rbe any compactP-representation, and let{a mathematical formula}Gbe any class of graphs (e.g.,{a mathematical formula}G=K). On the class{a mathematical formula}CG(R), the problemsCS-CoSandCS-Core-NonEmptinessbelong to{a mathematical formula}Δ2P.
      </paragraph>
      <paragraph label="Claim 4.2">
       Let us focus on the problem CS-CoS. We are given a game encoding {a mathematical formula}ξR(Γ), and a rational number {a mathematical formula}Δ≥0, and we have to decide whether {a mathematical formula}CS-CoS(Γ)≤Δ.By Fact 3.3, we know that {a mathematical formula}CS-CoS(Γ)=CoS(Γ˜). Moreover, {a mathematical formula}CoS(Γ˜)≤Δ holds if, and only if, the core of {a mathematical formula}Γ˜Δ is not empty. Since checking the non-emptiness of the core (when all coalitions are feasible ones) is in {a mathematical formula}co-NP[44], the proof basically reduces to show that the value {a mathematical formula}SWopt(Γ), whose knowledge is required to define the payoff associated with the grand-coalition in {a mathematical formula}Γ˜Δ, can be computed in polynomial time by exploiting an NP oracle. Further technical ingredients will be eventually put in place in order to reduce the setting where some coalitions are not feasible to the setting where all coalitions are allowed to form, and in order to properly deal with arbitrary compact P-representations.Let {a mathematical formula}Γ˜Δ be the game {a mathematical formula}〈N,v˜Δ,G〉 with {a mathematical formula}G∈G, and define {a mathematical formula}Γ′=〈N,v′,Kn〉, with {a mathematical formula}N={1,…,n}, as the game where {a mathematical formula}v′(C)=v˜Δ(C), for each coalition in {a mathematical formula}F(G) (in particular note that {a mathematical formula}{i}∈F(G) holds, for each {a mathematical formula}i∈N); and {a mathematical formula}v′(C)=∑i∈Cv({i}), for each coalition {a mathematical formula}C∉F(G). Note that {a mathematical formula}Kn over which {a mathematical formula}Γ′ is defined denotes a complete interaction graph; and, moreover, the core of {a mathematical formula}Γ˜Δ is not empty if, and only if, the core of {a mathematical formula}Γ′ is not empty. Indeed, it is immediate to check that {a mathematical formula}core(Γ′)⊆core(Γ˜Δ), given that {a mathematical formula}F(G)⊆F(Kn) and that the payoff functions of the two games coincide over coalitions in {a mathematical formula}F(G). Moreover, note that if {a mathematical formula}x∈core(Γ˜Δ), then {a mathematical formula}xi≥v({i})=v′({i}) holds, for each {a mathematical formula}i∈N, because {a mathematical formula}{i} is in {a mathematical formula}F(G). Hence, given a coalition {a mathematical formula}C∉F(G), we have that {a mathematical formula}x(C)=∑i∈Cxi≥∑i∈Cv({i})=v′(C).In the light of the above observation, the strategy is to first build (an encoding for) the game {a mathematical formula}Γ′. To this end, consider the representation {a mathematical formula}R′ defined as follows. For each game {a mathematical formula}Γ∈CG(R) and for each rational number {a mathematical formula}Δ≥0, {a mathematical formula}C(R′) contains the game {a mathematical formula}Γ′ such that {a mathematical formula}ξR′(Γ˜Δ) consists of the encoding of Γ plus (a standard encoding for) the values {a mathematical formula}SWopt(Γ) and Δ. No further game is in {a mathematical formula}C(R′). Moreover, for each game {a mathematical formula}Γ′∈C(R′), we define {a mathematical formula}vR′(ξR′(Γ′),C)=vR(ξR(Γ),C), for each coalition {a mathematical formula}C⊂N with {a mathematical formula}C∈F(G); {a mathematical formula}vR′(ξR′(Γ′),C)=∑i∈CvR(ξR(Γ),{i}), for each coalition {a mathematical formula}C⊂N with {a mathematical formula}C∉F(G); and {a mathematical formula}vR′(ξR′(Γ′),N)=SWopt(Γ)+Δ (in fact, N is in {a mathematical formula}F(G), because we assume that interaction graphs are connected). Note that {a mathematical formula}R′ is a P-representation, because {a mathematical formula}vR(ξR(Γ),N) can be computed in polynomial time given the encoding {a mathematical formula}ξR(Γ), which is a part of the encoding {a mathematical formula}ξR′(Γ′), and because {a mathematical formula}SWopt(Γ) and Δ are also part of this encoding. However, in order to build (the encoding for) {a mathematical formula}Γ′, we need to compute the value {a mathematical formula}SWopt(Γ), which is not immediately available in the input {a mathematical formula}ξR(Γ). We now claim that the computation of {a mathematical formula}SWopt(Γ) is feasible in F{a mathematical formula}Δ2P—recall that, for the sake of readability, proofs of claims are reported in Appendix A.Let{a mathematical formula}Rbe any compactP-representation, and let{a mathematical formula}Gbe any class of graphs. On the class{a mathematical formula}CG(R), computing the maximum social welfare and an optimal coalition structure is feasible in{a mathematical formula}FΔ2P.So, we know that by using an NP oracle, we can build in polynomial time the (encoding for the) game {a mathematical formula}Γ′, which belongs to the class {a mathematical formula}C(R′) with {a mathematical formula}R′ being a P-representation. Eventually, it just remains to be checked whether {a mathematical formula}core(Γ′) is empty. For this latter check, we notice that we are now considering the standard notion of core, and a class of compact games {a mathematical formula}C(R′) where all coalitions are feasible ones. In this setting, the non-emptiness of the core is known to be feasible in {a mathematical formula}co-NP[44]. Thus, by means of a further call to an oracle checking whether {a mathematical formula}core(Γ˜Δ) is empty, we are able to overall solve CS-CoS in {a mathematical formula}Δ2P. Given this result, the fact that CS-Core-NonEmptiness is in {a mathematical formula}Δ2P is immediate, as the problem just reduces to CS-CoS by considering the cost {a mathematical formula}Δ=0.  □
      </paragraph>
      <paragraph>
       We now move to the problems related to the least coalition structure core. In the statement below, we refer to the complexity class {a mathematical formula}Σ2P consisting of all the decision problems that can be solved in polynomial time by a non-deterministic Turing machine using NP oracles with unitary cost.
      </paragraph>
      <paragraph label="Theorem 4.3">
       Let{a mathematical formula}Rbe any compactP-representation, and let{a mathematical formula}Gbe any class of graphs (e.g.,{a mathematical formula}G=K). On the class{a mathematical formula}CG(R), the problemsCS-LCVandCS-LCV{sup:−}belong to{a mathematical formula}Σ2Pand{a mathematical formula}Δ2P, respectively.
      </paragraph>
      <paragraph label="Proof">
       Consider first the general problem CS-LCV. Given a rational number ε, we have to decide whether there is a feasible coalition structure Π such that there is a pair of the form {a mathematical formula}(Π,x) in {a mathematical formula}CS-core(ΓΠ,-ε). The problem can be solved by a non-deterministic Turing machine that first guesses (in NP) a feasible coalition structure Π. Given Π and ε, we observe that {a mathematical formula}ΓΠ,-ε can be specified in compact form, via a P-representation, say {a mathematical formula}R″, by using the approach detailed in the proof of Theorem 4.1. Thus, the machine deals with a game specified in compact form and, according to Fact 3.5, it has then to check that:
       <list>
        {a mathematical formula}Π∈CS-opt(ΓΠ,-ε);{a mathematical formula}core(Γ˜Π,-ε)≠∅.Concerning (1), we consider the problem of checking the complementary condition that Π is not optimal for
       </list>
       <paragraph>
        {a mathematical formula}ΓΠ,-ε. This problem can be solved by an NP oracle that guesses a feasible coalition structure {a mathematical formula}Π¯ and then checks that {a mathematical formula}vΠ,-ε(Π¯)&gt;vΠ,-ε(Π) holds.Now, observe that if condition (1) holds, then the machine can proceed to build the game {a mathematical formula}Γ˜Π,-ε by just noticing that the value associated with the grand-coalition is precisely {a mathematical formula}SWopt(ΓΠ,-ε)=vΠ,-ε(Π). Therefore, (2) is reduced to checking whether the core of a given game (specified in compact form) is not empty. By following the same line of reasoning as in the proof of Theorem 4.1, we conclude that this task is feasible in {a mathematical formula}co-NP (and hence we can use an oracle solving the complementary problem).By putting it all together, we have then shown that CS-LCV can be solved in polynomial time by a non-deterministic Turing machine using NP oracles. Hence, the problem belongs to {a mathematical formula}Σ2P.Let us now move to the problem CS-LCV{sup:−}. The case {a mathematical formula}ε=0 trivially reduces to CS-Core-NonEmptiness, and hence can be solved in polynomial time with the use of NP oracles. We show that this also holds for the case {a mathematical formula}ε&lt;0. Consider an algorithm that firstly computes the value {a mathematical formula}SWopt(Γ) and a coalition structure Π witnessing that {a mathematical formula}∑C∈Πv(C)=SWopt(Γ), which is feasible in {a mathematical formula}FΔ2P by Claim 4.2.Now, because of Lemma 3.8 and since we know that {a mathematical formula}Π∈CS-opt(Γ) holds, it eventually remains to show that there is a pair of the form {a mathematical formula}(Π,x) in {a mathematical formula}CS-core(ΓΠ,-ε). The task can be faced as discussed in the points (1) and (2) above, and hence again in polynomial time with the help of an NP oracle. It follows that CS-LCV{sup:−} is in {a mathematical formula}Δ2P.  □
       </paragraph>
      </paragraph>
      <paragraph>
       We next show that the above results are tight over games with complete interaction graphs, even on the class of games defined via marginal contribution networks.
      </paragraph>
      <paragraph>
       Hardness results are established by reductions that refer to Boolean formulas. The following notation is hereinafter used with them. For any Boolean formula Φ, we denote by {a mathematical formula}vars(Φ) the set of all its variables. For any set S, we denote by {a mathematical formula}σ(S) the truth assignment where {a mathematical formula}X∈vars(Φ) is true if, and only if, X occurs in S. Moreover, we denote by {a mathematical formula}σ(S)⊨Φ the fact that {a mathematical formula}σ(S) satisfies Φ, i.e., that {a mathematical formula}σ(S) is a satisfying truth assignment for Φ. A literal is either a variable X or a negated variable ¬X. For a variable X (resp., negated variable ¬X), we denote by {a mathematical formula}X¯ (resp., {a mathematical formula}¬X‾) the literal ¬X (resp., X).
      </paragraph>
      <paragraph>
       We start with the hardness results for {a mathematical formula}Δ2P.
      </paragraph>
      <paragraph label="Theorem 4.4">
       On the class{a mathematical formula}CK(mcn)of games encoded via marginal contribution networks, the problemsCS-CoS,CS-Core-NonEmptiness, andCS-LCV{sup:−}are{a mathematical formula}Δ2P-hard.
      </paragraph>
      <paragraph label="Proof">
       Let Φ be a satisfiable Boolean formula over the variables {a mathematical formula}a1,…,an. In particular, assume that Φ is in conjunctive normal form (CNF), i.e., {a mathematical formula}Φ=c1∧⋯∧cm, where each clause {a mathematical formula}cj, {a mathematical formula}j∈{1,…,m}, is a disjunction of literals {a mathematical formula}yj,1∨⋯∨yj,mj. Moreover, assume a variable ordering such that {a mathematical formula}ai is less significant than {a mathematical formula}aj if, and only if, {a mathematical formula}i&lt;j. This ordering induces a lexicographical ordering over truth assignments for Φ. Deciding whether {a mathematical formula}a1 is true in the lexicographically maximal satisfying assignment {a mathematical formula}σ⁎ of Φ is {a mathematical formula}Δ2P-complete [45].Based on Φ, we build in polynomial time a structurally-restricted characteristic function game {a mathematical formula}Γ(Φ)∈CK(mcn) whose encoding {a mathematical formula}ξmcn(Γ(Φ)) is defined by the MC-net over the variables/agents in {a mathematical formula}N=vars(Φ)∪{an+1,an+2,an+3,an+4} with the rules:{a mathematical formula}Note that, according to the definition of the payoff function {a mathematical formula}vmcn for marginal contribution networks, {a mathematical formula}vmcn(ξmcn(Γ(Φ)),C)≤∑i=1n2i+1 holds, for each coalition {a mathematical formula}C⊆N. Hence, whenever one of the above three last (groups of) rules applies to a given C, its associated payoff is a negative value. In particular, note that the two last (groups of) rules can apply to a coalition C only if the truth assignment associated with C does not satisfy one of the m clauses in Φ, i.e., only if {a mathematical formula}σ(C∖{an+1,an+2,an+3,an+4})⊨Φ does not hold. With the above observations in place, one can check that the payoff function, henceforth denoted as v given that the representation scheme is understood, is such that:{a mathematical formula} where {a mathematical formula}w(S)=∑ai∈S2i. In particular, note that {a mathematical formula}v(C)=0, for each {a mathematical formula}C⊆{a1,…,an}.Let {a mathematical formula}S⁎⊆{a1,…,an} be the coalition such that {a mathematical formula}σ(S⁎)=σ⁎. Given the above expression for the payoff function, the following two properties are easily seen to hold.
       <list>
        Property 4.4.1 Assume that {a mathematical formula}a1 evaluates true in the lexicographically maximal satisfying assignment of Φ. Then, the coalition structure {a mathematical formula}Πt⁎ including {a mathematical formula}S⁎∪{an+1,an+2,an+3,an+4}, plus each agent in {a mathematical formula}{a1,…,an}∖S⁎ as a singleton is in {a mathematical formula}CS-opt(Γ(Φ)).Property 4.4.2 Assume that {a mathematical formula}a1 evaluates false in the lexicographically maximal satisfying assignment of Φ. Then, the coalition structure {a mathematical formula}Πf⁎ including {a mathematical formula}S⁎∪{an+4}, {a mathematical formula}{an+1,an+2,an+3}, and each agent in {a mathematical formula}{a1,…,an}∖S⁎ as a singleton is an optimal coalition structure, i.e., it is in {a mathematical formula}CS-opt(Γ(Φ)).Let
       </list>
       <paragraph>
        {a mathematical formula}Γ˜ be the cohesive cover of {a mathematical formula}Γ(Φ) defined over the function {a mathematical formula}v˜. By Fact 3.5, we known that {a mathematical formula}CS-core(Γ(Φ))≠∅ if, and only if, {a mathematical formula}core(Γ˜)≠∅. So, we prove that CS-Core-NonEmptiness is {a mathematical formula}Δ2P-hard by showing that {a mathematical formula}core(Γ˜)≠∅ if, and only if, {a mathematical formula}a1∈S⁎:
       </paragraph>
       <list>
        <list-item label="(⇐)">
         Assume that {a mathematical formula}a1∈S⁎, so that {a mathematical formula}Πt⁎ is an optimal coalition structure (cf. Property 4.4.1). In particular, we have {a mathematical formula}SW(Πt⁎)=w(S⁎)+1 and {a mathematical formula}v˜(N)=w(S⁎)+1 holds. Consider then the allocation x such that {a mathematical formula}xn+4=w(S⁎), {a mathematical formula}xn+1=xn+2=xn+3=1/3, and {a mathematical formula}xi=0, for any other agent. Note that {a mathematical formula}x(N)=v˜(N). Moreover, we claim that x belongs to the core of {a mathematical formula}Γ˜. Indeed, for each coalition {a mathematical formula}C⊂N such that {a mathematical formula}an+4∈C and {a mathematical formula}|{an+1,an+2,an+3}∩C|≤2, {a mathematical formula}x(C)≥w(S⁎)≥v(C)=v˜(C); for each coalition {a mathematical formula}C⊂N such that {a mathematical formula}an+4∈C and {a mathematical formula}C⊇{an+1,an+2,an+3}, {a mathematical formula}x(C)≥w(S⁎)+1≥v(C)=v˜(C); for each coalition {a mathematical formula}C⊂N such that {a mathematical formula}{an+1,an+2,an+3}⊇C and {a mathematical formula}|C|≥2, {a mathematical formula}x(C)=|C|×1/3≥2/3≥v(C)=v˜(C); and for each remaining coalition C, {a mathematical formula}x(C)≥0≥v(C)=v˜(C).
        </list-item>
        <list-item label="(⇒)">
         Assume that {a mathematical formula}a1∉S⁎, so that {a mathematical formula}Πf⁎ is an optimal coalition structure (cf. Property 4.4.2). In particular, we have {a mathematical formula}SW(Πf⁎)=w(S⁎)+2/3 and {a mathematical formula}v˜(N)=w(S⁎)+2/3. Assume, for the sake of contradiction, that x is an allocation in the core of {a mathematical formula}Γ˜. Then, we have {a mathematical formula}x(N)=w(S⁎)+2/3 and {a mathematical formula}x(S⁎∪{an+4})≥w(S⁎). Therefore, {a mathematical formula}xn+1+xn+2+xn+3≤2/3, which is impossible since {a mathematical formula}x(C)≥2/3=v˜(C)=v(C) must hold, for each {a mathematical formula}C⊆{an+1,an+2,an+3} such that {a mathematical formula}|C|≥2.
        </list-item>
       </list>
       <paragraph>
        To conclude, we observe that for any given game Γ, checking {a mathematical formula}CS-CoS(Γ)≤0 and {a mathematical formula}CS-LCV(Γ)≤0 are both equivalent to check that {a mathematical formula}CS-core(Γ)≠∅. Therefore, {a mathematical formula}Δ2P-hardness for CS-CoS and CS-LCV follows by the above result.  □
       </paragraph>
      </paragraph>
      <paragraph>
       In the above proof, it is instructive to observe that the source of complexity of the basic CS-Core-NonEmptiness problem is related to the need of reasoning about optimal coalition structures (cf. Property 4.4.1 and Property 4.4.2). In fact, by inspecting the proof, we can observe that the optimal social welfare in the game {a mathematical formula}Γ(Φ) is an integer value (having the form {a mathematical formula}w(S⁎)+1) if, and only if, {a mathematical formula}a1 is in {a mathematical formula}S⁎. This immediately implies that the bound provided in Claim 4.2 is tight, as we formalize below.
      </paragraph>
      <paragraph label="Theorem 4.5">
       On the class{a mathematical formula}CK(mcn)of games encoded via marginal contribution networks, computing the maximum social welfare is{a mathematical formula}Δ2P-hard.
      </paragraph>
      <paragraph>
       The picture of the hardness results corresponding to the membership results in Theorem 4.3 is completed below. Recall that CS-LCV{sup:+} is the restriction of CS-LCV where the rational number ε is constrained to be non-negative. Formally, given {a mathematical formula}ε≥0, CS-LCV{sup:+} asks whether there is a feasible coalition structure Π such that {a mathematical formula}CS-core(ΓΠ,-ε) contains an imputation of the form {a mathematical formula}(Π,x). To analyze this problem, note that even if a feasible coalition structure Π was given in advance, checking whether {a mathematical formula}CS-core(ΓΠ,-ε) is not empty would be still {a mathematical formula}co-NP-hard (this easily follows from the {a mathematical formula}co-NP-hardness of checking whether the core is not empty for games specified as marginal contribution networks [25]). Of course, Π is not actually provided, and has to be identified out of all possible feasible coalition structures (or we have to decide that no feasible coalition structure of that kind exists). This provides a basic source of NP-hardness on top of which the above {a mathematical formula}co-NP-hard task is defined, leading to a {a mathematical formula}Σ2P-hard problem. In fact, we have observed that whenever {a mathematical formula}ε≤0 holds, the two sources of complexity do not interplay (cf. proof of Theorem 4.3), so that more favorable complexity results have been obtained.
      </paragraph>
      <paragraph label="Theorem 4.6">
       On the class{a mathematical formula}CK(mcn)of games encoded via marginal contribution networks,CS-LCV{sup:+}(and, hence,CS-LCV) is{a mathematical formula}Σ2P-hard.
      </paragraph>
      <paragraph label="Claim 4.8">
       Let {a mathematical formula}Φ=c1∧⋯∧cm be a Boolean (CNF) formula over the variables {a mathematical formula}a1,…,an, {a mathematical formula}b1,…,bℓ, where {a mathematical formula}cj=yj,1∨⋯∨yj,kj, for each {a mathematical formula}j∈{1,…,m}. Consider the problem ∃∀CNF-UNSAT of deciding whether there is an assignment {a mathematical formula}σa over {a mathematical formula}N∃={a1,…,an} (the set of “existentially” quantified variables) such that, for each assignment {a mathematical formula}σb over {a mathematical formula}N∀={b1,…,bℓ} (the set of “universally” quantified variables), {a mathematical formula}σa⊎σb does not satisfy Φ, where {a mathematical formula}σa⊎σb is the truth assignment for the whole set of variables in Φ agreeing with {a mathematical formula}σa and {a mathematical formula}σb on their respective domains. This is a well-known {a mathematical formula}Σ2P-complete problem—in fact, the complementary problem of deciding whether there is no such an assignment is the prototypical hard problem for the complementary complexity class {a mathematical formula}Π2P[43].We shall show that ∃∀CNF-UNSAT can be reduced to CS-LCV{sup:+}. In particular, we shall restrict ourselves to certain kinds of Boolean functions only. To state the restriction more formally, for any truth assignment σ, let {a mathematical formula}σ¯ denote the truth assignment that is complementary w.r.t. σ, i.e., {a mathematical formula}σ¯(X) is true if, and only if, {a mathematical formula}σ(X) is false.∃∀CNF-UNSATis{a mathematical formula}Σ2P-hard even restricted to formulas Ψ such that, for each pair of assignments{a mathematical formula}σaand{a mathematical formula}σbover the existentially and universally quantified variables of Ψ, respectively,{a mathematical formula}σa⊎σb⊨Ψif, and only if,{a mathematical formula}σa⊎σ¯b⊨Ψ.According to the above result, the formula Φ provided as input over the variables in the sets {a mathematical formula}N∃ and {a mathematical formula}N∀ is assumed, w.l.o.g., to be such that: {a mathematical formula}σa⊎σb⊨Φ if, and only if, {a mathematical formula}σa⊎σ¯b⊨Φ. Based on Φ (which will be omitted from the notation, as it is understood), we define a game over the set {a mathematical formula}N=⋃i=1n{ai,aˆi}∪⋃j=1ℓ{bj,bˆj}∪{r} of agents{sup:9} as follows.For any set {a mathematical formula}C⊆N of agents, we say that C is ∃-consistent (resp., ∀-consistent) if {a mathematical formula}|C∩{ai,aˆi}|=1 holds, for each {a mathematical formula}i∈{1,…,n} (resp., {a mathematical formula}|C∩{bi,bˆi}|=1 holds, for each {a mathematical formula}i∈{1,…,ℓ}). Moreover, we denote by {a mathematical formula}Cˆ the set {a mathematical formula}{zˆ|z∈C}∪{z|zˆ∈C}. Let {a mathematical formula}ε≥0 be a rational number whose value will be later specified. Then, consider the structurally-restricted characteristic function game {a mathematical formula}Γ∃∀=〈N,v,K|N|〉 such that {a mathematical formula}N={r}∪N∃∪Nˆ∃∪N∀∪Nˆ∀ and where v satisfies the following:{a mathematical formula}Assume that{a mathematical formula}ε=13. Then,{a mathematical formula}CS-opt(ΓΠ,-ε∃∀)={{A∪{r},Aˆ,N∀∪Nˆ∀}|A⊆N∃∪Nˆ∃ is∃-consistent}.Our goal is now to show that it is {a mathematical formula}Σ2P-hard to decide whether the least coalition structure core value of {a mathematical formula}Γ∃∀ is {a mathematical formula}ε=13 at most. To this end, recall that {a mathematical formula}CS-LCV(Γ)≤ε holds if, and only if, there is a pair {a mathematical formula}(Π,x) in {a mathematical formula}CS-core(ΓΠ,-ε∃∀). Given Claim 4.8 and Fact 3.5, we can restrict ourselves to coalition structures {a mathematical formula}ΠA={A∪{r},Aˆ,N∀∪Nˆ∀}, where {a mathematical formula}A⊆N∃∪Nˆ∃ is∃-consistent. In particular, we show the desired result by proving that there is a ∃-consistent set {a mathematical formula}A⊆N∃∪Nˆ∃ with {a mathematical formula}CS-core(ΓΠA,-ε∃∀)≠∅ if, and only if, there is an assignment {a mathematical formula}σa over {a mathematical formula}N∃ such that, for each assignment {a mathematical formula}σb over {a mathematical formula}N∀, {a mathematical formula}σa⊎σb⊭Φ.
       <list>
        Assume there is an assignment {a mathematical formula}σa over {a mathematical formula}N∃ such that, for each assignment {a mathematical formula}σb over {a mathematical formula}N∀, {a mathematical formula}σa⊎σb⊭Φ. Let {a mathematical formula}A⊆N∃∪Nˆ∃ be the ∃-consistent set such that {a mathematical formula}σ(Aˆ)=σa—recall that, for any set S, we denote by {a mathematical formula}σ(S) the truth assignment where {a mathematical formula}X∈vars(Φ) is true if, and only if, X occurs in S. Moreover, consider the payoff vector x such that: {a mathematical formula}x({r})=1−ε; {a mathematical formula}x({z})=ε/n, for each {a mathematical formula}z∈A; and {a mathematical formula}x({z})=0, for each {a mathematical formula}z∈N∖(A∪{r}). We now show that {a mathematical formula}(ΠA,x) belongs to {a mathematical formula}CS-core(ΓΠA,-ε∃∀). To this end, observe first that the following inequalities hold: {a mathematical formula}x(A∪{r})=x({r})+∑z∈Ax({z})=1=v(A∪{r})=vΠA,-ε(A∪{r}); {a mathematical formula}x(Aˆ)=0=v(Aˆ)=vΠA,-ε(Aˆ); and {a mathematical formula}x(N∀∪Nˆ∀)=0=v(N∀∪Nˆ∀)=vΠA,-ε(N∀∪Nˆ∀). Moreover, {a mathematical formula}x({z})≥0≥v({z})≥vΠA,-ε({z}) holds, for each {a mathematical formula}z∈N. Hence, x is an imputation for {a mathematical formula}ΠA. It remains to show that x is stable, in that {a mathematical formula}x(C)≥vΠA,-ε(C) holds, for each {a mathematical formula}C⊆N. Since {a mathematical formula}x(C)≥0, we focus below on the two only possible kinds of coalitions C such that {a mathematical formula}vΠA,-ε(C)&gt;0.Consider an element in {a mathematical formula}CS-core(ΓΠA,-ε∃∀), and recall that it must have the form {a mathematical formula}(ΠA,x). By definition of the coalition structure core, we know that {a mathematical formula}x(A∪{r})=1, {a mathematical formula}x(Aˆ)=0, and {a mathematical formula}x(N∀∪Nˆ∀)=0. Moreover, {a mathematical formula}x(C)≥vΠA,-ε(C)=v(C)−ε holds, for each coalition C. Let {a mathematical formula}B⊆N∀∪Nˆ∀ be any ∀-consistent set. Then, we get: {a mathematical formula}x(Aˆ∪B)=x(B)≥v(Aˆ∪B)−ε and {a mathematical formula}x(Aˆ∪Bˆ)=x(Bˆ)≥v(Aˆ∪Bˆ)−ε. Assume now, for the sake of contradiction, that {a mathematical formula}σ(Aˆ)⊎σ(B)⊨Φ. Because of our assumption based on Claim 4.7, we also know that {a mathematical formula}σ(Aˆ)⊎σ(Bˆ)⊨Φ. Therefore, we have {a mathematical formula}x(B)≥ε/n and {a mathematical formula}x(Bˆ)≥ε/n, which is impossible since {a mathematical formula}x(B∪Bˆ)=x(N∀∪Nˆ∀)=0. By noticing that {a mathematical formula}σ(B) ranges over all possible truth assignments for the variables in {a mathematical formula}N∀, {a mathematical formula}σa=σ(Aˆ) therefore witnesses that for each assignment {a mathematical formula}σb over {a mathematical formula}N∀, {a mathematical formula}σa⊎σb⊭Φ.The last step of the proof is to show that the payoff function
       </list>
       <paragraph>
        v associated with the game {a mathematical formula}Γ∃∀ can be actually encoded (in polynomial time) in terms of a marginal contribution network. To this end, consider first the following (sets of) rules, where M is a sufficiently large positive value (e.g., greater than {a mathematical formula}2×|N|):{a mathematical formula}Observe that whenever some rules apply to any coalition {a mathematical formula}C⊆N, then the payoff function {a mathematical formula}vR induced by them is such that {a mathematical formula}vR(C)≤−M holds. In particular, {a mathematical formula}vR(C)=0 if, and only if, none of these rules applies. When r is in C, then no rule applies whenever {a mathematical formula}C∩(N∀∪Nˆ∀)=∅ and C is ∃-consistent, because of {a mathematical formula}R1. Assume then that {a mathematical formula}r∉C holds, and note that no rule applies whenever all the above conditions hold:
       </paragraph>
       <list>
        <list-item label="•">
         {a mathematical formula}C⊇(N∀∪Nˆ∀) and {a mathematical formula}C∩(N∃∪Nˆ∃)=∅; or {a mathematical formula}C⊉(N∀∪Nˆ∀);  (by {a mathematical formula}R2)
        </list-item>
        <list-item label="•">
         {a mathematical formula}C⊉(N∀∪Nˆ∀) and C is ∃-consistent; or {a mathematical formula}C⊇(N∀∪Nˆ∀);  (by {a mathematical formula}R3)
        </list-item>
        <list-item label="•">
         {a mathematical formula}C⊉(N∀∪Nˆ∀), {a mathematical formula}C∩(N∀∪Nˆ∀)≠∅, and C is ∀-consistent; or {a mathematical formula}C⊇(N∀∪Nˆ∀); or {a mathematical formula}C∩(N∀∪Nˆ∀)=∅;  (by {a mathematical formula}R4)
        </list-item>
        <list-item label="•">
         {a mathematical formula}C∩(N∃∪Nˆ∃)≠∅, {a mathematical formula}C∩(N∀∪Nˆ∀)≠∅, and {a mathematical formula}σ(C)⊨Φ; or {a mathematical formula}C∩(N∃∪Nˆ∃)=∅; or {a mathematical formula}C∩(N∀∪Nˆ∀)=∅  (by {a mathematical formula}R5)
        </list-item>
       </list>
       <paragraph>
        By putting it all together and by simple Boolean manipulations, we derive that none of the above rule applies to a coalition C if, and only if, we are in one of the scenarios for which the payoff function v returns a non-negative value. That is, for each {a mathematical formula}C⊆N, {a mathematical formula}vR(C)=0 (resp., {a mathematical formula}vR(C)≤−M) if, and only if, {a mathematical formula}v(C)≥0 (resp., {a mathematical formula}v(C)&lt;0). Given this property, the function v can be encoded via the rules in {a mathematical formula}R1∪R2∪R3∪R4∪R5 plus the following set of rules taking care of the coalitions where v gets positive values:{a mathematical formula} In fact, note that for each coalition C such that {a mathematical formula}vR(C)=0, precisely one of the above rules can apply. On the other hand, more than one rule can apply to some coalition C such that {a mathematical formula}vR(C)≤−M. However, in this case, we only would like to guarantee that {a mathematical formula}v(C)≤−|N| holds. Indeed, this immediately follows by the choice of M in the construction, and given that each rule in {a mathematical formula}R6 additively contributes 1 at most (for {a mathematical formula}ε=13).  □
       </paragraph>
      </paragraph>
     </section>
     <section label="4.2">
      <section-title>
       Superadditive games
      </section-title>
      <paragraph>
       Let us move to analyze the complexity of superadditive games. The complexity of core-related concepts for these games has been investigated by [5], where the authors showed that deciding whether the core is not empty is an NP-complete problem, even when restricted to superadditive games based on synergies among coalitions. However, as they explicitly pointed out, even computing the payoff associated with some given coalition is NP-hard in the proposed encoding, i.e., the proposed setting does not fit our definition of a P-representation scheme. Therefore, the intractability of the core comes with no surprise there, and we still did not know so far whether core-related problems remain intractable over superadditive games whose payoff functions can moreover be computed in polynomial-time. Below, we provide an answer to this open question.
      </paragraph>
      <paragraph>
       In the following, if {a mathematical formula}CG(R) is a class of structurally-restricted characteristic function games, then we denote by {a mathematical formula}CGsa(R) the subclass of all superadditive games {a mathematical formula}Γ=〈N,v,G〉 in {a mathematical formula}CG(R)—recall that a game is superadditive if whenever three feasible coalitions {a mathematical formula}S,T,S∪T∈F(G) are given with {a mathematical formula}S∩T=∅, then {a mathematical formula}v(S∪T)≥v(S)+v(T) holds. In fact, throughout this section, we limit our attention to the case of complete interaction graphs, hence to {a mathematical formula}CKsa(R).
      </paragraph>
      <paragraph>
       We start by studying the complexity of the CS-Core-Membership problem, which has not been addressed so far in our analysis. We again focus on games encoded via marginal contribution networks.
      </paragraph>
      <paragraph label="Proof">
       On the class{a mathematical formula}CKsa(mcn)(hence, on{a mathematical formula}CK(mcn)) of games encoded via marginal contribution networks,CS-Core-Membershipis{a mathematical formula}co-NP-hard even if each rule contains at most one negated literal/agent and if the associated values are non-negative.Let {a mathematical formula}Φ=c1∧⋯∧cm be a Boolean formula in conjunctive normal form over the variables {a mathematical formula}a1,…,an, such that each clause {a mathematical formula}cj, with {a mathematical formula}j∈{1,…,m}, is a disjunction of three literals having the form {a mathematical formula}yj,1∨yj,2∨yj,3. A not-all-equal (satisfying) truth assignment σ for Φ is such that, for each clause {a mathematical formula}cj, at least one of its literals evaluates true in it and one of its literals evaluates false in it. Deciding whether there exists a not-all-equal truth assignment is NP-hard, and it is well-known and easy to see that the problem remains intractable in its monotone variant, i.e., when Φ does not contain negated variables. In particular, the NP-hardness of the monotone variant when each clause contains at most three variables (and, w.l.o.g., at least two variables) follows by Schaefer's dichotomy theorem [46]. Moreover, observe that “yes” instances are preserved if each clause {a mathematical formula}cj=yj,1∨yj,2 including two variables is replaced by the conjunction of the clauses {a mathematical formula}cj1=yj,1∨yj,2∨αj, {a mathematical formula}cj2=yj,1∨yj,2∨βj, {a mathematical formula}cj3=yj,1∨yj,2∨γj, and {a mathematical formula}cj4=αj∨βj∨γj, with {a mathematical formula}αj, {a mathematical formula}βj, and {a mathematical formula}γj being fresh variables.In the following, for a truth assignment σ, we denote by {a mathematical formula}γσ(Φ) the number of clauses of Φ where at least one of its literals evaluates true in σ and one of its literals evaluates false in σ. Note that {a mathematical formula}γσ(Φ)=m holds if, and only if, σ is a not-all-equal satisfying truth assignment. Moreover, note that in the monotone setting we are considering, the assignments {a mathematical formula}σ({}) and {a mathematical formula}σ({a1,…,an}) are not not-all-equal satisfying ones.Based on Φ, we build a structurally-restricted characteristic function game {a mathematical formula}Γnae(Φ)∈CK(mcn) whose encoding {a mathematical formula}ξmcn(Γnae(Φ)) consists of the MC-net {a mathematical formula}Mnae(Φ) defined over the variables/agents in {a mathematical formula}N=vars(Φ)∪{an+1} and including the following rules:{a mathematical formula}Since the formula Φ does not contain negated literals, each of the above rules contains at most one negated literal/agent. Moreover, since {a mathematical formula}σ({a1,…,an}) is not a not-all-equal satisfying assignment, the values associated with each rule are non-negative.Let us now analyze the function induced by these rules. Note that rules belonging to the last six groups of rules reported above apply to a coalition C only if {a mathematical formula}an+1∈C and {a mathematical formula}σ(C∖{an+1}) encodes a not-all-equal truth assignment for some clauses. In particular, precisely {a mathematical formula}2×γσ(C∖{an+1})(Φ) rules of this kind apply to any coalition C with {a mathematical formula}an+1∈C. Indeed, observe that if {a mathematical formula}σ(C∖{an+1}) encodes (resp., does not encode) a not-all-equal truth assignment for {a mathematical formula}cj, then exactly two of the rules associated with the index j apply (resp., none of the rules associated with the index j applies). Hence, the payoff function v induced by this marginal contribution network is:{a mathematical formula}Consider now the payoff vector x such that {a mathematical formula}xi=1, for each {a mathematical formula}i∈{1,…,n}, and {a mathematical formula}xn+1=1−1/m. Note that {a mathematical formula}x(N)=v(N). We claim that {a mathematical formula}({N},x) belongs to {a mathematical formula}CS-core(Γnae(Φ)) if, and only if, there is no not-all-equal satisfying truth assignment. This reduces the complement of an NP-complete problem to CS-Core-Membership, hence showing its {a mathematical formula}co-NP-hardness. To prove this claim, observe first that, since {a mathematical formula}v(N)≥v(C)≥0, for each coalition {a mathematical formula}C⊆N, and since {a mathematical formula}v(T)=0, for each coalition such that {a mathematical formula}an+1∉T, it is immediate to check that {a mathematical formula}Γnae(Φ) is a cohesive game, and that the maximum social welfare is attained by the grand-coalition. Therefore, we can apply Fact 3.5 stating that, for any payoff vector x, {a mathematical formula}x∈core(Γnae(Φ)) if, and only if, {a mathematical formula}({N},x)∈CS-core(Γnae(Φ)).Hence, it only remains to show that {a mathematical formula}x∈core(Γnae(Φ)) if, and only if, Φ has no not-all-equal satisfying truth assignments:
       <list>
        Assume there is no not-all-equal satisfying truth assignment. Then, for each coalition {a mathematical formula}C⊆N with {a mathematical formula}C={an+1}∪S, it holds that {a mathematical formula}v(C)≤|S|+1−1/m, because {a mathematical formula}γσ(S)(Φ)≤m−1. Moreover, for a coalition C of this kind, {a mathematical formula}x(C)=x(S)+xn+1=|S|+1−1/m, i.e., {a mathematical formula}x(C)≥v(C). Consider then any coalition C such that {a mathematical formula}an+1∉C. In this case, we trivially have that {a mathematical formula}x(C)≥0=v(C). By putting the two cases together, we have shown that there is no coalition wishing to deviate from x, that is, x is in {a mathematical formula}core(Γnae(Φ)).Assume {a mathematical formula}S⁎⊆{a1,…,an} is such that {a mathematical formula}σ(S⁎) is a not-all-equal satisfying truth assignment. Note that {a mathematical formula}σ(S¯⁎) is a not-all-equal satisfying truth assignment too, where {a mathematical formula}S¯⁎={a1,…,an}∖S⁎. Since {a mathematical formula}σ({}) is not a not-all-equal satisfying assignment, this means that {a mathematical formula}S⁎≠∅ and {a mathematical formula}S⁎⊂{a1,…,an}. Then, we have {a mathematical formula}v(S⁎∪{an+1})+v(S¯⁎∪{an+1})=(|S⁎|+1)+(|S¯⁎|+1)=n+2. Let now {a mathematical formula}x′ be an allocation in {a mathematical formula}core(Γnae(Φ)). Therefore, we have that {a mathematical formula}x′(S⁎)+xn+1′≥v(S⁎∪{an+1}) and {a mathematical formula}x′(S¯⁎)+xn+1′≥v(S¯⁎∪{an+1}). By summing the two inequalities, we derive {a mathematical formula}x′(N)+xn+1′≥n+2. Moreover, observe that {a mathematical formula}x′ must be such that {a mathematical formula}x′(N)=v(N)=n+1−1/m. So, for any allocation {a mathematical formula}x′ in the core, we have derived that {a mathematical formula}xn+1′≥1+1/m must hold. This entails that the allocation x, which is in particular such that {a mathematical formula}xn+1=1−1/m, does not belong to {a mathematical formula}core(Γnae(Φ)).In order to conclude the proof, we just show that the game
       </list>
       <paragraph>
        {a mathematical formula}Γnae(Φ) is superadditive. Let S and T be disjoint coalitions. Note that if {a mathematical formula}S∪T=N, then {a mathematical formula}v(S∪T)≥v(S)+v(T) holds, since we have observed that {a mathematical formula}Γnae(Φ) is cohesive. Accordingly, assume that {a mathematical formula}S∪T⊂N, and consider the following expression for the payoff associated with {a mathematical formula}S∪T:{a mathematical formula}Note that if {a mathematical formula}an+1∉S∪T, then {a mathematical formula}v(S)=v(T)=0 and we trivially get that {a mathematical formula}v(S∪T)=v(S)+v(T)=0. It remains to consider the case where {a mathematical formula}an+1∈S∪T. Assume, w.l.o.g., that {a mathematical formula}an+1∈S. Hence, we have {a mathematical formula}v(T)=0 and {a mathematical formula}v(S)=|S|+γσ(S)(Φ)/m. We have to show that {a mathematical formula}v(S∪T)=|S|+|T|+γσ(S∪T)(Φ)/m≥|S|+γσ(S)(Φ)/m, i.e., that {a mathematical formula}|T|+γσ(S∪T)(Φ)/m≥γσ(S)(Φ)/m. Clearly, for {a mathematical formula}|T|=0, the inequality trivially holds (as an equality). Otherwise, the property follows from the fact that {a mathematical formula}|T|≥1, {a mathematical formula}γσ(S∪T)(Φ)≥0, and {a mathematical formula}γσ(S)(Φ)≤m, by definition of the game.  □
       </paragraph>
      </paragraph>
      <paragraph>
       Note that, independently from our work, the fact that CS-Core-Membership is {a mathematical formula}co-NP-hard over marginal contribution networks has been proven by Li and Conitzer [31]. In their work, a class of marginal contribution networks is exhibited for the hardness reduction where each rule, however, might contain more than just one negated literal—but with its associated value being still non-negative. In fact, Li and Conitzer actually observed that when no negated literals occur at all, marginal contribution networks reduce to hypergraph games, so that tractability of CS-Core-Membership in the presence of non-negative values only follows from the results in [24]; instead, our result (stating the hardness even when each rule contains at most one negated literal/agent) traces the boundary of tractability and emphasizes the role played by negated literals in the specification of the network.
      </paragraph>
      <paragraph>
       Let us now turn to the problems CS-CoS, CS-Core-NonEmptiness, and CS-LCV over superadditive games. In this case, we can establish more favorable complexity results than for the general case, as these problems are no longer {a mathematical formula}Δ2P-complete. However, they are still intractable, so that again superadditivity does not help very much.
      </paragraph>
      <paragraph label="Theorem 4.10">
       On the class{a mathematical formula}CKsa(mcn)of games encoded via marginal contribution networks, the problemsCS-CoS,CS-Core-NonEmptiness,CS-LCV{sup:−},CS-LCV{sup:+}, andCS-LCVare{a mathematical formula}co-NP-hard even if each rule contains at most one negated literal/agent and if the associated values are non-negative.
      </paragraph>
      <paragraph label="Proof">
       The proof of {a mathematical formula}co-NP-hardness of CS-Core-NonEmptiness over marginal contribution networks is based on an adaptation of the proof of Theorem 4.9. Given a Boolean formula {a mathematical formula}Φ=c1∧⋯∧cm in conjunctive normal form over the variables {a mathematical formula}a1,…,an and such that no clause contains a negated variable, we build in polynomial time the marginal contribution network {a mathematical formula}Mnae′(Φ) consisting of the rules in {a mathematical formula}Mnae(Φ) (defined in that proof) plus the following rule{a mathematical formula} which in fact applies only to the coalition {a mathematical formula}C={a1,…,an}. Then, it is immediate to check that the game {a mathematical formula}Γnae′(Φ), with associated payoff function {a mathematical formula}v′, induced by {a mathematical formula}Mnae′(Φ) is such that: {a mathematical formula}v′(C)=v(C), for each coalition {a mathematical formula}C⊆N={a1,…,an,an+1} with {a mathematical formula}C≠{a1,…,an}; and {a mathematical formula}v′({a1,…,an})=n&gt;v({a1,…,an})=0, where v is the payoff function associated with the game {a mathematical formula}Γnae(Φ).First, we observe that {a mathematical formula}Γnae′(Φ) is superadditive. In fact, since {a mathematical formula}Γnae(Φ) is superadditive and given the construction of {a mathematical formula}v′, we have only to check that the following conditions hold:
       <list>
        {a mathematical formula}v′(N)≥v′({a1,…,an})+v′({an+1}). Indeed, note that {a mathematical formula}v′({a1,…,an})=n and {a mathematical formula}v′({an+1})=v({an+1})=|{}|+γσ({})(Φ)/m≤1−1/m, whereas {a mathematical formula}v′(N)=v(N)=n+1−1/m. In particular, note that {a mathematical formula}γσ({})(Φ)≤m−1, because {a mathematical formula}σ({}) is not a not-all-equal satisfying assignment.{a mathematical formula}v′({a1,…,an})≥v′(S)+v′(T), for each pair of disjoint coalitions S and T such that {a mathematical formula}S∪T={a1,…,an}. Indeed, {a mathematical formula}v′({a1,…,an})=n, while {a mathematical formula}v′(S)=v(S)=0 and {a mathematical formula}v′(T)=v(T)=0, because {a mathematical formula}an+1∉S∪T.Now, since
       </list>
       <paragraph>
        {a mathematical formula}Γnae′(Φ) is superadditive (and therefore cohesive), we can apply Fact 3.5 in order to conclude that {a mathematical formula}CS-core(Γnae′(Φ))=∅ if, and only if, {a mathematical formula}core(Γnae′(Φ))=∅. The {a mathematical formula}co-NP-hardness of CS-Core-NonEmptiness eventually follows, by claiming that {a mathematical formula}core(Γnae′(Φ))≠∅ if, and only if, Φ has no not-all-equal satisfying truth assignment:
       </paragraph>
       <list>
        <list-item label="(⇐)">
         Assume there is no not-all-equal satisfying truth assignment, and consider the payoff vector x such that {a mathematical formula}xi=1, for each {a mathematical formula}i∈{1,…,n}, and {a mathematical formula}xn+1=1−1/m. We claim that {a mathematical formula}x∈core(Γnae′(Φ)). Indeed, we first note that {a mathematical formula}x(N)=v(N)=v′(N). Moreover, for each coalition {a mathematical formula}C⊆N with {a mathematical formula}C={an+1}∪S, it holds that {a mathematical formula}v(C)≤|S|+1−1/m. Therefore, in this case, {a mathematical formula}x(C)=x(S)+xn+1=|S|+1−1/m≥v(C)=v′(C). Consider then any coalition C such that {a mathematical formula}an+1∉C and {a mathematical formula}C≠{a1,…,an}. We trivially have that {a mathematical formula}x(C)≥0=v(C)=v′(C). Finally, we have {a mathematical formula}x({a1,…,an})=n=v′({a1,…,an}). By putting all these cases together, we have shown that there is no coalition having an incentive to deviate from x. Hence, x is in {a mathematical formula}core(Γnae′(Φ)).
        </list-item>
        <list-item label="(⇒)">
         Assume that {a mathematical formula}S⁎⊆{a1,…,an} is such that {a mathematical formula}σ(S⁎) is a not-all-equal satisfying truth assignment. For the sake of contradiction, assume that x is an allocation in {a mathematical formula}core(Γnae′(Φ)). By the same line of reasoning as in the proof of Theorem 4.9, we get that {a mathematical formula}xn+1≥1+1/m. Moreover, it holds that {a mathematical formula}x1+⋯+xn≥v′({a1,…,an})=n. Thus, {a mathematical formula}x1+⋯+xn+xn+1≥n+1+1/m, which is impossible since {a mathematical formula}x(N) must coincide with {a mathematical formula}v′(N)=v(N)=n+1−1/m.
        </list-item>
       </list>
       <paragraph>
        To conclude, we observe that the {a mathematical formula}co-NP-hardness of CS-Core-NonEmptiness entails that CS-CoS, CS-LCV{sup:−}, CS-LCV{sup:+}, and CS-LCV are also {a mathematical formula}co-NP-hard over superadditive games encoded via marginal contribution networks. In particular, recall that CS-LCV{sup:−} and CS-LCV{sup:+} are specializations of CS-LCV, where the penalty ε provided as input is constrained to be such that {a mathematical formula}ε≤0 and {a mathematical formula}ε≥0, respectively. Therefore, in both cases, by fixing {a mathematical formula}ε=0, we are back to the problem of deciding whether the coalition structure core is not empty.  □
       </paragraph>
      </paragraph>
      <paragraph>
       Similarly to the case of Theorem 4.9, the above result evidences the role played by negated literals in the marginal contribution networks, because in their absence CS-Core-NonEmptiness is known to be solvable in polynomial time, whenever the values associated with the rules are non-negative [24], [31]. In particular, note that earlier results on the {a mathematical formula}co-NP-hardness of CS-Core-NonEmptiness either use negative values (cf. [24]) or are based on rules containing many occurrences of negated literals [31].
      </paragraph>
      <paragraph>
       We conclude the section by stating the corresponding membership results, and by generalizing the analysis conducted so far to any compact representation scheme that is at least as expressive as MC-nets. To this end, we first state the following property.
      </paragraph>
      <paragraph label="Lemma 4.11">
       Let{a mathematical formula}Rbe any compactP-representation such that{a mathematical formula}mcn≾eR. Assume that a problemPisC-hard, with{a mathematical formula}C∈{NP,co-NP,Δ2P,Σ2P}, on a class{a mathematical formula}Xof games encoded as input in terms of marginal contribution networks. Then,PisC-hard on{a mathematical formula}Xeven when its games are encoded according to the representation scheme{a mathematical formula}R.
      </paragraph>
      <paragraph label="Proof">
       From the C-hardness for marginal contribution networks on the class {a mathematical formula}X, for any problem ϒ in C there is a polynomial-time reduction {a mathematical formula}f1 to the problem P on the class {a mathematical formula}X. Moreover, recall that {a mathematical formula}mcn≾eR means that there exists a polynomial-time function {a mathematical formula}f2 that translates any encoding {a mathematical formula}ξmcn(Γ) into an encoding {a mathematical formula}f2(ξmcn(Γ)) for Γ in {a mathematical formula}R. Therefore, the composition of {a mathematical formula}f1 and {a mathematical formula}f2 is a polynomial-time reduction from any problem in C to the problem P for games in {a mathematical formula}X.  □
      </paragraph>
      <paragraph>
       Note that the results derived so far and the above lemma immediately lead to the hardness result stated below. Concerning the membership results (that have not been proven in Section 4.1), we point out that their proofs are routine and they are reported for the sake of completeness, only. In fact, for the CS-CoS problem, the characterization derived in Section 3 is rather useful and simplify the analysis.
      </paragraph>
      <paragraph label="Theorem 4.12">
       Let{a mathematical formula}Rbe any compactP-representation.
      </paragraph>
      <list>
       <list-item label="•">
        On the class{a mathematical formula}CK(R),CS-CoS,CS-Core-NonEmptiness, andCS-LCV{sup:−}belong to{a mathematical formula}Δ2P;CS-LCV{sup:+}andCS-LCVbelong to{a mathematical formula}Σ2P;CS-Core-Membershipbelongs to{a mathematical formula}co-NP.
       </list-item>
       <list-item label="•">
        On the class{a mathematical formula}CKsa(R),CS-Core-Membership,CS-CoS,CS-Core-NonEmptiness,CS-LCV{sup:−},CS-LCV{sup:+}, andCS-LCVbelongs to{a mathematical formula}co-NP.
       </list-item>
      </list>
      <paragraph label="Proof">
       Results for CS-CoS, CS-Core-NonEmptiness, CS-LCV{sup:−}, CS-LCV{sup:+}, and CS-LCV on {a mathematical formula}CK(R) are either already stated in Section 4.1 (membership results) or derive from them via Lemma 4.11 and the assumption that {a mathematical formula}mcn≾eR (hardness results). Similarly, hardness results for the problems on superadditive games follow by Lemma 4.11, by the results in Section 4.2, and by the assumption that {a mathematical formula}mcn≾eR. Moreover, the proof of the membership of CS-Core-Membership in {a mathematical formula}co-NP over the class {a mathematical formula}CK(R) (and, hence, over {a mathematical formula}CKsa(R)) is a simple adaptation of the result derived in the setting where all coalitions are allowed to form [9]—see the proof of Theorem 4.1.Then, consider the remaining results to be shown on the class {a mathematical formula}CKsa(R). Since we are dealing with superadditive (and hence cohesive) games, we can apply Fact 3.5. Therefore, for any game {a mathematical formula}Γ∈CKsa(R), {a mathematical formula}CS-core(Γ)=∅ if, and only if, {a mathematical formula}core(Γ)=∅. Hence, membership in {a mathematical formula}co-NP for the problem CS-Core-Membership is again easily seen. Similarly, in order to decide whether {a mathematical formula}CS-CoS(Γ)≤Δ, we have to check whether {a mathematical formula}CS-core(ΓΔ)≠∅. In fact, whenever Γ is superadditive, {a mathematical formula}ΓΔ is superadditive, too. Moreover, an encoding for {a mathematical formula}ΓΔ can be built in polynomial time (cf. proof of Theorem 4.1), and so CS-CoS is again in {a mathematical formula}co-NP. Finally, for cohesive games, we recall from Theorem 3.10 that {a mathematical formula}CS-LCV(Γ)=LCV(Γ). Hence, deciding whether the coalition structure least core value of Γ is ε at most is reduced to checking whether {a mathematical formula}core(Γ-ε)≠∅. Again, an encoding for {a mathematical formula}Γ-ε can be built in polynomial time, and the fact that the core is not empty can be checked in {a mathematical formula}co-NP. So, CS-LCV{sup:−}, CS-LCV{sup:+}, and CS-LCV belongs to {a mathematical formula}co-NP.  □
      </paragraph>
     </section>
    </section>
    <section label="5">
     <section-title>
      Games with nearly-acyclic interaction graphs
     </section-title>
     <paragraph>
      Many NP-hard problems arising in different application areas are known to be efficiently solvable when restricted to instances whose underlying structures can be modeled via acyclic graphs. Indeed, for such restricted classes of instances, we can often compute solutions efficiently by means of dynamic programming. However, as a matter of fact, (graphical) structures arising from real applications are in most relevant cases not properly acyclic. Yet, they are often not very intricate and exhibit some rather limited degree of cyclicity, which suffices to retain most of the nice properties of acyclic instances. The investigation of graph properties that are best suited to identify nearly-acyclic graphs/hypergraphs has led to the definition of a number of so-called structural decomposition methods (see, e.g., [47], [48] and the references therein).
     </paragraph>
     <section label="5.1">
      <section-title>
       Basic notions
      </section-title>
      <paragraph>
       There are different possible notions to measure how far a graph is from a tree, that is, to measure its degree of cyclicity or, dually, its tree-likeness. Among them, the treewidth [29] is the most powerful one, as it is able to extend the nice computational properties of trees to the largest possible classes of graphs, in many applications from different fields. In fact, useful tractability results for core-related concepts in coalitional games over bounded treewidth graphs have been derived in the literature, such as, for instance, in the context of transferable utility planning games [49], graph games and marginal contribution networks [9], [25]. However, the question of whether core-related concepts over bounded treewidth games with coalition structures are tractable was not addressed so far. We embark on this study and we start by recalling the formal definition of treewidth, and its basic properties.
      </paragraph>
      <paragraph label="Definition 5.1">
       (See [29].) A tree decomposition of a graph {a mathematical formula}G=(N,E) is a pair {a mathematical formula}〈T,χ〉, where {a mathematical formula}T=(V,F) is a tree, and χ is a labeling function assigning to each vertex {a mathematical formula}p∈V a set of vertices {a mathematical formula}χ(p)⊆N, such that the following three conditions are satisfied: (1) for each node b of G, there exists {a mathematical formula}p∈V such that {a mathematical formula}b∈χ(p); (2) for each edge {a mathematical formula}(b,d)∈E, there exists {a mathematical formula}p∈V such that {a mathematical formula}{b,d}⊆χ(p); and (3) for each node b of G, the set {a mathematical formula}{p∈V|b∈χ(p)} induces a connected subtree of T. The width of {a mathematical formula}〈T,χ〉 is the number {a mathematical formula}maxp∈V⁡(|χ(p)|−1). The treewidth of G, denoted by {a mathematical formula}tw(G), is the minimum width over all its tree decompositions. □
      </paragraph>
      <paragraph>
       Note that the notion of treewidth is a true generalization of graph acyclicity: A graph G is acyclic if, and only if, {a mathematical formula}tw(G)=1. For example, the graph G in Fig. 2 is cyclic and its treewidth is 2, as it is witnessed by the width-2 tree decomposition depicted in the same figure.
      </paragraph>
      <paragraph>
       To determine the treewidth of a graph G is NP-hard. However, for each fixed natural number k, checking whether {a mathematical formula}tw(G)≤k, and if so, computing a tree decomposition for G of optimal width, is achievable in linear time [50], and was recently shown to be achievable in logarithmic space [51]. Therefore, it is sensible to focus our analysis on the class {a mathematical formula}TW-k of those interaction graphs having treewidth bounded by some fixed natural number k. Accordingly, if {a mathematical formula}C(R) is the class induced by the representation {a mathematical formula}R, then {a mathematical formula}CTW-k(R) is the subclass of all games {a mathematical formula}Γ=〈N,v,G〉 such that {a mathematical formula}tw(G)≤k.
      </paragraph>
     </section>
     <section label="5.2">
      <section-title>
       Results on graphs with bounded treewidth (and trees)
      </section-title>
      <paragraph>
       As in Section 4, we start the analysis by considering arbitrary payoff functions. Our first result is a useful technical property. The result is a variant of those discussed in Section 3.1, and trivially follows by the arguments illustrated there.
      </paragraph>
      <paragraph label="Fact 5.2">
       Let{a mathematical formula}Γ=〈N,v,G〉and{a mathematical formula}Γ′=〈N,v,G′〉be two structurally-restricted characteristic function games such that:{a mathematical formula}v({i})≥0, for each{a mathematical formula}i∈N;{a mathematical formula}F(G′)⊆F(G); and{a mathematical formula}v(C)≤0, for each coalition{a mathematical formula}C∈F(G)∖F(G′). Then,{a mathematical formula}
      </paragraph>
      <paragraph>
       The property is now used to adapt the proof of the hardness result stated in Theorem 4.4 in order to deal with an interaction graph having bounded treewidth.
      </paragraph>
      <paragraph>
       Actually, the fact that our reasoning problems remain intractable over bounded treewidth interaction graphs is not surprising given that computing the maximum social welfare is NP-hard, even over (i) trees and over (ii) simple and monotone games{sup:10} with interaction graphs having treewidth 2 [32]. However, from a technical viewpoint, the results in [32] are specific for the computation of the maximum social welfare and, therefore, do not imply the result below. Moreover, our result is provided for a different complexity class ({a mathematical formula}Δ2P) and for a specific representation scheme (marginal contribution networks). Similar considerations apply to the subsequent results in this section.
      </paragraph>
      <paragraph label="Proof">
       Let{a mathematical formula}Rbe any compactP-representation such that{a mathematical formula}mcn≾eR, and let{a mathematical formula}k&gt;0be a fixed constant. On the class{a mathematical formula}CTW-k(R),CS-CoSandCS-Core-NonEmptinessare{a mathematical formula}Δ2P-complete. Hardness holds even for{a mathematical formula}k=2.Membership results in {a mathematical formula}Δ2P follow from Theorem 4.1. For the hardness results, consider the proof of Theorem 4.4, where it is shown that the problems CS-CoS, CS-Core-NonEmptiness, and CS-LCV{sup:−} are {a mathematical formula}Δ2P-complete on the class {a mathematical formula}CK(mcn). Recall that we are given a Boolean formula Φ, and we build a game {a mathematical formula}Γ(Φ)∈CK(mcn) whose associated payoff function v is such that:{a mathematical formula} In particular, recall that we have shown that {a mathematical formula}CS-core(Γ(Φ))≠∅ if, and only if, {a mathematical formula}a1 is true in the lexicographically maximal satisfying assignment of Φ.First, we can assume, w.l.o.g., that the assignment {a mathematical formula}σ({}) is satisfying. Indeed, given any Boolean function {a mathematical formula}Φ=c1∧⋯∧cm in CNF over the variables {a mathematical formula}a1,…,an, we can build a Boolean function {a mathematical formula}Φ′=c1′∧⋯∧cm′ over the variables {a mathematical formula}{a1,…,an}∪{b1,…,bm} such that {a mathematical formula}ci′=ci∨¬bi, for each {a mathematical formula}i∈{1,…,m}. Moreover, we assume that variables in {a mathematical formula}{b1,…,bm} always precede all variables in {a mathematical formula}{a1,…,an} in the given ordering. Therefore, {a mathematical formula}a1 is true in the lexicographically maximal satisfying assignment of Φ if, and only if, {a mathematical formula}a1 is true in the lexicographically maximal satisfying assignment of {a mathematical formula}Φ′. In fact, by construction, {a mathematical formula}Φ′ is satisfied by the assignment where all variables are false.Consider then the interaction graph {a mathematical formula}G(Φ) depicted in the left part of Fig. 3. Note that the graph is cyclic, and it has treewidth 2, as it is witnessed by the tree decomposition depicted on the right of the same figure.Let C be a coalition that is not allowed to form according to {a mathematical formula}G(Φ), i.e., with {a mathematical formula}C∉F(G(Φ)). We can distinguish the following cases: (1) {a mathematical formula}C∩{a1,…,an}≠∅, and {a mathematical formula}an+4∉C; (2) {a mathematical formula}an+4∈C, {a mathematical formula}C∩{an+1,an+2}≠∅, and {a mathematical formula}an+3∉C. In both cases, we have that {a mathematical formula}v(C)≤0. Moreover, observe that {a mathematical formula}v(C)≥0, for each coalition C with {a mathematical formula}|C|=1. In particular, observe that {a mathematical formula}v({an+4})=w({})=0, as {a mathematical formula}σ({})⊨Φ. Thus, we are in a position to apply Fact 5.2 in order to derive:{a mathematical formula}Now, we claim that {a mathematical formula}CS-core(〈N,v,G(Φ)〉)=∅ ⇔ {a mathematical formula}CS-core(Γ(Φ))=∅. Indeed, the ‘⇐’-part trivially follows from the above expression. To show that the ‘⇒’-part holds too, consider an element {a mathematical formula}(Π,x) in {a mathematical formula}CS-core(Γ(Φ)). Because of Fact 3.5, we already know that {a mathematical formula}CS-core(Γ(Φ))=CS-opt(Γ(Φ))×core(Γ˜(Φ)). Therefore, we have just to show that there is a coalition structure {a mathematical formula}Π⁎∈CS-opt(Γ(Φ)) such that {a mathematical formula}C∈F(G(Φ)), for each coalition {a mathematical formula}C∈Π⁎. Indeed, in this case, we would have that {a mathematical formula}(Π⁎,x) is in {a mathematical formula}CS-core(〈N,v,G(Φ)〉). In fact, since {a mathematical formula}CS-core(Γ(Φ))≠∅, we have that {a mathematical formula}a1 is true in the lexicographically maximal satisfying assignment of Φ. By Property 4.4.1, {a mathematical formula}Πt⁎ is then an optimal coalition structure, where {a mathematical formula}Πt⁎ includes the coalition {a mathematical formula}S⁎∪{an+1,an+2,an+3,an+4}, plus each agent in {a mathematical formula}{a1,…,an}∖S⁎ as a singleton—and we are done, as each coalition in {a mathematical formula}Πt⁎ is in {a mathematical formula}F(G(Φ)).From the above claim, it follows that {a mathematical formula}CS-core(〈N,v,G(Φ)〉)≠∅ if, and only if, {a mathematical formula}a1 is true in the lexicographically maximal satisfying assignment of Φ, which proves the {a mathematical formula}Δ2P-hardness of CS-Core-NonEmptiness on the class {a mathematical formula}CTW-2(mcn). By Lemma 4.11, the same hardness result holds on {a mathematical formula}CTW-2(R), for any compact P-representation {a mathematical formula}R such that {a mathematical formula}mcn≾eR. Finally, we observe that hardness results for CS-Core-NonEmptiness trivially entail the corresponding hardness result for CS-CoS.  □
      </paragraph>
      <paragraph>
       We stress here that the hardness results above are given over the class {a mathematical formula}CTW-k(mcn) with {a mathematical formula}k=2, and hence apply to any class {a mathematical formula}CTW-k′(mcn), with {a mathematical formula}k′≥k. Indeed, by the definition of these classes, we have that {a mathematical formula}CTW-k(mcn)⊆CTW-k′(mcn). However, these results do not imply the corresponding hardness results over {a mathematical formula}CK(mcn), i.e., Theorem 5.3 does not entail Theorem 4.4.{sup:11} Similar considerations apply to all results in the section.
      </paragraph>
      <paragraph>
       Now, based on the reduction in the proof of Theorem 4.9, we prove that CS-Core-Membership remains {a mathematical formula}co-NP-complete over games equipped with interaction graphs having bounded treewidth, in fact with trees.
      </paragraph>
      <paragraph label="Theorem 5.4">
       Let{a mathematical formula}Rbe any compactP-representation, and let{a mathematical formula}k&gt;0be a constant. On the class{a mathematical formula}CTW-k(R),CS-Core-Membershipbelongs to{a mathematical formula}co-NP. Moreover, if{a mathematical formula}Ris such that{a mathematical formula}mcn≾eR, thenCS-Core-Membershipis{a mathematical formula}co-NP-hard, even on the subclass{a mathematical formula}CTW-ksa(R)of superadditive games with{a mathematical formula}k=1.
      </paragraph>
      <paragraph label="Proof">
       The membership result is easily seen to hold, and it follows by inspection in the proof of Theorem 4.12. For the hardness result, consider the proof of Theorem 4.9, where it is shown that the problem CS-Core-Membership is {a mathematical formula}co-NP-complete over {a mathematical formula}CKsa(mcn). Recall that we are given a Boolean function Φ and we build a (marginal contribution network inducing a) game {a mathematical formula}Γnae(Φ) over the set {a mathematical formula}N={a1,…,an,an+1} of agents and whose associated payoff function v is such that:{a mathematical formula} In particular, recall that we have exhibited a payoff vector x such that {a mathematical formula}({N},x) belongs to {a mathematical formula}CS-core(Γnae(Φ)) if, and only if, there is no not-all-equal satisfying truth assignment.Consider the interaction graph {a mathematical formula}Gnae(Φ) where agent {a mathematical formula}an+1 is connected with all other agents, and where no further edge occurs. Therefore, {a mathematical formula}Gnae(Φ) is actually a tree. Note also that a coalition {a mathematical formula}C⊆N with {a mathematical formula}C∉F(Gnae(Φ)) is such that {a mathematical formula}an+1∉C. In fact, for this coalition C, it is the case that {a mathematical formula}v(C)=0 holds. Thus, we are in the position of applying Fact 5.2 in order to derive:{a mathematical formula}Since N is a feasible coalition in {a mathematical formula}Gnae(Φ), we immediately conclude that {a mathematical formula}({N},x) belongs to {a mathematical formula}CS-core(Γnae(Φ)) if, and only if, {a mathematical formula}({N},x) belongs to {a mathematical formula}CS-core(〈N,v,Gnae(Φ)〉). This proves that CS-Core-Membership is {a mathematical formula}co-NP-complete on {a mathematical formula}CTW-1(mcn) and, hence, by Lemma 4.11 on the class {a mathematical formula}CTW-1(R), for each {a mathematical formula}R such that {a mathematical formula}mcn≾eR.In order to complete the proof, we have to show that the game {a mathematical formula}〈N,v,Gnae(Φ)〉 is superadditive. To this end, recall that {a mathematical formula}Γnae(Φ) is superadditive. Therefore, if {a mathematical formula}S,T,S∪T are three coalitions in {a mathematical formula}F(Gnae(Φ)) with {a mathematical formula}S∩T=∅, then we have {a mathematical formula}v(S∪T)≥v(S)+v(T), because these coalitions are also feasible in the game {a mathematical formula}Γnae(Φ) which is defined over a complete interaction graph.  □
      </paragraph>
      <paragraph>
       Let us now move to analyze CS-CoS, CS-Core-NonEmptiness, and CS-LCV over superadditive games (whose associated interaction graphs have bounded treewidth). In this case, we need a more sophisticated construction.
      </paragraph>
      <paragraph label="Lemma 5.5">
       Let{a mathematical formula}hn:Rn→Rn+2be such that{a mathematical formula}hn(〈x1,…,xn〉)=〈x1,…,xn,0,0〉. Let{a mathematical formula}Γ=〈N,v,Kn〉∈CKsa(mcn)be a structurally-restricted superadditive game, with{a mathematical formula}N={1,…,n}. Then, we can build in polynomial time w.r.t.{a mathematical formula}‖ξmcn(Γ)‖(the encoding of) a superadditive game{a mathematical formula}Γ′=〈N∪{n+1,n+2},v′,G′〉∈CTW-2sa(mcn)such that:
      </paragraph>
      <list>
       <list-item label="•">
        if{a mathematical formula}({N},x)∈CS-core(Γ), then{a mathematical formula}({N∪{n+1,n+2}},hn(x))∈CS-core(Γ′);
       </list-item>
       <list-item label="•">
        if{a mathematical formula}({N∪{n+1,n+2}},x′)∈CS-core(Γ′), then{a mathematical formula}xn+1′=xn+2′=0and the vector x with{a mathematical formula}x′=hn(x)is such that{a mathematical formula}({N},x)∈CS-core(Γ).
       </list-item>
      </list>
      <paragraph label="Proof">
       Let {a mathematical formula}Γ=〈N,v,Kn〉∈CKsa(mcn) be a game encoded as a marginal contribution network M. Consider the game {a mathematical formula}Γ′=〈N∪{n+1,n+2},v′,G′〉 whose payoff function {a mathematical formula}v′ is encoded in terms of the same marginal contribution network M. Therefore, {a mathematical formula}v′({n+1})=v′({n+2})=0, and {a mathematical formula}v′(S′)=v(S′∖{n+1,n+2}), for each feasible coalition {a mathematical formula}S′⊆N∪{n+1,n+2} with {a mathematical formula}S′∩N≠∅. In particular, assume that the interaction graph {a mathematical formula}G′ is such that {a mathematical formula}n+1 and {a mathematical formula}n+2 are connected to all the remaining agents, and no further edges are in {a mathematical formula}G′. The graph is depicted in Fig. 4. Note that {a mathematical formula}tw(G′)=2.First, we claim that {a mathematical formula}Γ′ is superadditive, whenever Γ is superadditive. Consider any two disjoint feasible coalitions {a mathematical formula}S′ and {a mathematical formula}T′ such that {a mathematical formula}S′∪T′ is feasible, too. In the case where {a mathematical formula}S′∩N≠∅ and {a mathematical formula}T′∩N≠∅, we have {a mathematical formula}v′(S′∪T′)=v(S′∪T′∖{n+1,n+2})≥v(S′∖{n+1,n+2})+v(T′∖{n+1,n+2})=v′(S′)+v′(T′). In fact, note that {a mathematical formula}v′(S′∪T′)=v(S′∪T′∖{n+1,n+2})≥v(S′∖{n+1,n+2})+v(T′∖{n+1,n+2}) follows from the fact that Γ is superadditive and any coalition is feasible in {a mathematical formula}Kn, i.e., according to it. To complete the analysis, consider the case where {a mathematical formula}T′⊆{n+1,n+2} (and {a mathematical formula}S′∩N≠∅). In this case, we have {a mathematical formula}v′(S′∪T′)=v(S′∪T′∖{n+1,n+2})=v(S′∖{n+1,n+2})=v′(S′). Again, we have {a mathematical formula}v′(S′∪T′)≥v′(S′)+v′(T′), because {a mathematical formula}v′(T′)=0.Now, let {a mathematical formula}({N},x) be an element in {a mathematical formula}CS-core(Γ), and consider the vector {a mathematical formula}x′=hn(x) such that {a mathematical formula}xi′=xi, for each {a mathematical formula}i∈N, while {a mathematical formula}xn+1′=xn+2′=0. We claim that {a mathematical formula}({N∪{n+1,n+2}},x′) is in {a mathematical formula}CS-core(Γ′). Indeed, note first that {a mathematical formula}x′(N∪{n+1,n+2})=x(N)=v(N)=v′(N∪{n+1,n+2}). Moreover, for each {a mathematical formula}S′⊆N∪{n+1,n+2} with {a mathematical formula}S′∩N≠∅, {a mathematical formula}x′(S′)=x(S′∖{n+1,n+2})≥v(S′∖{n+1,n+2})=v′(S′).In order to complete the proof, consider any element {a mathematical formula}(N∪{n+1,n+2},x′) in {a mathematical formula}CS-core(Γ′). We have {a mathematical formula}x′(N∪{n+1,n+2})=v′(N∪{n+1,n+2})=v(N), {a mathematical formula}x′(N∪{n+1})≥v′(N∪{n+1})=v(N) and {a mathematical formula}x′(N∪{n+2})≥v′(N∪{n+2})=v(N). Therefore, {a mathematical formula}xn+1′=xn+2′=0. Consider then the vector x such that {a mathematical formula}x′=h(x), and note that {a mathematical formula}({N},x) is in {a mathematical formula}CS-core(Γ). Indeed, {a mathematical formula}x(N)=x′(N∪{n+1,n+2})=v′(N∪{n+1,n+2})=v(N). Moreover, for each non-empty {a mathematical formula}S⊆N, {a mathematical formula}x(S)=x′(S∪{n+1,n+2})≥v′(S∪{n+1,n+2})=v(S). In particular, note that, in the above relationships, {a mathematical formula}S∪{n+1,n+2} is guaranteed to induce a connected subgraph over {a mathematical formula}G′. Therefore, this coalition is feasible and we are guaranteed that {a mathematical formula}x′(S∪{n+1,n+2})≥v′(S∪{n+1,n+2}), because {a mathematical formula}({N∪{n+1,n+2}},x′) is in {a mathematical formula}CS-core(Γ′).  □
      </paragraph>
      <paragraph>
       By combining the lemma with Fact 3.5 and Theorem 4.12, we get the following (where proof of the membership results are trivial adaptations of those given for games over complete interaction graphs).
      </paragraph>
      <paragraph label="Corollary 5.6">
       Let{a mathematical formula}Rbe any compactP-representation, and let k be a fixed constant. On the class{a mathematical formula}CTW-ksa(R),CS-CoS,CS-Core-NonEmptiness,CS-LCV{sup:−},CS-LCV{sup:+}, andCS-LCVbelong to{a mathematical formula}co-NP. Moreover, if{a mathematical formula}Ris such that{a mathematical formula}mcn≾eR, then all problems are{a mathematical formula}co-NP-complete, even for{a mathematical formula}k=2.
      </paragraph>
      <paragraph>
       Observe that, concerning the problems CS-CoS and CS-Core-NonEmptiness, there is no hope to extend Corollary 5.6 and Theorem 5.3 and show that hardness holds even on trees (i.e., when treewidth equals one), because we know from [19] that the core is non-empty over trees, even for non-superadditive games. However, the scenario is more interesting when turning to CS-LCV and its variants.
      </paragraph>
      <paragraph label="Proof">
       Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CTW-1(R),CS-LCV{sup:+}is inP. Moreover, if{a mathematical formula}Ris such that{a mathematical formula}mcn≾eR, thenCS-LCV{sup:−}andCS-LCVare{a mathematical formula}Δ2P-complete.Let us consider the problem CS-LCV{sup:+}. We are given a rational number {a mathematical formula}ε≥0 and a game {a mathematical formula}Γ=〈N,v,G〉. Let Π be an optimal coalition structure in {a mathematical formula}CS-opt(Γ), and observe that Π belongs to {a mathematical formula}CS-opt(ΓΠ,-ε), too. Moreover, recall from [19] that {a mathematical formula}CS-core(ΓΠ,-ε)≠∅. Hence, by Fact 3.5, a pair of the form {a mathematical formula}(Π,x) is guaranteed to occur in {a mathematical formula}CS-core(ΓΠ,-ε). That is, CS-LCV{sup:+} is immaterial over trees.Let us now consider the problem CS-LCV{sup:−}, where the rational number ε provided as input is such that {a mathematical formula}ε≤0. Membership in {a mathematical formula}Δ2P is established in Theorem 4.3. To prove the hardness result, consider the UO-TSP problem defined as follows. We are given a complete directed graph {a mathematical formula}({a1,…,an},E) over n nodes, where each edge {a mathematical formula}ei,j=(ai,aj), with {a mathematical formula}ai≠aj is associated with a positive integer weight {a mathematical formula}w(ei,j). A valid tour is a set T of n edges inducing a directed cycle in the graph (touching each node exactly once). The weight of T is the value {a mathematical formula}∑ei,j∈Tw(ei,j). An optimal tour is one with the minimum weight over all possible valid tours. The traveling salesman problem (TSP) is the well-known NP-hard problem asking to computing an optimal tour. Instead, UO-TSP is the {a mathematical formula}Δ2P-hard decision problem asking whether there is exactly one optimal tour [52].Based on the graph {a mathematical formula}({a1,…,an},E) and the given weighting function w, we build a game {a mathematical formula}Γ=〈N,v,G〉 where {a mathematical formula}N={ei,j,k|i,j,k∈{1,…,n}}∪{t} is the set of the agents. Moreover, G is a tree where t is connected with all other agents, and no further edge occurs in it. By letting {a mathematical formula}W=maxei,j∈E⁡w(ei,j)+1, the payoff function v is encoded as a marginal contribution network M such that:{a mathematical formula}For each feasible coalition C, let {a mathematical formula}T(C)={ei,j|∃ei,j,k∈C} be the set of edges obtained from C by “stripping off” the third index. Then, consider the following properties establishing a precise correspondence between valid tours and feasible coalitions:
       <list>
        Let C be a feasible coalition with {a mathematical formula}v(C)&gt;0. We claim that {a mathematical formula}T(C) is a valid tour. Indeed, t is in C and {a mathematical formula}|C|&gt;1 (because of {a mathematical formula}r1), and no rule with a negative value applies. So, by {a mathematical formula}r2, an agent of the form {a mathematical formula}e1,j,1 is in C, with {a mathematical formula}j≠1. Then, by repeated applications of {a mathematical formula}r4, we build a sequence {a mathematical formula}e1,j,1=e1,j1,1,ej1,j2,2,…,ejn−1,jn,n of agents that are in C. Moreover, by {a mathematical formula}r3, an agent of the form {a mathematical formula}ei,1,n is in C. By {a mathematical formula}r7, it hence holds that {a mathematical formula}jn=1. Eventually, by {a mathematical formula}r5 and {a mathematical formula}r6, {a mathematical formula}{e1,j1,1,ej1,j2,2,…,ejn−1,jn,n} is a valid tour, and combined with {a mathematical formula}r7 we conclude that no further agent occurs in C. That is, this tour coincides with {a mathematical formula}T(C).Assume that T is a valid tour. Then, we show that there is a feasible coalition C with {a mathematical formula}t∈C and such that {a mathematical formula}v(C)&gt;0 and {a mathematical formula}T(C)=T. Indeed, if T is a tour, then its edges can be ordered starting with the one outgoing from node {a mathematical formula}a1. So edges in T can be listed as follows: {a mathematical formula}e1,j1,ej1,j2,…,ejn−1,1,n. The required coalition is then {a mathematical formula}C={t,e1,j1,1,ej1,j2,2,…,ejn−1,1,n}.In particular, note that in the above correspondence
       </list>
       <paragraph label="Claim 5.8">
        {a mathematical formula}v(C)=n×W−∑ei,j∈T(C)w(ei,j). Therefore, optimal coalitions one-to-one correspond with optimal tours. This leads to the following, whose proof generalizes the correspondence to optimal coalition structures.Let{a mathematical formula}Rbe any compactP-representation such that{a mathematical formula}mcn≾eR. On the class{a mathematical formula}CTW-1(R), computing the maximum social welfare isNP-hard. In particular, a reduction can be exhibited where optimal coalition structures one-to-one correspond to optimal tours for aTSPinstance provided as input.Let now {a mathematical formula}ε&lt;0 be a value sufficiently close to 0, e.g., {a mathematical formula}ε=−minei,j⁡w(ei,j)n2×W. Recall from Lemma 3.9 that the least coalition structure core value of Γ is at most ε if, and only if, (i){a mathematical formula}|CS-opt(Γ)|=1, and (ii){a mathematical formula}Π∈CS-opt(Γ) implies {a mathematical formula}Π∈CS-opt(ΓΠ,-ε) and {a mathematical formula}CS-core(ΓΠ,-ε)≠∅. In fact, for the given value of ε, it is immediate to check that if (i) holds and Π is the only feasible coalition structure in {a mathematical formula}CS-opt(Γ), then {a mathematical formula}Π∈CS-opt(ΓΠ,-ε) holds. Then, by Fact 3.5 and the result in [19], we would be guaranteed that a pair of the form {a mathematical formula}(Π,x) occurs in {a mathematical formula}CS-core(ΓΠ,-ε) (that is, (ii) also holds). So, we have shown that CS-LCV{sup:−} just amounts to deciding whether condition (i) holds, i.e., whether there is exactly one optimal tour (cf. Claim 5.8). Hardness is shown for marginal contribution networks, and by Lemma 4.11 it extends to more expressive game encodings.  □
       </paragraph>
      </paragraph>
      <paragraph>
       Note that the NP-hardness of computing the maximum social welfare over trees has already been established in our earlier work [53], and independently in [32]. Hence, Claim 5.8 can be viewed as strengthening the hardness result over games encoded as marginal contribution networks (in addition to being an important technical ingredient to show the above {a mathematical formula}Δ2P-hardness). By Fact 3.5, the following is an immediate corollary.
      </paragraph>
      <paragraph label="Corollary 5.9">
       Let{a mathematical formula}Rbe any compactP-representation such that{a mathematical formula}mcn≾eR. On the class{a mathematical formula}CTW-1(R),CS-Core-FindisNP-hard.
      </paragraph>
      <paragraph>
       The above result is given for games that are not superadditive. In fact, for games defined on trees, Demange [19] proposed a procedure that computes an element in the core, which does not run in polynomial time for non-superadditive games. However, it can be easily seen by inspection that it does so for superadditive ones (see also [53], [54]).
      </paragraph>
      <paragraph label="Fact 5.10">
       (See cf.[19].) Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CTW-1sa(R),CS-Core-Findis inFP.
      </paragraph>
      <paragraph>
       We now leave the section by establishing the counterpart (for CS-LCV{sup:−} and CS-LCV) of Theorem 5.7 over superadditive games.
      </paragraph>
      <paragraph label="Claim 5.12">
       We start the proof with a simple, yet quite useful characterization.Let{a mathematical formula}Rbe any compactP-representation, let{a mathematical formula}Γ∈CTW-1sa(R), and let{a mathematical formula}ε≤0. Then,{a mathematical formula}CS-LCV(Γ)≤εholds if, and only if,{a mathematical formula}{N}∈CS-opt(Γ-ε). Moreover,CS-LCV{sup:−}is in{a mathematical formula}co-NP.Observe now that CS-LCV is feasible in {a mathematical formula}co-NP, by Theorem 5.7 and the claim above. Thus, let us focus on the hardness result for CS-LCV{sup:−}.Let {a mathematical formula}G=(N,E) be an undirected graph over the set {a mathematical formula}N={a1,…,an} of nodes, and let k be a natural number. A set {a mathematical formula}V⊆N is a vertex cover if, for each edge {a mathematical formula}e∈E, V contains at least one of the two endpoints of e. Deciding whether G admits a vertex cover V with {a mathematical formula}|V|≤k is a well-known NP-hard problem [55].Note that the problem remains NP-hard, even if the given threshold is less than half of the number of nodes. Indeed, given G, we can build a graph {a mathematical formula}Gk by adding {a mathematical formula}2×(k+1) fresh nodes with one of them being connected with the remaining {a mathematical formula}2×(k+1)−1 nodes. Then, G has a vertex cover with size at most k if, and only if, {a mathematical formula}Gk has a vertex cover with size at most {a mathematical formula}k+1. Moreover, {a mathematical formula}Gk is clearly defined over {a mathematical formula}n+2×(k+1) nodes and, hence, {a mathematical formula}k+1&lt;n+2×(k+1)2 holds.Based on G, we build a game {a mathematical formula}Γ=〈N∪{an+1},v,G′〉∈CTW-1(mcn) as follows. The graph {a mathematical formula}G′ is a tree where {a mathematical formula}an+1 is connected with all other nodes, and no further edge occurs in it. The game is encoded as a marginal contribution network M such that:{a mathematical formula} Thus, the payoff function v determined by these rules is such that, for each feasible coalition {a mathematical formula}C∈F(G′),{a mathematical formula}Observe that {a mathematical formula}v(C)=0 holds, for each coalition C such that {a mathematical formula}an+1∉C. Moreover, for each pair of coalitions C and {a mathematical formula}C′ with {a mathematical formula}an+1∈C∩C′ and {a mathematical formula}C′⊇C, it clearly holds that {a mathematical formula}v(C′)≥v(C). Therefore, the game is superadditive.Then, consider the value {a mathematical formula}ε=−1n−k. We claim that {a mathematical formula}{N}∉CS-opt(Γ-ε) if, and only if, G has a vertex cover with size at most k.
       <list>
        Assume that V is a vertex cover with {a mathematical formula}|V|≤k. Consider the coalition {a mathematical formula}C=V∪{an+1} and note that {a mathematical formula}v(C)=|E| while {a mathematical formula}v(N)=|E|+1. In fact, {a mathematical formula}C≠N holds. Consider then the feasible coalition structure Π including C and the remaining {a mathematical formula}n−|V| nodes as singletons. In the game {a mathematical formula}Γ-ε, we clearly have that {a mathematical formula}v-ε(N)=v(N)=|E|+1, while the social welfare of Π is {a mathematical formula}v-ε(C)−(n−|V|)×ε=|E|+(n−|V|+1)×1n−k&gt;|E|+1=v(N). That is, {a mathematical formula}{N}∉CS-opt(Γ-ε).Assume there is no vertex cover V with {a mathematical formula}|V|≤k. Consider the game {a mathematical formula}Γ-ε where {a mathematical formula}v-ε(N)=v(N)=|E|+1, and let us show that {a mathematical formula}{N}∈CS-opt(Γ-ε) holds. To this end, consider any feasible coalition structure {a mathematical formula}Π≠{N}. Given the interaction graph {a mathematical formula}G′, Π consists of a coalition {a mathematical formula}C≠N such that {a mathematical formula}an+1∈C and of all the remaining agents included as singletons. Thus, the social welfare of Π is {a mathematical formula}v-ε(Π)=v-ε(C)−(n+1−|C|)×ε=v(C)+n+2−|C|n−k. Let us distinguish three cases.By
       </list>
       <paragraph>
        Claim 5.12, the above entails that the vertex cover problem has been reduced to the complement of CS-LCV{sup:−}, hence showing that this latter problem is {a mathematical formula}co-NP-hard over games encoded via marginal contribution networks. By Lemma 4.11, hardness extends to more expressive game encodings.  □
       </paragraph>
      </paragraph>
     </section>
    </section>
    <section label="6">
     <section-title>
      Lines, cycles, and degree-based classification
     </section-title>
     <paragraph>
      In this section, we analyze the complexity of core-related questions over classes of games whose interaction graphs are lines and cycles. Indeed, these are special classes of graphs having bounded treewidth and, therefore, there is a possibility that, by exploiting their peculiarities, tractability results can be established. Moreover, these results are interesting from an applications point of view, as many computer or sensor networks exhibit linear or ring topologies.
     </paragraph>
     <paragraph>
      Eventually, since these kinds of graphs share the property that each node has at most two neighbors, results for them motivate the subsequent classification of the complexity of core-related questions based on the maximum degree in the interaction graph.
     </paragraph>
     <section label="6.1">
      <section-title>
       Lines and cycles
      </section-title>
      <paragraph>
       Let L and C denote the classes of all graphs that are lines and cycles, respectively. We start by observing that our core-related problems are tractable over L.
      </paragraph>
      <paragraph label="Claim 6.2">
       Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CL(R),CS-Core-Membership,CS-CoS,CS-Core-NonEmptiness,CS-LCV{sup:−},CS-LCV{sup:+}, andCS-LCVare inP. Moreover,CS-Core-Findare inFP.CS-Core-NonEmptiness and CS-CoS are immaterial over lines, as the coalition structure core is not empty in this setting [30].Consider then the CS-Core-Membership problem, which given a game {a mathematical formula}Γ=〈N,v,G〉 and a pair {a mathematical formula}(Π,x), asks whether {a mathematical formula}(Π,x) is in {a mathematical formula}CS-core(Γ). Note that checking whether x is an imputation for Π is trivially feasible in polynomial time, whenever Γ is given according to a P-representation scheme. Therefore, the basic computational challenge is to check whether {a mathematical formula}x(C)≥v(C) holds, for each feasible coalition {a mathematical formula}C∈F(G). In general, this is a hard task, because there might be exponentially many feasible coalitions. However, if {a mathematical formula}G∈L holds, then any feasible coalition in {a mathematical formula}F(G) is completely determined by two (possibly coinciding) endpoints. Thus, {a mathematical formula}|F(G)|≤(|N|2)+(|N|1) holds and, consequently, CS-Core-Membership is feasible in polynomial time.Concerning the computation problem CS-Core-Find, observe that, whenever an optimal coalition structure {a mathematical formula}Π∈CS-opt(Γ) is given, then {a mathematical formula}CS-core(Γ) is completely determined by a system of linear inequalities, because of Fact 3.5. Moreover, we have just observed that when the underlying interaction graph is a line, we have to deal with polynomially many inequalities only. Therefore, by well-known results in linear programming [56], [57], CS-Core-Find can be shown to be in FP, provided we can compute in polynomial time Π. Below, we show that this is actually possible.Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CL(R), computing the maximum social welfare (and a feasible coalition structure with this value) is inFP.Finally, consider the problems CS-LCV{sup:+}, CS-LCV{sup:−}, and CS-LCV. By Theorem 5.7, CS-LCV{sup:+} is feasible in polynomial time. To conclude, we need to consider CS-LCV{sup:−} that, given a game {a mathematical formula}Γ∈CL(R) and a rational number {a mathematical formula}ε≤0, asks to decide whether there is a pair {a mathematical formula}(Π,x) in {a mathematical formula}CS-core(ΓΠ,-ε). To address this problem, actually with {a mathematical formula}ε&lt;0 (as the case {a mathematical formula}ε=0 reduces to CS-Core-NonEmptiness), we recall the characterization of Lemma 3.9: the least coalition structure core value of Γ is at most ε if, and only if, (i){a mathematical formula}|CS-opt(Γ)|=1, and (ii){a mathematical formula}Π∈CS-opt(Γ) implies {a mathematical formula}Π∈CS-opt(ΓΠ,-ε) and {a mathematical formula}CS-core(ΓΠ,-ε)≠∅. Therefore, we need just to show that (i) and (ii) can be checked in polynomial time over lines.Indeed, by Claim 6.2, the optimal social welfare can be computed in polynomial time, in fact, together with a feasible coalition structure {a mathematical formula}Π∈CS-opt(Γ). Then, for each coalition {a mathematical formula}C∈Π, consider the game {a mathematical formula}ΓC=〈N,vC,G〉 coinciding with Γ, but where the value associated with C is now {a mathematical formula}vC(C)=−M, with {a mathematical formula}M≥0 being a large enough positive rational number, so that {a mathematical formula}CS-opt(ΓC) includes a coalition structure with C only if there is no other possible coalition structure at all. Clearly enough, {a mathematical formula}SWopt(ΓC) can be again computed in polynomial time by Claim 6.2. If there is some coalition {a mathematical formula}C∈Π such that {a mathematical formula}SWopt(ΓC)=SWopt(Γ), then we have immediately derived that (i) does not hold. Otherwise, we have shown that to get the maximum social welfare in Γ, it is mandatory to include all the coalitions in Π, so that (i) holds.In this latter case, it remains to be checked whether (ii) holds, too. But, this now just requires to build the game {a mathematical formula}ΓΠ,-ε and to compute again the maximum social welfare, by eventually checking that {a mathematical formula}SWopt(Γ)=SWopt(ΓΠ,-ε). Moreover, it requires to answer CS-Core-NonEmptiness (which is in fact immaterial) over {a mathematical formula}ΓΠ,-ε. Therefore, the whole computation is feasible in polynomial time—game encodings can be built in polynomial time, as discussed in the proof of Theorem 4.1.  □
      </paragraph>
      <paragraph>
       Similarly, moving from lines to cycles, we are again able to show tractability of a number of core-related questions. This is more interesting, since the presence of cycles can create instances with an empty core, even in superadditive games [38]. Moreover, a given cycle admits exponentially many coalition structures.
      </paragraph>
      <paragraph label="Claim 6.4">
       Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CC(R),CS-Core-Membership,CS-CoS,CS-Core-NonEmptiness,CS-LCV{sup:−}, andCS-LCVare inP, whileCS-LCV{sup:+}belongs toNP. Moreover,CS-Core-Findis inFP.Consider first the CS-Core-Membership problem. Similarly to the proof of Theorem 6.1, it is sufficient to show that over cycles polynomially many coalitions can form, only. Indeed, if {a mathematical formula}Γ=〈N,v,G〉 is a game with {a mathematical formula}G∈C, then any feasible coalition is determined by two (possibly coinciding) endpoints and the direction (clockwise or counterclockwise), so that there are at most {a mathematical formula}2×(|N|2)+(|N|1) such coalitions.Let us now focus on the computation problem CS-Core-Find, and note that after the above observation we are precisely in the same position as in the proof of Theorem 6.1. So, we just show that we can compute an optimal coalition structure in polynomial time.Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CC(R), computing the maximum social welfare (and a feasible coalition structure with this value) is inFP.By the tractability of CS-Core-Find, it follows that CS-Core-NonEmptiness is in P. Consider now CS-CoS. In this case, we have to decide whether {a mathematical formula}CS-core(ΓΔ) is not empty, where {a mathematical formula}Δ≥0 is a rational number additionally given as input. Therefore, we are back to CS-Core-NonEmptiness on a game defined on a cycle, and the result follows since an encoding for {a mathematical formula}ΓΔ can be built in polynomial time (cf. Theorem 4.1).Consider now CS-LCV{sup:−}. In this case, we can use Lemma 3.9 and precisely the same argument as in the proof of Theorem 6.1, but with the tractability of computing the maximum social welfare now provided by Claim 6.4 (instead of Claim 6.2), and with the tractability of the CS-Core-NonEmptiness problem following by the above arguments (instead of being trivial).Finally, we show that CS-LCV{sup:+} belongs to NP. The result follows by inspecting the proof of Theorem 4.3. Indeed, recall that the problem can be solved by a non-deterministic Turing machine that first guesses a feasible coalition structure Π and then, given Π and ε, checks that: (1) {a mathematical formula}Π∈CS-opt(ΓΠ,-ε); (2) {a mathematical formula}core(Γ˜Π,-ε)≠∅. In fact, we know that {a mathematical formula}ΓΠ,-ε can be specified in compact form. Hence, (1) can be checked in polynomial time because of Claim 6.4. Similarly, (2) can be checked in polynomial time, since we have already shown that CS-Core-NonEmptiness is in P over games defined on cycles.  □
      </paragraph>
      <paragraph>
       We next refine the above result for CS-LCV{sup:+}, by focusing on superadditive games.
      </paragraph>
      <paragraph label="Proof">
       Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CCsa(R),CS-LCV{sup:+}is inP.Let {a mathematical formula}Γ=〈N,v,G〉 be a superadditive game with {a mathematical formula}G∈C and let ε be the penalty provided as input to CS-LCV{sup:+}. From Theorem 3.10, we know that {a mathematical formula}CS-LCV(Γ)=LCV(Γ). Therefore, {a mathematical formula}CS-LCV(Γ)≤ε holds if, and only if, {a mathematical formula}core(Γ-ε) is not empty. In fact, {a mathematical formula}Γ-ε is a game defined on a cycle which can be specified in compact form. The result then follows because {a mathematical formula}core(Γ-ε)≠∅ can be checked in polynomial time (by the same arguments as in the proof of Theorem 6.3).  □
      </paragraph>
     </section>
     <section label="6.2">
      <section-title>
       A degree-based look at complexity results
      </section-title>
      <paragraph>
       A unifying feature of the classes C and L of interaction graphs is that each node has degree at most 2. Moreover, over connected graphs the union {a mathematical formula}C∪L precisely coincides with the set of all graphs having this property. Therefore, if {a mathematical formula}D[≤2] denotes the class of all interactions graphs where each node has at most two adjacent nodes, then the following is derived from the results provided in this section.
      </paragraph>
      <paragraph label="Corollary 6.6">
       Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CD[≤2](R),CS-CoS,CS-Core-Membership,CS-Core-NonEmptiness, andCS-LCV{sup:−}are inP, whileCS-Core-Findis inFP. Moreover, on the class{a mathematical formula}CD[≤2](R)(resp.,{a mathematical formula}CD[≤2]sa(R)),CS-LCV{sup:+}andCS-LCVare inNP(resp.,P).
      </paragraph>
      <paragraph>
       The question hence emerges about whether the result is tight, i.e., whether interaction graphs whose nodes have degree at most 3 already suffice to encode intractable instances of core-related questions. We next show that this is the case. The line of the proof is to show that any game can be ‘simulated’ by means of a game where each agent has degree at most 3. Below, we incrementally present the construction. Prior to our result, it was known that a game without structural restrictions can be simulated by a structurally-restricted game where each agent has degree 6 at most (and by preserving the fact that the worth function is superadditive and simple) [54].
      </paragraph>
      <paragraph>
       Let {a mathematical formula}Γ=〈N,v,G〉 be a structurally-restricted characteristic function game with {a mathematical formula}N={1,…,n}, and let {a mathematical formula}i∈N be a node such that the set of its adjacent nodes is {a mathematical formula}{j1,…,jk} with {a mathematical formula}k&gt;3. Consider then the interaction graph {a mathematical formula}G|i built over a set {a mathematical formula}N|i=N∪{n+1,…,n+k} of agents as follows (and depicted in Fig. 5). There is an edge connecting agent i with agent {a mathematical formula}n+1. For each {a mathematical formula}h∈{1,…,k−1}, there is an edge connecting agent {a mathematical formula}n+h with {a mathematical formula}n+h+1 and an edge connecting agent {a mathematical formula}n+h with {a mathematical formula}jh. There is an edge connecting agent {a mathematical formula}n+k with {a mathematical formula}jk. Each edge in G such that i is not one of its endpoints is in {a mathematical formula}G|i. Finally, no further edge is in {a mathematical formula}G|i.
      </paragraph>
      <paragraph>
       Consider now the game {a mathematical formula}Γ|i=〈N|i,v|i,G|i〉 where {a mathematical formula}v|i is such that, for each feasible coalition {a mathematical formula}C∈F(G|i),{a mathematical formula} where R is set to {a mathematical formula}n+k times an upper bound on the maximum absolute value over the payoffs associated with the various coalitions. Intuitively, R is set in a way that it is definitively advantageous for the agents in {a mathematical formula}{i,n+1,…,n+k} to stay all together in the same coalition. Then, for any coalition {a mathematical formula}C⊆N, we denote by {a mathematical formula}C|i the coalition C itself if {a mathematical formula}i∉C, and the coalition {a mathematical formula}C∪{n+1,…,n+k} if {a mathematical formula}i∈C holds. Similarly, for any coalition structure Π over G, we denote by {a mathematical formula}Π|i the coalition structure where each element {a mathematical formula}C∈Π is replaced by {a mathematical formula}C|i. The following is immediate by construction.
      </paragraph>
      <paragraph label="Fact 6.7">
       Assume that{a mathematical formula}Π⁎is a coalition structure in{a mathematical formula}CS-opt(Γ|i). Then, there is a coalition structure Π over G such that{a mathematical formula}Π⁎=Π|i.
      </paragraph>
      <paragraph>
       With the above notation and result in place, we can show the following technical result relating the coalition structure cores of Γ and {a mathematical formula}Γ|i.
      </paragraph>
      <paragraph label="Lemma 6.8">
       The following statements hold on the games Γ and{a mathematical formula}Γ|i.
      </paragraph>
      <list>
       <list-item label="(A)">
        If{a mathematical formula}(Π,x)is in{a mathematical formula}CS-core(Γ), then{a mathematical formula}(Π|i,x⁎)is in{a mathematical formula}CS-core(Γ|i)where{a mathematical formula}x⁎is such that{a mathematical formula}xj⁎=xj, for each{a mathematical formula}j∈N; and{a mathematical formula}xj⁎=0, for each{a mathematical formula}j∈{n+1,…,n+k}.
       </list-item>
       <list-item label="(B)">
        Let{a mathematical formula}(Π⁎,x⁎)be in{a mathematical formula}CS-core(Γ|i), and let x be such that{a mathematical formula}xi=xi⁎+x⁎({n+1,…,n+k})and{a mathematical formula}xj=xj⁎, for each{a mathematical formula}j∈N∖{i}. Then,{a mathematical formula}(Π,x)is in{a mathematical formula}CS-core(Γ), where{a mathematical formula}Π|i=Π⁎.
       </list-item>
      </list>
      <paragraph label="Proof">
       (A) Assume that {a mathematical formula}(Π,x) is an element in {a mathematical formula}CS-core(Γ). Since x is an imputation for Π, we have that {a mathematical formula}x(C)=v(C) holds, for each {a mathematical formula}C∈Π, and {a mathematical formula}xj≥v({j}) holds, for each {a mathematical formula}j∈N. Then, consider the corresponding coalition {a mathematical formula}C|i∈Π|i and note that {a mathematical formula}x⁎(C|i)=x(C)=v(C)=v|i(C). Moreover, for each {a mathematical formula}j∈{n+1,…,n+k}, {a mathematical formula}xj⁎=0≥−R≥v|i({j}). Therefore, {a mathematical formula}x⁎ is an imputation for {a mathematical formula}Π|i in the game {a mathematical formula}Γ|i. To conclude the proof, we have to show that {a mathematical formula}x⁎ is stable. To this end, consider a feasible coalition {a mathematical formula}C∈F(G|i). In the case where {a mathematical formula}{i,n+1,…,n+k}∩C≠∅ and {a mathematical formula}|{i,n+1,…,n+k}∩C|≠k+1, it holds that {a mathematical formula}x⁎(C)=x(C∩N)=∑j∈C∩Nxj≥∑j∈C∩Nv({j})≥−R≥v|i(C). Instead, in the case where either {a mathematical formula}{i,n+1,…,n+k}⊆C or {a mathematical formula}C⊆N∖{i}, we have that {a mathematical formula}x⁎(C)=x(C∩N)≥v(C∩N)=v|i(C), where {a mathematical formula}x(C∩N)≥v(C∩N) follows by the fact that {a mathematical formula}(Π,x) is an element in {a mathematical formula}CS-core(Γ) and by observing that {a mathematical formula}C∩N is feasible over G in this case. By putting it all together, we conclude that {a mathematical formula}(Π|i,x⁎) is in {a mathematical formula}CS-core(Γ|i).(B) Let {a mathematical formula}(Π⁎,x⁎) be in {a mathematical formula}CS-core(Γ|i). First, observe that by Fact 6.7 (combined with Fact 2.1) there is a coalition structure Π over G such that {a mathematical formula}Π⁎=Π|i. Then, consider the payoff vector x such that {a mathematical formula}xi=xi⁎+x⁎({n+1,…,n+k}); {a mathematical formula}xj=xj⁎, for each {a mathematical formula}j∈N∖{i}. Note that {a mathematical formula}xi=xi⁎+x⁎({n+1,…,n+k})=x⁎({i,n+1,…,n+k})≥v|i({i,n+1,…,n+k})=v({i}), and {a mathematical formula}xj=xj⁎≥v|i({j})=v({j}) for each {a mathematical formula}j∈N∖{i}. That is, x is an imputation for Π in the game Γ. We now conclude by showing that x is stable. Indeed, for each coalition C that is feasible over G, note that {a mathematical formula}x(C)=x⁎(C)≥v|i(C)=v(C) holds, whenever {a mathematical formula}i∉C. Instead, in the case where i is in C, {a mathematical formula}x(C)=x⁎(C∪{n+1,…,n+k})≥v|i(C∪{n+1,…,n+k})=v(C). Therefore, {a mathematical formula}(Π,x) is in {a mathematical formula}CS-core(Γ).  □
      </paragraph>
      <paragraph>
       Moreover, we can show that the transformation preserves superadditivity.
      </paragraph>
      <paragraph label="Proof">
       If Γ is superadditive, then{a mathematical formula}Γ|iis superadditive, too.Assume that Γ is superadditive and let S and T be two feasible disjoint coalitions over {a mathematical formula}N|i such that {a mathematical formula}S∪T is feasible, too. If {a mathematical formula}v|i(S)=v(S∩N) and {a mathematical formula}v|i(T)=v(T∩N), then {a mathematical formula}v|i(S∪T)=v((S∪T)∩N) holds and, hence, {a mathematical formula}v|i(S∪T)≥v(S∩N)+v(T∩N)=v|i(S)+v|i(T). If {a mathematical formula}v|i(S)≠v(S∩N), {a mathematical formula}v|i(T)≠v(S∩N), and {a mathematical formula}v|i(S∪T)=v((S∪T)∩N), then given the choice of R we are trivially guaranteed that {a mathematical formula}v|i(S∪T)≥v|i(S)+v|i(T). If {a mathematical formula}v|i(S)≠v(S∩N), {a mathematical formula}v|i(T)≠v(T∩N), and {a mathematical formula}v|i(S∪T)≠v((S∪T)∩N), then we have {a mathematical formula}v|i(S∪T)=−R×(|N∖(S∪T)|+1)≥−R×(|N∖S|+1)−R×(|N∖T|+1)=v|i(S)+v|i(T). Consider then the remaining case where {a mathematical formula}v|i(S)=v(S∩N) and {a mathematical formula}v|i(T)≠v(T∩N). Note that this entails that {a mathematical formula}v|i(S∪T)≠v((S∪T)∩N). Thus, {a mathematical formula}v|i(S∪T)=−R×(|N∖(S∪T)|+1)≥−R×(|N∖T|+1−1)=v|i(T)+R≥v|i(T)+v(S∩N)=v|i(T)+v|i(S).  □
      </paragraph>
      <paragraph>
       These results are the crucial ingredients to prove the following, where {a mathematical formula}D[≤3] denotes the class of all interaction graphs whose nodes have degree at most 3.
      </paragraph>
      <paragraph label="Proof">
       Let{a mathematical formula}Rbe any compactP-representation such that{a mathematical formula}mcn≾eR. On the class{a mathematical formula}CD[≤3]sa(R),CS-Core-Membership,CS-CoS,CS-Core-NonEmptiness,CS-LCV{sup:−}, andCS-LCV{sup:+}are{a mathematical formula}co-NP-complete, whereasCS-Core-FindisNP-hard. On the class{a mathematical formula}CD[≤3](R),CS-CoS,CS-Core-NonEmptiness, andCS-LCV{sup:−}are{a mathematical formula}Δ2P-complete,CS-LCV{sup:+}is{a mathematical formula}Σ2P-complete, whereasCS-Core-Membershipis{a mathematical formula}co-NP-complete.Let Γ be a game where {a mathematical formula}i∈N is a node such that the set of its adjacent nodes is {a mathematical formula}{j1,…,jk} with {a mathematical formula}k&gt;3, and consider the game {a mathematical formula}Γ|i. By Lemma 6.8, CS-Core-NonEmptiness can be equivalently answered over {a mathematical formula}Γ|i in place of Γ. However, {a mathematical formula}G|i is an interaction graph where all the fresh nodes have degree bounded by 3, all nodes in G but i keep their original degree, and node i has degree 1. Therefore, the number of nodes whose degree is greater than 3 decreases when moving from Γ to {a mathematical formula}Γ|i. If {a mathematical formula}Γ|i contains no node whose degree is greater than 3, then we have concluded. Otherwise, we can apply the transformation on {a mathematical formula}Γ|i, by considering a node j whose degree is greater than 3.The above line of reasoning leads to a sequence of at most {a mathematical formula}|N| games converging to a game {a mathematical formula}Γ′∈CD[≤3]. Moreover, Lemma 6.8 transitively applies to all these games, so that {a mathematical formula}CS-core(Γ)=∅ if, and only if, {a mathematical formula}CS-core(Γ′)=∅. Similarly, given the definition of R, the proof of Lemma 6.8 can be smoothly adapted to show that the least coalition structure core value is preserved in the transformation. And, finally, by Theorem 6.9, if Γ is superadditive, then {a mathematical formula}Γ′ is superadditive, too.Now, we claim that {a mathematical formula}Γ|i can be encoded in terms of a marginal contribution network {a mathematical formula}M|i, provided that Γ is already given as a marginal contribution network M. Let none denote the conjunction {a mathematical formula}¬ai∧¬an+1∧⋯∧¬an+k and let all denote the conjunction {a mathematical formula}ai∧an+1∧⋯∧an+k. Then, for each rule having the form {a mathematical formula}{pattern}→value in M, the novel encoding {a mathematical formula}M|i includes the rules {a mathematical formula}{pattern∧none}→value and {a mathematical formula}{pattern∧all}→value. Moreover, {a mathematical formula}M|i includes the rules {a mathematical formula}{¬ah}→−R, {a mathematical formula}{¬ah∧none}→R, and {a mathematical formula}{¬ah∧all}→R, for each agent {a mathematical formula}ah∈N, plus the rules {a mathematical formula}{all}→R, {a mathematical formula}{none}→R, and {a mathematical formula}{}→−R. No further rule is in {a mathematical formula}M|i. Again, by repeatedly applying this transformation, we end up in polynomial time with a marginal contribution network {a mathematical formula}M′ encoding the game {a mathematical formula}Γ′. This shows that any hardness result for the problems CS-CoS, CS-Core-NonEmptiness (hence, Core-Find), and CS-LCV still holds over the subclass of those games encoded via marginal contribution networks and whose interaction graphs belong to {a mathematical formula}D[≤3]. The results in the statement about these problems then follow by our results in Section 4.Finally, note that the problem CS-Core-Membership on input a pair {a mathematical formula}(Π,x) can be equivalently formulated as the problem of checking whether the pair {a mathematical formula}(Π|i,x⁎) defined in Lemma 6.8.(A) belongs to the coalition structure core of {a mathematical formula}Γ|i. In fact, the equivalence follows by both points in that lemma. By iteratively applying the transformation, the problem can be equivalently formulated as the problem of checking whether a pair {a mathematical formula}(Π′,x′), which can be built in polynomial time, belongs to the coalition structure core of the game {a mathematical formula}Γ′. Thus, all hardness results about CS-Core-Membership hold over games encoded via marginal contribution networks and whose interaction graphs belong to {a mathematical formula}D[≤3]. Again, the results in the statement about CS-Core-Membership follow by our results in Section 4.  □
      </paragraph>
     </section>
    </section>
    <section label="7">
     <section-title>
      Related work
     </section-title>
     <paragraph>
      The model considered in this paper, where coalitional games are equipped with interaction graphs constraining the formation of coalitions among the agents, goes back to the seventies [14], but has recently attracted more attention in the literature because of its natural applicability in real-world domains. For instance, algorithms to compute the Shapley value and related concepts in this model have been studied by [58], [59] (see also the references therein), with applications to the analysis of terrorist networks. Moreover, task allocation problems arising over agents interconnected in a social environment have been studied by [60]. Within this setting, our goal has been instead to characterize the complexity of core-related questions, which are largely unexplored in the literature.
     </paragraph>
     <paragraph>
      Recently, complexity issues over social networks have been studied by Sless et al. [61]. However, in their model all coalitions are allowed to form (with the network being only used to provide values to the coalitions, in the spirit of graph games [24]). Moreover, coalition structures are restricted to those consisting of k coalitions only, with k being the number of tasks that a central authority is asking the agents to execute. In fact, works that are closely related to our research either focused on the specific case where interaction graphs are trees, or analyzed the setting of complete interaction graphs, hence reducing to the standard setting where all coalitions are allowed to form. Concerning the former case, we observe that in [17] and [18] it is shown that if a game is superadditive and the graph is a tree, then the core is non-empty. However, their existential proof, based on Scarf's lemma [62], does not provide an efficient algorithmic construction of a core element. The follow-up work by Demange [19] not only guarantees that the coalition structure core is non-empty for trees, for both superadditive and non-superadditive games, but it also proposes a procedure that computes an element in the core. Although Demange's algorithm does not run in polynomial time for non-superadditive games, it can be seen that it does so for superadditive ones. In fact, this is the best one can hope for, given that computing an element in the coalition structure core is known to be NP-hard, even over (i) trees [53], [32], and over (ii) simple and monotone games with interaction graphs having treewidth 2 (cf. [32]). Our results evidence that hardness holds in the same setting, but even on marginal contribution networks. Moreover, in addition to the computation problem, we have considered the decision problems CS-Core-NonEmptiness and CS-Core-Membership, by providing completeness results for the classes {a mathematical formula}co-NP and {a mathematical formula}Δ2P.
     </paragraph>
     <paragraph>
      Moving to the standard setting where all coalitions are allowed to form, several works in the literature can be found where the complexity of core-related questions is addressed (see, e.g., [26], [24], [27], [25], [5], [28], [9]). However, these works tacitly assume that the goal is to distribute the total payoff available to the grand-coalition, and they do not take into account the possibility of forming coalition structures. In fact, our main source of knowledge for the complexity of the coalition structure core is the work by Elkind et al. [42], where NP-hardness results for CS-Core-NonEmptiness and CS-Core-Membership problems over weighted voting games are illustrated. In the paper, we have provided non-trivial upper bounds that apply to any game that is given in compact representation (and hence apply to weighted voting games, too), and we have shown the corresponding hardness results over games encoded as marginal contribution networks.
     </paragraph>
     <paragraph>
      Closely related to our research are also complexity studies where the traditional concept of the core is adopted (again with all coalitions being allowed to form), but where the focus is on games that are superadditive. Indeed, in this setting, the coalition structure core reduces to the (standard) core. With this respect, we refer the reader to the work by Conitzer and Sandholm [5] on games based on synergies among coalitions, by stressing however that this work does not fit our definition of P-representation, as even computing the payoff associated with some given coalition is NP-hard there. Instead, it is worth noticing that a study of the complexity of the problems CS-Core-NonEmptiness and CS-Core-Membership over superadditive marginal contribution networks has been recently carried out by Li and Conitzer [31], in fact independently of our work. The authors considered an extension of marginal contribution networks where the Boolean connective ‘∨’ can be used (in addition to ‘∧’ and ‘¬’), and charted the picture of complexity results as the allowed connectives vary. For the case where all values associated with the rules are non-negative, they observed that without disjunction and negation the problems are tractable, but they become {a mathematical formula}co-NP-hard when negation is additionally taken into account. Our results stated in Theorem 4.9 and Theorem 4.10 further strengthened this finding, as they evidence that intractability suddenly emerges as soon as even just one occurrence of ‘¬’ is allowed in each rule.
     </paragraph>
     <paragraph>
      Note that, in addition to the problems CS-Core-NonEmptiness and CS-Core-Membership, we have considered other core-related questions involving approximations of the core, namely the problems CS-CoS and CS-LCV (with its variants CS-LCV{sup:−} and CS-LCV{sup:+}). The complexity analysis conducted over them does not have counterparts in the existing literature. However, one should point out that the cost of stability has been studied in depth from an analytical viewpoint, even in its general formulation over coalition structures, and in the presence of interaction graphs (see [54], [38], [32], [39]). In particular, the cost of stability has been connected to the treewidth of the interaction graph in [32], [54]. Connections with other parameters of the games and of the interaction graphs have been studied by Meir et al. [38], who also provided results for a least core notion, which nevertheless differs from ours in that it imposes a penalty for leaving the grand-coalition (rather than for an arbitrary coalition structure to be rendered stable). Finally, bounds on the cost of stability for general, subadditive, and anonymous games are given in [39], where the special case of facility games is also discussed.
     </paragraph>
     <paragraph>
      Interestingly, as a side result of our analysis, we have shown the tractability of the problem of computing an optimal coalition structure over lines and cycles. This (optimal) coalition structure generation (CSG) problem has attracted much attention in the literature, because of its applications in the design and analysis of multi agent systems (see, e.g., [63], [64], [65], [66], [67]). The framework discussed by Voice et al. [68], in particular, is very close to ours. Indeed, they studied a model for coalition formation where feasible coalitions are also identified on the basis of an underlying interaction graph. However, their results are for payoff functions that are independent of disconnected members—that is, two agents have no effect on each other's marginal contribution to their vertex separator. In addition, several tractability results are known in the CSG literature for specific representation schemes and for specific kinds of interaction graphs [66], [68], [69]. A number of useful results are known for games encoded in terms of marginal contribution networks [70], [71], [72]. However, it must be observed that our results are independent of the specific representation scheme used (provided that payoff functions are computable in polynomial time), while being specific for interaction graphs that are lines and cycles.
     </paragraph>
     <paragraph>
      Finally, we note that our work is originating from two earlier papers, namely [53] and [36]. Nevertheless, we stress that the results reported in this paper significantly extend and generalize those discussed in [53], [36]. In particular, the analysis of the computational issues arising with lines and cycles (excluding the problems related to the cost of stability and to the least core) appears in a preliminary form in [53]. The work of [36] focuses on deriving complexity results for complete interaction graphs and for bounded treewidth graphs. An oracle setting has been considered in [36], which ignores any issues related to the representation of the payoff functions, and even the space needed for the encodings and the time necessary to build them in the reductions. In our paper, completely different machineries have therefore been employed in order to show that the results hold even on marginal contributions networks. Finally, we also note that the classification of the complexity based on the degree of the nodes and the analysis of the problems CS-LCV{sup:−} and CS-LCV{sup:+} (together with the characterizations for the least coalition structure core) are entirely novel contributions.
     </paragraph>
    </section>
    <section label="8">
     <section-title>
      Conclusions
     </section-title>
     <paragraph>
      We analyzed stability issues in compact coalitional games—i.e., games described via a compact encoding, and equipped with interaction graphs constraining the formation of coalitions among agents according to the model introduced by Myerson [14]. We studied the complexity of interesting computational problems in this setting over various (interaction) graph structures, and we presented a classification based on the degree of the nodes. In particular, positive complexity results have been obtained for graph structures, such as trees and cycles, that form the backbone of networks found in the real world. Our results can serve as indications for the tractability of respective real world coalitional game settings, and could help to design practical solution algorithms.
     </paragraph>
     <paragraph>
      Our results are summarized in Table 1, Table 2, and Table 3. All the entries are either tractability results or hardness results (over marginal contribution networks) for which the corresponding membership result is given (over arbitrary P-representations). A completeness result is missing only for the CS-LCV{sup:+} problem on arbitrary games over cycles and bounded treewidth interaction graphs. Other avenues of research naturally include the study of further classes of interaction graphs (for instance, of classes of graphs having bounded vinewidth, a notion generalizing treewidth and recently introduced by [73] to analyze the cost of stability), and the study of hypergraph-based representations and restrictions (see, e.g., [74]). Moreover, it would be interesting to study alternative stability concepts and payoff allocation schemes, such as the kernel, the Shapley value, and the nucleolus[28], [75]. In particular, it would be relevant to assess whether solution concepts can be singled out which somewhat satisfy the core constraints and are computationally tractable even if applied over arbitrary interactions graphs. Yet another avenue for research is the study of approximation algorithms to deal with the problems analyzed in this paper, which would possibly match the inapproximability results that trivially follow from the reductions we exploited to prove the hardness results. Finally, we also envisage to concretely link our theoretical results to real-world applications. For instance, virtual power plants corresponding to coalitions of electricity consumers or (potentially heterogeneous) alternative energy producers, present natural paradigms where the grouping of agents is restricted by technical or legal considerations [76].
     </paragraph>
    </section>
   </content>
   <appendices>
    <section label="Appendix A">
     <section-title>
      Proofs of the claims
     </section-title>
     <paragraph label="Claim 4.2">
      Let{a mathematical formula}Rbe any compactP-representation, and let{a mathematical formula}Gbe any class of graphs. On the class{a mathematical formula}CG(R), computing the maximum social welfare and an optimal coalition structure is feasible in{a mathematical formula}FΔ2P.
     </paragraph>
     <paragraph label="Proof">
      We exhibit an algorithm that works in two steps.First, let n be the number of bits used to represent the encoding {a mathematical formula}ξR(Γ), and consider an oracle that receives as input a natural number {a mathematical formula}h&gt;0, and checks whether there is a feasible coalition structure Π, such that the size required to encode (in the standard fractional form) the rational number {a mathematical formula}∑C∈ΠvR(ξR(Γ),C) is at least h. Since {a mathematical formula}R is a P-representation, the encoding for the social welfare of any feasible coalition structure requires polynomially many bits. Therefore, the oracle can just guess (in NP) the coalition structure Π, in order to subsequently check in polynomial time that the desired conditions hold. This oracle is firstly invoked over the input {a mathematical formula}h=nk, with {a mathematical formula}k=1. If the oracle succeeded to find a coalition structure of this kind, then it is invoked over {a mathematical formula}h=nk, with {a mathematical formula}k=2, and so on for increasingly large values of k. Eventually, after a constant number of invocations, the process converges to a value {a mathematical formula}k⁎ such that {a mathematical formula}nk⁎ is an upper bound on the size required to encode the payoff associated with any feasible coalition structure. In the following, let {a mathematical formula}m=nk⁎ and {a mathematical formula}M=2m.For the second step, we start by asking an oracle whether there is a feasible coalition structure Π such that {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)≥0. Let us analyze the scenario where this is actually the case, so that {a mathematical formula}SWopt(Γ) is a value such that {a mathematical formula}0≤SWopt(Γ)≤M. In order to compute {a mathematical formula}SWopt(Γ), one can use well-known methods to search for rational numbers encoded in the fractional form {a mathematical formula}p/q (see [77], and the references therein). More formally, observe that the value {a mathematical formula}α⁎=SWopt(Γ)×2×M2 is such that {a mathematical formula}0≤α⁎≤2×M3, and let us compute the integer value μ such that {a mathematical formula}μ≤α⁎&lt;μ+1. This task can be easily accomplished by means of a binary search using an oracle receiving as input an integer y with {a mathematical formula}0≤y≤2×M3, and checking whether there is a feasible coalition structure Π such that {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)×2×M2≥y. In fact, the search space is exponential in the size of the representation of the game, but the number of calls made to the oracle is polynomial (w.r.t. m) because we have to focus on integer values only and because we are using a binary search (with {a mathematical formula}M=2m). Therefore, after polynomially many NP oracle calls, we have computed the integer value μ, with {a mathematical formula}0≤μ≤2×M3, such that{a mathematical formula}Now, assume that {a mathematical formula}Π⁎ is an optimal coalition structure and that {a mathematical formula}Π≠Π⁎ is a feasible coalition structure such that {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)≥μ2×M2. We claim that Π is optimal, too. Indeed, let {a mathematical formula}p/q and {a mathematical formula}p⁎/q⁎ be the irreducible fractional forms for the values {a mathematical formula}∑C∈ΠvR(ξR(Γ),C) and {a mathematical formula}∑C∈Π⁎vR(ξR(Γ),C), respectively. Assume by contradiction that {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)&lt;∑C∈Π⁎vR(ξR(Γ),C). Then, {a mathematical formula}p⁎q⁎−pq=p⁎×q−p×q⁎q⁎×q≥1q⁎×q≥1M2. Therefore, {a mathematical formula}∑C∈Π⁎vR(ξR(Γ),C)≥1M2+∑C∈ΠvR(ξR(Γ),C)≥1M2+μ2×M2&gt;μ+12×M2, which is impossible.In light of the above observation, we now aim to compute an arbitrary coalition structure Π such that {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)≥μ2×M2, since we are guaranteed that for any coalition of this kind, {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)=SWopt(Γ) holds. To this end, we use another NP oracle defined as follows. The oracle receives as input a set {a mathematical formula}{S1,…,Sm,Sm+1} of disjoint coalitions and decides whether there is a feasible coalition structure {a mathematical formula}Π¯⊇{S1,…,Sm,Sm+1⁎} with {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)≥μ2×M2 and where {a mathematical formula}Sm+1⁎⊇Sm+1. The oracle is invoked starting with {a mathematical formula}m=0. At each step, {a mathematical formula}Sm+1 is initially defined as the empty set, and it is progressively enlarged by including agents that are not covered so far, ending up with a maximal set {a mathematical formula}Sm+1 over which the oracle still returns a positive answer. At this point, m is incremented and the process is repeated, until all agents are covered in the current set of disjoint coalitions. By the non-deterministic nature of the computation, we are immediately guaranteed that the set computed in this way, say Π, is an optimal coalition structure for Γ.Eventually, now that an optimal coalition structure Π is at hand, its associated value {a mathematical formula}∑C∈ΠvR(ξR(Γ),C) can be explicitly computed—note that, so far, we just exploited the knowledge of a lower bound for it. Overall, we have shown that the whole computation, for the case where {a mathematical formula}SWopt(Γ)≥0 holds, is feasible in {a mathematical formula}FΔ2P.In order to complete the proof, we need now to consider the case where, at the beginning of the second phase, we realize that there is no feasible coalition structure Π such that {a mathematical formula}∑C∈ΠvR(ξR(Γ),C)≥0. This means that {a mathematical formula}SWopt(Γ)&lt;0 and the same line of reasoning as above can be applied, by just inverting the sign of the payoff function and by considering a minimization problem in place of a maximization one.  □
     </paragraph>
     <paragraph label="Claim 4.7">
      ∃∀CNF-UNSATis{a mathematical formula}Σ2P-hard even restricted to formulas Ψ such that, for each pair of assignments{a mathematical formula}σaand{a mathematical formula}σbover the existentially and universally quantified variables of Ψ, respectively,{a mathematical formula}σa⊎σb⊨Ψif, and only if,{a mathematical formula}σa⊎σ¯b⊨Ψ.
     </paragraph>
     <paragraph label="Proof">
      Assume that {a mathematical formula}Φ=c1∧⋯∧cm is a Boolean formula in conjunctive normal form over the sets {a mathematical formula}N∃ and {a mathematical formula}N∀ of existentially and universally quantified variables, respectively. Consider the formula {a mathematical formula}Ψ=c1′∧⋯∧cm′∧c1″∧⋯∧cm″ such that {a mathematical formula}ci′=yj,1∨⋯∨yj,kj∨P and {a mathematical formula}ci″=h(yj,1)∨⋯∨h(yj,kj)∨¬P, for each {a mathematical formula}j∈{1,…,m}, where P is a fresh universally quantified variable and h is a function such that {a mathematical formula}h(Z) returns the literal Z (resp., the complement {a mathematical formula}Z¯) whenever Z is built over a variable in {a mathematical formula}N∃ (resp., {a mathematical formula}N∀). Let {a mathematical formula}N∀′=N∀∪{P}. By construction, we immediately observe that for each pair of assignments {a mathematical formula}σa and {a mathematical formula}σb over {a mathematical formula}N∃ and {a mathematical formula}N∀′, respectively, {a mathematical formula}σa⊎σb⊨Ψ if, and only if, {a mathematical formula}σa⊎σ¯b⊨Ψ. We now show that Ψ is “equivalent” to Φ.Let {a mathematical formula}σa be any truth assignment over {a mathematical formula}N∃. Then, the following statements are equivalent: (1) for each assignment {a mathematical formula}σb over {a mathematical formula}N∀′, {a mathematical formula}σa⊎σb⊭Ψ; (2) for each assignment {a mathematical formula}σΦb over {a mathematical formula}N∀, {a mathematical formula}σa⊎σΦb⊭Φ. The fact that (1) implies (2) is immediate, by just considering the assignments {a mathematical formula}σb such that {a mathematical formula}σb(P) is false. To show that the converse holds, assume that {a mathematical formula}σb is such that {a mathematical formula}σa⊎σb⊨Ψ, so (1) does not hold. In the case where {a mathematical formula}σb(P) is false, then the restriction of {a mathematical formula}σb over the variables in {a mathematical formula}N∀, say {a mathematical formula}σΦb, is such that {a mathematical formula}σa⊎σΦb⊨Φ. Instead, in the case where {a mathematical formula}σb(P) is true, then {a mathematical formula}σ¯Φb is such that {a mathematical formula}σa⊎σ¯Φb⊨Φ. In both cases, we get that (2) does not hold.  □
     </paragraph>
     <paragraph label="Claim 4.8">
      Assume that{a mathematical formula}ε=13. Then,{a mathematical formula}CS-opt(ΓΠ,-ε∃∀)={{A∪{r},Aˆ,N∀∪Nˆ∀}|A⊆N∃∪Nˆ∃ is ∃-consistent}.
     </paragraph>
     <paragraph label="Proof">
      Let {a mathematical formula}ΠA be the coalition structure such that {a mathematical formula}ΠA={A∪{r},Aˆ,N∀∪Nˆ∀}, where {a mathematical formula}A⊆N∃∪Nˆ∃ is ∃-consistent. Note that {a mathematical formula}v(A∪{r})+v(Aˆ)+v(N∀∪Nˆ∀)=1+0+0=1. In fact, {a mathematical formula}ΠA belongs to {a mathematical formula}CS-opt(Γ∃∀). In particular, note that {a mathematical formula}v(Aˆ)=0, because {a mathematical formula}Aˆ is ∃-consistent, {a mathematical formula}r∉Aˆ, and {a mathematical formula}Aˆ⊆N∃∪Nˆ∃. Since we are assuming {a mathematical formula}ε≥0, then {a mathematical formula}ΠA belongs to {a mathematical formula}CS-opt(ΓΠA,-ε∃∀), too. Consider now any coalition structure Π such that {a mathematical formula}Π≠ΠA′ holds, for each set {a mathematical formula}A′⊆N∃∪Nˆ∃ which is ∃-consistent. Note that {a mathematical formula}∑C∈Πv(C)&lt;0 holds, by definition of the payoff function v. Hence, {a mathematical formula}∑C∈ΠvΠ,-ε(C)=∑C∈Πv(C)&lt;0. Instead, {a mathematical formula}vΠ,-ε(A∪{r})+vΠ,-ε(Aˆ)+vΠ,-ε(N∀∪Nˆ∀)≥1−ε+0−ε+0−ε=1−33=0 holds. That is, Π is not optimal in {a mathematical formula}ΓΠ,-ε∃∀.  □
     </paragraph>
     <paragraph label="Claim 5.8">
      Let{a mathematical formula}Rbe any compactP-representation such that{a mathematical formula}mcn≾eR. On the class{a mathematical formula}CTW-1(R), computing the maximum social welfare isNP-hard. In particular, a reduction can be exhibited where optimal coalition structures one-to-one correspond to optimal tours for aTSPinstance provided as input.
     </paragraph>
     <paragraph label="Proof">
      By definition of the marginal contribution network M, each coalition C with {a mathematical formula}t∉C is such that {a mathematical formula}v(C)=0. Therefore, if {a mathematical formula}Π∈CS-opt(Γ), then Π includes an optimal coalition C, whose corresponding optimal tour is {a mathematical formula}T(C). All other agents occur in Π as singletons, as there is no way to form coalitions consisting of more than two agents in absence of t. Eventually, we get {a mathematical formula}SW(Π)=n×W−∑ei,j∈T(C)w(ei,j). On the other hand, it is immediate that if T is an optimal tour, then there is an optimal coalition structure Π including C and all other agents as singletons. As optimal coalition structures correspond to optimal tours, their computation is NP-hard, given the hardness of the traveling salesmen problem.  □
     </paragraph>
     <paragraph label="Claim 5.12">
      Let{a mathematical formula}Rbe any compactP-representation, let{a mathematical formula}Γ∈CTW-1sa(R), and let{a mathematical formula}ε≤0. Then,{a mathematical formula}CS-LCV(Γ)≤εholds if, and only if,{a mathematical formula}{N}∈CS-opt(Γ-ε). Moreover,CS-LCV{sup:−}is in{a mathematical formula}co-NP.
     </paragraph>
     <paragraph label="Proof">
      Since the coalition structure core of Γ is always non-empty [19], by Fact 3.5{a mathematical formula}CS-LCV(Γ)≤ε holds if, and only if, there is a feasible coalition structure Π such that {a mathematical formula}Π∈CS-opt(ΓΠ,-ε). However, because Γ is superadditive and {a mathematical formula}ε≤0, the check can be restricted to the grand-coalition {a mathematical formula}{N}. Moreover, concerning the complexity of CS-LCV{sup:−}, we can just focus on the complementary problem of deciding whether {a mathematical formula}CS-LCV(Γ)&gt;ε, and observe that it can be solved in NP by guessing a feasible coalition structure {a mathematical formula}Π¯ and by checking that {a mathematical formula}∑C¯∈Π¯v-ε(C¯)&gt;v(N) holds.  □
     </paragraph>
     <paragraph label="Claim 6.2">
      Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CL(R), computing the maximum social welfare (and a feasible coalition structure with this value) is inFP.
     </paragraph>
     <paragraph label="Proof">
      Let {a mathematical formula}Γ=〈N,v,G〉 be a game where G is a line, with {a mathematical formula}N={1,…,n}. To keep notation simple and without loss of generality, assume that, for each {a mathematical formula}j∈{1,…,n−1}, there is an edge in G connecting j and {a mathematical formula}j+1, and that there is no further edge in G. Consider the following recursive definition of the values {a mathematical formula}swj, for each {a mathematical formula}j∈{0,…,n}:{a mathematical formula}Moreover, for each {a mathematical formula}j∈{1,…,n}, let {a mathematical formula}Γj=〈{1,…,j},vj,Gj〉 denote the game where {a mathematical formula}Gj is the subgraph of G induced over the nodes {a mathematical formula}{1,…,j} (therefore a line with endpoints 1 and j), and where {a mathematical formula}vj is such that {a mathematical formula}vj(C)=v(C), for each coalition {a mathematical formula}C∈F(Gj). By keeping this notation, it is immediate to check that for each {a mathematical formula}j∈{1,…,n}, {a mathematical formula}swj=SWopt(Γj) holds. Therefore, {a mathematical formula}SWopt(Γ) coincides with the value {a mathematical formula}sw|N|. By implementing the above definition via dynamic programming, it immediately follows that {a mathematical formula}SWopt(Γ) and an optimal coalition structure Π with {a mathematical formula}∑C∈Πv(C)=SWopt(Γ) can be computed in polynomial time when Γ is given according to any P-representation.  □
     </paragraph>
     <paragraph label="Claim 6.4">
      Let{a mathematical formula}Rbe any compactP-representation. On the class{a mathematical formula}CC(R), computing the maximum social welfare (and a feasible coalition structure with this value) is inFP.
     </paragraph>
     <paragraph label="Proof">
      Assume that {a mathematical formula}Γ=〈N,v,G〉 is a game where G is a cycle with {a mathematical formula}|N|=n, and let {a mathematical formula}L1,…,Ln be the n lines that can be obtained by removing exactly one edge from G. Then, an optimal coalition structure is either the grand-coalition N, or the best coalition structure over the optimal coalition structures of {a mathematical formula}L1,…,Ln. Since {a mathematical formula}SWopt(Li) can be computed in polynomial time (with a witness for it), for each {a mathematical formula}i∈{1,…,n} (cf. Claim 6.2), the result is established.  □
     </paragraph>
    </section>
   </appendices>
  </root>
 </body>
</html>